!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=231)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(102),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";e.exports=n(238)},function(e,t,n){e.exports=n(252)()},function(e,t,n){"use strict";t.__esModule=!0;var r=n(135),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(263),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(57),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(277),o=r(i),a=n(281),s=r(a),u=n(57),l=r(u);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){e.exports={default:n(411),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(102),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return ce||(ce=(0,J.default)())}Object.defineProperty(t,"__esModule",{value:!0}),t.sheetsManager=t.preset=void 0;var o=n(33),a=r(o),s=n(4),u=r(s),l=n(5),c=r(l),f=n(0),d=r(f),p=n(1),h=r(p),v=n(6),y=r(v),m=n(7),g=r(m),b=n(8),_=r(b),w=n(20),k=r(w),x=n(296),C=r(x),E=n(2),S=r(E),T=n(3),O=r(T),P=n(17),M=(r(P),n(155)),j=r(M),R=n(156),A=(r(R),n(299)),N=r(A),I=n(158),D=n(322),F=r(D),L=n(323),U=r(L),B=n(324),H=r(B),z=n(325),q=r(z),W=n(327),V=r(W),K=n(332),G=r(K),$=n(157),Y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}($),X=n(116),J=r(X),Q=n(107),Z=r(Q),ee=n(166),te=r(ee),ne=n(347),re=r(ne),ie=t.preset=function(){return{plugins:[(0,F.default)(),(0,U.default)(),(0,H.default)(),(0,q.default)(),(0,V.default)(),(0,G.default)()]}},oe=(0,I.create)(ie()),ae=(0,te.default)(),se=C.default,ue=t.sheetsManager=new k.default,le={},ce=void 0,fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.withTheme,o=void 0!==r&&r,s=t.flip,l=void 0===s?null:s,f=t.name,p=(0,_.default)(t,["withTheme","flip","name"]),v=(0,re.default)(e),m=v.themingEnabled||o||"string"===typeof f;se+=1,v.options.index=se;var b=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e,n));r.state={},r.disableStylesGeneration=!1,r.jss=null,r.sheetOptions=null,r.sheetsManager=ue,r.stylesCreatorSaved=null,r.theme=null,r.unsubscribeId=null,r.jss=r.context[Y.jss]||oe;var o=r.context.muiThemeProviderOptions;return o&&(o.sheetsManager&&(r.sheetsManager=o.sheetsManager),r.disableStylesGeneration=o.disableStylesGeneration),r.stylesCreatorSaved=v,r.sheetOptions=(0,u.default)({generateClassName:ae},r.context[Y.sheetOptions]),r.theme=m?Z.default.initial(n)||i():le,r}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.attach(this.theme)}},{key:"componentDidMount",value:function(){var e=this;m&&(this.unsubscribeId=Z.default.subscribe(this.context,function(t){var n=e.theme;e.theme=t,e.attach(e.theme),e.setState({},function(){e.detach(n)})}))}},{key:"componentWillReceiveProps",value:function(){this.stylesCreatorSaved,0}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&Z.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,n=this.sheetsManager.get(t);n||(n=new k.default,this.sheetsManager.set(t,n));var r=n.get(e);if(r||(r={refs:0,sheet:null},n.set(e,r)),0===r.refs){var i=t.create(e,f),o=f,a=this.jss.createStyleSheet(i,(0,u.default)({meta:o,classNamePrefix:o,flip:"boolean"===typeof l?l:"rtl"===e.direction,link:!1},this.sheetOptions,t.options,{name:f},p));r.sheet=a,a.attach();var s=this.context[Y.sheetsRegistry];s&&s.add(a)}r.refs+=1}}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,n=this.sheetsManager.get(t),r=n.get(e);if(r.refs-=1,0===r.refs){n.delete(e),this.jss.removeStyleSheet(r.sheet);var i=this.context[Y.sheetsRegistry];i&&i.remove(r.sheet)}}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.innerRef,i=(0,_.default)(e,["classes","innerRef"]),s=void 0,l={};if(!this.disableStylesGeneration){var c=this.sheetsManager.get(this.stylesCreatorSaved),f=c.get(this.theme);l=f.sheet.classes}s=t?(0,u.default)({},l,(0,a.default)(t).reduce(function(e,n){return t[n]&&(e[n]=l[n]+" "+t[n]),e},{})):l;var d={};return o&&(d.theme=this.theme),S.default.createElement(n,(0,u.default)({classes:s},d,i,{ref:r}))}}]),t}(S.default.Component);return b.propTypes={},b.contextTypes=(0,u.default)({muiThemeProviderOptions:O.default.object},N.default,m?Z.default.contextTypes:{}),(0,j.default)(b,n),b}};t.default=fe},function(e,t,n){e.exports=n(409)},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"===typeof e}function i(e){return"number"===typeof e}function o(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r=n(21),i=n(14),o=n(30),a=n(32),s=function(e,t,n){var u,l,c,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,y=e&s.W,m=d?i:i[t]||(i[t]={}),g=m.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(l=!f&&b&&void 0!==b[u])&&u in m||(c=l?b[u]:n[u],m[u]=d&&"function"!=typeof b[u]?n[u]:v&&l?o(c,r):y&&b[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((m.virtual||(m.virtual={}))[u]=c,e&s.R&&g&&!g[u]&&a(g,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(99)("wks"),i=n(69),o=n(21).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports={default:n(287),__esModule:!0}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){"use strict";function r(e){return"[object Array]"===C.call(e)}function i(e){return"[object ArrayBuffer]"===C.call(e)}function o(e){return"undefined"!==typeof FormData&&e instanceof FormData}function a(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"===typeof e}function u(e){return"number"===typeof e}function l(e){return"undefined"===typeof e}function c(e){return null!==e&&"object"===typeof e}function f(e){return"[object Date]"===C.call(e)}function d(e){return"[object File]"===C.call(e)}function p(e){return"[object Blob]"===C.call(e)}function h(e){return"[object Function]"===C.call(e)}function v(e){return c(e)&&h(e.pipe)}function y(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function m(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function _(){function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function w(e,t,n){return b(t,function(t,r){e[r]=n&&"function"===typeof t?k(t,n):t}),e}var k=n(225),x=n(531),C=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isBuffer:x,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:c,isUndefined:l,isDate:f,isFile:d,isBlob:p,isFunction:h,isStream:v,isURLSearchParams:y,isStandardBrowserEnv:g,forEach:b,merge:_,extend:w,trim:m}},function(e,t,n){var r=n(28),i=n(136),o=n(94),a=Object.defineProperty;t.f=n(25)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(36)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return[e].concat((0,c.default)(t))}var o=n(0),a=r(o),s=n(1),u=r(s),l=n(39),c=r(l);Object.defineProperty(t,"__esModule",{value:!0});var f=n(48),d=function(){function e(){(0,a.default)(this,e),this.prefix=""}return(0,u.default)(e,[{key:"setLevel",value:function(e){f.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.trace.apply(null,i("Chat T:"+this.prefix,t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(null,i("Chat D:"+this.prefix,t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(null,i("Chat I:"+this.prefix,t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(null,i("Chat W:"+this.prefix,t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(null,i("Chat E:"+this.prefix,t))}}],[{key:"scope",value:function(t){return new e}},{key:"setLevel",value:function(e){f.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.trace.apply(null,i("Chat T:",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(null,i("Chat D:",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(null,i("Chat I:",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(null,i("Chat W:",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(null,i("Chat E:",t))}}]),e}();t.Logger=d},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(239)},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports={default:n(418),__esModule:!0}},function(e,t,n){var r=n(53);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports={default:n(443),__esModule:!0}},function(e,t,n){var r=n(24),i=n(54);e.exports=n(25)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(285),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t){return(0,d.default)(t).every(function(n){return e.hasOwnProperty(n)&&e[n]===t[n]})}function a(e,t){for(var n="undefined"===typeof t?"undefined":(0,c.default)(t),r=0;r<e.length;r+=1){if("function"===n&&!0===!!t(e[r],r,e))return r;if("object"===n&&o(e[r],t))return r;if(-1!==["string","number","boolean"].indexOf(n))return e.indexOf(t)}return-1}function s(e,t){var n=a(e,t);return n>-1?e[n]:void 0}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},function(){})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(57),c=r(l),f=n(33),d=r(f);t.capitalizeFirstLetter=i,t.contains=o,t.findIndex=a,t.find=s,t.createChainedFunction=u;var p=n(17);r(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(385);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(266)(!0);n(104)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports={default:n(392),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return 0===p.createPatch(e,t).length}function o(e){return JSON.parse((0,d.default)(e))}function a(e){return"undefined"===typeof e||isNaN(Number(e))?null:Number(e)}var s=n(0),u=r(s),l=n(1),c=r(l),f=n(29),d=r(f);Object.defineProperty(t,"__esModule",{value:!0});var p=n(189);t.isDeepEqual=i,t.deepClone=o,t.parseToNumber=a;var h=function(){function e(t){(0,u.default)(this,e),this.base=t.replace(/\/$/,""),this.args=[],this.paths=[]}return(0,c.default)(e,[{key:"arg",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();t.UriBuilder=h},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"\x1b["+i.colors[n][0]+"m"+e+"\x1b["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=l(e,n);if(o)return o;var a=Object.keys(n),v=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(S(n)){var y=n.name?": "+n.name:"";return e.stylize("[Function"+y+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return c(n)}var m="",g=!1,_=["{","}"];if(h(n)&&(g=!0,_=["[","]"]),S(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(k(n)&&(m=" "+RegExp.prototype.toString.call(n)),C(n)&&(m=" "+Date.prototype.toUTCString.call(n)),E(n)&&(m=" "+c(n)),0===a.length&&(!g||0==n.length))return _[0]+m+_[1];if(r<0)return k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var w;return w=g?f(e,n,r,v,a):a.map(function(t){return d(e,n,r,v,t,g)}),e.seen.pop(),p(w,m,_)}function l(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)j(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=y(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function y(e){return null===e}function m(e){return null==e}function g(e){return"number"===typeof e}function b(e){return"string"===typeof e}function _(e){return"symbol"===typeof e}function w(e){return void 0===e}function k(e){return x(e)&&"[object RegExp]"===O(e)}function x(e){return"object"===typeof e&&null!==e}function C(e){return x(e)&&"[object Date]"===O(e)}function E(e){return x(e)&&("[object Error]"===O(e)||e instanceof Error)}function S(e){return"function"===typeof e}function T(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function O(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])y(s)||!x(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var A,N={};t.debuglog=function(e){if(w(A)&&(A=Object({NODE_ENV:"production",PUBLIC_URL:""}).NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var n=r.pid;N[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else N[e]=function(){};return N[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=v,t.isNull=y,t.isNullOrUndefined=m,t.isNumber=g,t.isString=b,t.isSymbol=_,t.isUndefined=w,t.isRegExp=k,t.isObject=x,t.isDate=C,t.isError=E,t.isFunction=S,t.isPrimitive=T,t.isBuffer=n(449);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n(450),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(18),n(65))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]};if(n.search.length>0){var r=n.search.substring(1);n.params=r.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e},{})}return n}throw new Error("Incorrect URI: "+e)}function s(e,t){var n=a(t),r={method:e,host:n.host,path:n.pathname};return n.params&&(r.params=n.params),r}function u(e,t,n,r){return{to:s(e,t),headers:n,body:r}}function l(e){return{status:e.header.http_status,headers:e.header.http_headers,body:e.body}}function c(e,t,n){return{url:e,headers:t,body:n}}function f(e){try{e.body=JSON.parse(e.body)}catch(e){}return e}function d(e){for(var t=Object.keys(e.headers),n=t.length,r={};n--;){var i=t[n];r[i.toLowerCase()]=e.headers[i]}return e.headers=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.TwilsockUnavailableError=t.Transport=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(467),v=function(e){return e&&e.__esModule?e:{default:e}}(h),y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)),m=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),Object.defineProperties(this,{_activeGetRequests:{value:new Map},_twilsock:{value:t},_http:{value:v.default},_twilsockIsAvailable:{get:function(){return n._twilsock&&n._twilsock.isConnected}},_concurrentHttpRequestLimit:{value:i.concurrentHttpRequestLimit||1/0},_concurrentHttpRequestCount:{value:0,writable:!0},_requestQueue:{value:[]}}),t&&(t.connect(),t.on("connected",function(){return n._processQueuedRequests()}))}return p(e,[{key:"get",value:function(e,t,n){var r=this;if(this._activeGetRequests.has(e))return this._activeGetRequests.get(e);var i=this._get(e,t,n).then(function(t){return r._activeGetRequests.delete(e),t}).catch(function(t){throw r._activeGetRequests.delete(e),t});return this._activeGetRequests.set(e,i),i}},{key:"_oneOfBasedOnChannelAvailability",value:function(e,t){var n=this;return function(r){var i=r.sendViaTwilsock,o=r.sendDirectHttp;return n._twilsockIsAvailable?i():t?Promise.reject(new y):n._concurrentHttpRequestCount>=n._concurrentHttpRequestLimit?new Promise(function(t,r){return n._requestQueue.push({sendingOptions:e,resolve:t,reject:r})}):(n._concurrentHttpRequestCount++,o().then(function(e){return n._concurrentHttpRequestCount--,n._processQueuedRequests(),e}).catch(function(e){throw n._concurrentHttpRequestCount--,n._processQueuedRequests(),e}))}(e).then(d)}},{key:"_processQueuedRequests",value:function(){for(;this._requestQueue.length>0&&(this._twilsockIsAvailable||this._concurrentHttpRequestCount<this._concurrentHttpRequestLimit);){var e=this._requestQueue.shift();this._oneOfBasedOnChannelAvailability(e.sendingOptions,!1).then(e.resolve).catch(e.reject)}}},{key:"_get",value:function(e,t,n){var r=this;return this._oneOfBasedOnChannelAvailability({sendViaTwilsock:function(){return r._twilsock.send(u("GET",e,t)).then(l)},sendDirectHttp:function(){return r._http.get(c(e,t)).then(f)}},n)}},{key:"post",value:function(e,t,n,r){var i=this;return this._oneOfBasedOnChannelAvailability({sendViaTwilsock:function(){return i._twilsock.send(u("POST",e,t,n)).then(l)},sendDirectHttp:function(){return i._http.post(c(e,t,n)).then(f)}},r)}},{key:"put",value:function(e,t,n,r){var i=this;return this._oneOfBasedOnChannelAvailability({sendViaTwilsock:function(){return i._twilsock.send(u("PUT",e,t,n)).then(l)},sendDirectHttp:function(){return i._http.put(c(e,t,n)).then(f)}},r)}},{key:"delete",value:function(e,t,n){var r=this;return this._oneOfBasedOnChannelAvailability({sendViaTwilsock:function(){return r._twilsock.send(u("DELETE",e,t)).then(l)},sendDirectHttp:function(){return r._http.delete(c(e,t)).then(f)}},n)}}]),e}();t.default=m,t.Transport=m,t.TwilsockUnavailableError=y},function(e,t,n){var r=n(95),i=n(96);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(96);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){n(268);for(var r=n(21),i=n(32),o=n(45),a=n(19)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(17),l=r(u),c=n(113),f=r(c),d=n(76),p=r(d),h=function(){function e(t,n,r){i(this,e),this.type="style",this.isProcessed=!1;var o=r.sheet,a=r.Renderer,s=r.selector;this.key=t,this.options=r,this.style=n,s&&(this.selectorText=s),this.renderer=o?o.renderer:new a}return s(e,[{key:"prop",value:function(e,t){if(null!=t){if(this.style[e]!==t)if(t=this.options.jss.plugins.onChangeValue(t,e,this),this.style[e]=t,this.renderable)this.renderer.setStyle(this.renderable,e,t);else{var n=this.options.sheet;n&&n.attached&&(0,l.default)(!1,'Rule is not linked. Missing sheet option "link: true".')}return this}return this.style[e]}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var n in t)this.renderer.setStyle(e,n,t[n]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==("undefined"===typeof n?"undefined":a(n))?e[t]=n:Array.isArray(n)&&(e[t]=(0,p.default)(n))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,n=!!t&&t.options.link,r=n?o({},e,{allowEmpty:!0}):e;return(0,f.default)(this.selector,this.style,r)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable)){if(!this.renderer.setSelector(this.renderable,e)&&this.renderable){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}}},get:function(){return this.selectorText}}]),e}();t.default=h},function(e,t,n){var r,i;!function(o,a){"use strict";r=a,void 0!==(i="function"===typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==s&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a)}function n(e,t){for(var n=0;n<u.length;n++){var r=u[n];this[r]=n<e?a:this.methodFactory(r,e,t)}this.log=this.debug}function r(e,t,r){return function(){typeof console!==s&&(n.call(this,t,r),this[e].apply(this,arguments))}}function i(e,n,i){return t(e)||r.apply(this,arguments)}function o(e,t,r){function o(e){var t=(u[e]||"silent").toUpperCase();if(typeof window!==s){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function a(){var e;if(typeof window!==s){try{e=window.localStorage[f]}catch(e){}if(typeof e===s)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var l,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||i,c.getLevel=function(){return l},c.setLevel=function(t,r){if("string"===typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"===typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(l=t,!1!==r&&o(t),n.call(c,t,e),typeof console===s&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){a()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=a();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var a=function(){},s="undefined",u=["trace","debug","info","warn","error"],l=new o,c={};l.getLogger=function(e){if("string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new o(e,l.getLevel(),l.methodFactory)),t};var f=typeof window!==s?window.log:void 0;return l.noConflict=function(){return typeof window!==s&&window.log===l&&(window.log=f),l},l.getLoggers=function(){return c},l})},function(e,t,n){e.exports={default:n(420),__esModule:!0}},function(e,t,n){e.exports={default:n(436),__esModule:!0}},function(e,t,n){"use strict";function r(e,t){return[e].concat((0,o.default)(t))}var i=n(39),o=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(t,"__esModule",{value:!0});var a=n(48);t.default={setLevel:function(e){a.setLevel(e)},trace:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,r("Sync T:",t))},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,r("Sync D:",t))},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,r("Sync I:",t))},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,r("Sync W:",t))},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,r("Sync E:",t))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(255);Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return r(i).default}});var o=n(12);Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return r(o).default}});var a=n(117);Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return r(a).default}});var s=n(116);Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return r(s).default}});var u=n(166);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return r(u).default}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(137),i=n(100);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(139),o=r(i),a=n(270),s=r(a),u="function"===typeof s.default&&"symbol"===typeof o.default?function(e){return typeof e}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"===typeof s.default&&"symbol"===u(o.default)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)}},function(e,t,n){var r=n(24).f,i=n(37),o=n(19)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(30),i=n(148),o=n(149),a=n(28),s=n(68),u=n(111),l={},c={},t=e.exports=function(e,t,n,f,d){var p,h,v,y,m=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=s(e.length);p>b;b++)if((y=t?g(a(h=e[b])[0],h[1]):g(e[b]))===l||y===c)return y}else for(v=m.call(e);!(h=v.next()).done;)if((y=i(v,g,h.value,t))===l||y===c)return y};t.BREAK=l,t.RETURN=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(77),u=r(s),l=n(162),c=r(l),f=n(47),d=r(f),p=n(307),h=r(p),v=function(){function e(t){i(this,e),this.map={},this.raw={},this.index=[],this.options=t,this.classes=t.classes}return a(e,[{key:"add",value:function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,c=r.generateClassName;n=o({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:l,generateClassName:c},n),!n.selector&&this.classes[e]&&(n.selector="."+(0,h.default)(this.classes[e])),this.raw[e]=t;var f=(0,u.default)(e,t,n),p=void 0;!n.selector&&f instanceof d.default&&(p=c(f,a),f.selector="."+(0,h.default)(p)),this.register(f,p);var v=void 0===n.index?this.index.length:n.index;return this.index.splice(v,0,f),f}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof d.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof d.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"update",value:function(e,t){var n=this.options,r=n.jss.plugins,i=n.sheet;if("string"===typeof e)return void r.onUpdate(t,this.get(e),i);for(var o=0;o<this.index.length;o++)r.onUpdate(e,this.index[o],i)}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),n=0;n<e.length;n++){var r=e[n],i=this.options.sheet.renderer.getKey(r);t[i]&&(i=t[i]);var o=this.map[i];o&&(0,c.default)(o,r)}}},{key:"toString",value:function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i],a=o.toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var i=n(33),o=(r(i),n(8)),a=r(o),s=n(342),u=r(s),l=n(17),c=(r(l),t.easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}),f=t.duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},d=t.formatMs=function(e){return Math.round(e)+"ms"};t.isString=function(e){return"string"===typeof e},t.isNumber=function(e){return!(0,u.default)(parseFloat(e))};t.default={easing:c,duration:f,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?f.standard:n,i=t.easing,o=void 0===i?c.easeInOut:i,s=t.delay,u=void 0===s?0:s;(0,a.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return e+" "+d(r)+" "+o+" "+d(u)}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(406);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){var r=n(445),i=n(198),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):y=-1,h.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return JSON.parse((0,c.default)(e))}var o=n(0),a=r(o),s=n(1),u=r(s),l=n(29),c=r(l);Object.defineProperty(t,"__esModule",{value:!0}),t.deepClone=i;var f=function(){function e(t){(0,a.default)(this,e),this.base=t,this.args=new Array,this.paths=new Array}return(0,u.default)(e,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();t.UriBuilder=f},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){var r=n(97),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=!0},function(e,t,n){var r=n(28),i=n(141),o=n(100),a=n(98)("IE_PROTO"),s=function(){},u=function(){var e,t=n(93)("iframe"),r=o.length;for(t.style.display="none",n(142).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(69)("meta"),i=n(22),o=n(37),a=n(24).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(36)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t){},function(e,t,n){var r=n(56),i=n(19)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=i(e[r]," ");else n=i(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],n=arguments[2],r=n.jss,i=(0,c.default)(t),o=r.plugins.onCreateRule(e,i,n);return o||("@"===e[0]&&(0,a.default)(!1,"[JSS] Unknown at-rule %s",e),new u.default(e,i,n))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(17),a=r(o),s=n(47),u=r(s),l=n(303),c=r(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isBrowser",function(){return i});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.default=i},function(e,t,n){"use strict";function r(e){return!!e&&"object"===typeof e}function i(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||o(e)}function o(e){return e.$$typeof===p}function a(e){return Array.isArray(e)?[]:{}}function s(e,t){return t&&!1===t.clone||!f(e)?e:c(a(e),e,t)}function u(e,t,n){return e.concat(t).map(function(e){return s(e,n)})}function l(e,t,n){var r={};return f(e)&&Object.keys(e).forEach(function(t){r[t]=s(e[t],n)}),Object.keys(t).forEach(function(i){f(t[i])&&e[i]?r[i]=c(e[i],t[i],n):r[i]=s(t[i],n)}),r}function c(e,t,n){var r=Array.isArray(t),i=Array.isArray(e),o=n||{arrayMerge:u};if(r===i)return r?(o.arrayMerge||u)(e,t,n):l(e,t,n);return s(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){return r(e)&&!i(e)},d="function"===typeof Symbol&&Symbol.for,p=d?Symbol.for("react.element"):60103;c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return c(e,n,t)},{})};var h=c;t.default=h},function(e,t,n){"use strict";function r(e,t,n){return e<t?t:e>n?n:e}function i(e){var t=e.type,n=e.values;if(t.indexOf("rgb")>-1)for(var r=0;r<3;r+=1)n[r]=parseInt(n[r],10);var i=void 0;return i=t.indexOf("hsl")>-1?e.type+"("+n[0]+", "+n[1]+"%, "+n[2]+"%":e.type+"("+n[0]+", "+n[1]+", "+n[2],4===n.length?i+=", "+e.values[3]+")":i+=")",i}function o(e){if(4===e.length){for(var t="#",n=1;n<e.length;n+=1)t+=e.charAt(n)+e.charAt(n);e=t}var r={r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)};return"rgb("+r.r+", "+r.g+", "+r.b+")"}function a(e){if("#"===e.charAt(0))return a(o(e));var t=e.indexOf("("),n=e.substring(0,t),r=e.substring(t+1,e.length-1).split(",");return r=r.map(function(e){return parseFloat(e)}),{type:n,values:r}}function s(e,t){var n=u(e),r=u(t),i=(Math.max(n,r)+.05)/(Math.min(n,r)+.05);return Number(i.toFixed(2))}function u(e){var t=a(e);if(t.type.indexOf("rgb")>-1){var n=t.values.map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}if(t.type.indexOf("hsl")>-1)return t.values[2]/100;throw new Error("Material-UI: unsupported `"+e+"` color.")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?f(e,t):d(e,t)}function c(e,t){return e=a(e),t=r(t,0,1),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,i(e)}function f(e,t){if(e=a(e),t=r(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")>-1)for(var n=0;n<3;n+=1)e.values[n]*=1-t;return i(e)}function d(e,t){if(e=a(e),t=r(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")>-1)for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertColorToString=i,t.convertHexToRGB=o,t.decomposeColor=a,t.getContrastRatio=s,t.getLuminance=u,t.emphasize=l,t.fade=c,t.darken=f,t.lighten=d},function(e,t){t=e.exports=function(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var i=String(e),a=n[i.toLowerCase()];if(a)return a;var a=r[i.toLowerCase()];return a||(1===i.length?i.charCodeAt(0):void 0)};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=t.names=t.title={};for(i in n)o[n[i]]=i;for(var a in r)n[a]=r[a]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"===typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,T.default)({},I,e)}function o(e,t,n){var r=[e,t];return r.push(N.passiveOption?n:n.capture),r}function a(e,t,n,r){e.addEventListener.apply(e,o(t,n,r))}function s(e,t,n,r){e.removeEventListener.apply(e,o(t,n,r))}function u(e,t){var n=(e.children,e.target,(0,E.default)(e,["children","target"]));(0,x.default)(n).forEach(function(e){if("on"===e.substring(0,2)){var r=n[e],o="undefined"===typeof r?"undefined":(0,w.default)(r),a="object"===o,s="function"===o;if(a||s){var u="capture"===e.substr(-7).toLowerCase(),l=e.substring(2).toLowerCase();l=u?l.substring(0,l.length-7):l,a?t(l,r.handler,r.options):t(l,r,i({capture:u}))}}})}function l(e,t){return{handler:e,options:i(t)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(57),w=r(_),k=n(33),x=r(k),C=n(8),E=r(C),S=n(135),T=r(S);t.withOptions=l;var O=n(2),P=r(O),M=n(3),j=(r(M),n(92)),R=r(j),A=n(17),N=(r(A),n(371)),I={capture:!1,passive:!1},D=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"shouldComponentUpdate",value:function(e){return!(0,R.default)(this.props,e)}},{key:"componentWillUpdate",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"addListeners",value:function(){this.applyListeners(a)}},{key:"removeListeners",value:function(){this.applyListeners(s)}},{key:"applyListeners",value:function(e){var t=this.props.target;if(t){var n=t;"string"===typeof t&&(n=window[t]),u(this.props,e.bind(null,n))}}},{key:"render",value:function(){return this.props.children||null}}]),t}(P.default.Component);D.propTypes={},t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(387);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(403),o=r(i),a=n(405),s=r(a),u=n(179),l=(r(u),n(180)),c=(r(l),function(e){var t=(0,o.default)(function(e,t){return!(0,s.default)(e,t)});return t(e)});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(9),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u);Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(t,n,r,i){(0,s.default)(this,e),this.state={prevToken:r,nextToken:i,source:n,items:t}}return(0,l.default)(e,[{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):o.default.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):o.default.reject(new Error("No previous page"))}},{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}}]),e}();t.RestPaginator=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=function(e){function t(t){var n=e.call(this)||this;return n.minDelay=t.min,n.maxDelay=t.max,n.initialDelay=t.initial||0,n.maxAttemptsCount=t.maxAttemptsCount||0,n.maxAttemptsTime=t.maxAttemptsTime||0,n.randomness=t.randomness||0,n.inProgress=!1,n.attemptNum=0,n.prevDelay=0,n.currDelay=0,n}return r(t,e),t.prototype.attempt=function(){clearTimeout(this.timeout),this.attemptNum++,this.timeout=null,this.emit("attempt",this)},t.prototype.nextDelay=function(e){if("number"===typeof e)return this.prevDelay=0,this.currDelay=e,e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;var t=this.currDelay+this.prevDelay;return this.prevDelay=this.currDelay,this.currDelay=t,t},t.prototype.randomize=function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)},t.prototype.scheduleAttempt=function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),this.emit("failed",new Error("Maximum attempt count limit reached")),void this.reject(new Error("Maximum attempt count reached"));var n=this.nextDelay(e);n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n&&(this.cleanup(),this.emit("failed",new Error("Maximum attempt time limit reached")),this.reject(new Error("Maximum attempt time limit reached"))),this.timeout=setTimeout(function(){return t.attempt()},n)},t.prototype.cleanup=function(){clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0},t.prototype.start=function(){var e=this;if(this.inProgress)throw new Error("Retrier is already in progress");return this.inProgress=!0,new Promise(function(t,n){e.resolve=t,e.reject=n,e.startTimestamp=Date.now(),e.scheduleAttempt(e.initialDelay)})},t.prototype.cancel=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"),this.reject(new Error("Cancelled")))},t.prototype.succeeded=function(e){this.emit("succeeded",e),this.resolve(e)},t.prototype.failed=function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)},t.prototype.run=function(e){var t=this;return this.on("attempt",function(){e().then(function(e){return t.succeeded(e)}).catch(function(e){return t.failed(e)})}),this.start()},t}(i.EventEmitter);t.Retrier=o,t.default=o},function(e,t,n){e.exports={default:n(438),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a=n(0),s=r(a),u=n(6),l=r(u),c=n(7),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,s.default)(this,t);var i=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.name=i.constructor.name,i.message=e,i.status=n,i.code=r,i}return(0,f.default)(t,e),t}(Error);t.SyncError=d,t.default=d},function(e,t,n){e.exports=n(530)},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){var r=n(22),i=n(21).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(56);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(99)("keys"),i=n(69);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(21),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(261),__esModule:!0}},function(e,t,n){var r=n(16),i=n(14),o=n(36);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=n(71),i=n(16),o=n(140),a=n(32),s=n(37),u=n(45),l=n(267),c=n(58),f=n(138),d=n(19)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,y,m,g){l(n,t,v);var b,_,w,k=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",C="values"==y,E=!1,S=e.prototype,T=S[d]||S["@@iterator"]||y&&S[y],O=!p&&T||k(y),P=y?C?k("entries"):O:void 0,M="Array"==t?S.entries||T:T;if(M&&(w=f(M.call(new e)))!==Object.prototype&&w.next&&(c(w,x,!0),r||s(w,d)||a(w,d,h)),C&&T&&"values"!==T.name&&(E=!0,O=function(){return T.call(this)}),r&&!g||!p&&!E&&S[d]||a(S,d,O),u[t]=O,u[x]=h,y)if(b={values:C?O:k("values"),keys:m?O:k("keys"),entries:P},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||E),t,b);return b}},function(e,t,n){t.f=n(19)},function(e,t,n){var r=n(21),i=n(14),o=n(71),a=n(105),s=n(24).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL=void 0;var i=n(10),o=r(i),a=n(3),s=r(a),u=t.CHANNEL="__THEMING__",l={contextTypes:(0,o.default)({},u,s.default.object),initial:function(e){return e[u]?e[u].getState():null},subscribe:function(e,t){return e[u]?e[u].subscribe(t):null},unsubscribe:function(e,t){e[u]&&e[u].unsubscribe(t)}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,c.default)({},e,(0,a.default)({},f,function(n){var r=(0,u.default)(n).filter(function(t){return!e.hasOwnProperty(t)});return r.length>0?new TypeError(t+": unknown props found: "+r.join(", ")+". Please remove the unknown properties."):null}))}Object.defineProperty(t,"__esModule",{value:!0}),t.specialProperty=void 0;var o=n(10),a=r(o),s=n(33),u=r(s),l=n(4),c=r(l);t.default=i;var f=t.specialProperty="exact-prop: \u200b"},function(e,t,n){var r=n(32);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(75),i=n(19)("iterator"),o=n(45);e.exports=n(14).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function r(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";if(!t)return i;var o=n.indent,s=void 0===o?0:o,u=t.fallbacks;if(s++,u)if(Array.isArray(u))for(var l=0;l<u.length;l++){var c=u[l];for(var f in c){var d=c[f];null!=d&&(i+="\n"+r(f+": "+(0,a.default)(d)+";",s))}}else for(var p in u){var h=u[p];null!=h&&(i+="\n"+r(p+": "+(0,a.default)(h)+";",s))}for(var v in t){var y=t[v];null!=y&&"fallbacks"!==v&&(i+="\n"+r(v+": "+(0,a.default)(y)+";",s))}return i||n.allowEmpty?(s--,i=r(e+" {"+i+"\n",s)+r("}",s)):i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(76),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=new i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o="",a="";if(i.default){var s={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},u=document.createElement("p").style;for(var l in s)if(l+"Transform"in u){o=l,a=s[l];break}}t.default={js:o,css:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.palette,n=void 0===t?{}:t,r=e.breakpoints,i=void 0===r?{}:r,o=e.mixins,s=void 0===o?{}:o,l=e.typography,f=void 0===l?{}:l,d=e.shadows,h=(0,u.default)(e,["palette","breakpoints","mixins","typography","shadows"]),y=(0,m.default)(n),g=(0,v.default)(i),_=(0,a.default)({direction:"ltr",palette:y,typography:(0,p.default)(y,f),mixins:(0,b.default)(g,T.default,s),breakpoints:g,shadows:d||w.default},(0,c.default)({transitions:x.default,spacing:T.default,zIndex:E.default},h));return _}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(8),u=r(s),l=n(79),c=r(l),f=n(17),d=(r(f),n(333)),p=r(d),h=n(334),v=r(h),y=n(335),m=r(y),g=n(340),b=r(g),_=n(341),w=r(_),k=n(61),x=r(k),C=n(345),E=r(C),S=n(346),T=r(S);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return E||(E=(0,k.default)())}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(5),u=r(s),l=n(0),c=r(l),f=n(1),d=r(f),p=n(6),h=r(p),v=n(7),y=r(v),m=n(2),g=r(m),b=n(155),_=r(b),w=n(116),k=r(w),x=n(107),C=r(x),E=void 0,S=function(){return function(e){var t=function(t){function n(e,t){(0,c.default)(this,n);var r=(0,h.default)(this,(n.__proto__||(0,u.default)(n)).call(this,e,t));return r.state={},r.unsubscribeId=null,r.state={theme:C.default.initial(t)||i()},r}return(0,y.default)(n,t),(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=C.default.subscribe(this.context,function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&C.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){return g.default.createElement(e,(0,a.default)({theme:this.state.theme},this.props))}}]),n}(g.default.Component);return t.contextTypes=C.default.contextTypes,(0,_.default)(t,e),t}};t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){}t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var l=n(3),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(2),d=r(f),p=n(27),h=r(p),v=(n(370),t.UNMOUNTED="unmounted"),y=t.EXITED="exited",m=t.ENTERING="entering",g=t.ENTERED="entered",b=t.EXITING="exiting",_=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r)),s=r.transitionGroup,u=s&&!s.isMounting?n.enter:n.appear,l=void 0;return i.nextStatus=null,n.in?u?(l=y,i.nextStatus=m):l=g:l=n.unmountOnExit||n.mountOnEnter?v:y,i.state={status:l},i.nextCallback=null,i}return s(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=this.pendingState||this.state,n=t.status;e.in?(n===v&&this.setState({status:y}),n!==m&&n!==g&&(this.nextStatus=m)):n!==m&&n!==g||(this.nextStatus=b)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0;return t=n=r=e,null!=e&&"number"!==typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=h.default.findDOMNode(this);t===m?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===y&&this.setState({status:v})},t.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();if(!t&&!r)return void this.safeSetState({status:g},function(){n.props.onEntered(e)});this.props.onEnter(e,i),this.safeSetState({status:m},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:g},function(){n.props.onEntered(e,i)})})})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();if(!n)return void this.safeSetState({status:y},function(){t.props.onExited(e)});this.props.onExit(e),this.safeSetState({status:b},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:y},function(){t.props.onExited(e)})})})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===v)return null;var t=this.props,n=t.children,r=i(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=d.default.Children.only(n);return d.default.cloneElement(o,r)},t}(d.default.Component);_.contextTypes={transitionGroup:c.object},_.childContextTypes={transitionGroup:function(){}},_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},_.UNMOUNTED=0,_.EXITED=1,_.ENTERING=2,_.ENTERED=3,_.EXITING=4,t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(380);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(386);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(53);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(430),o=r(i),a=n(49),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(435),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return[e].concat((0,a.default)(t))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),a=r(o),s=n(48),u=r(s);t.default={setLevel:function(e){u.default.setLevel(e)},trace:function(){u.default.trace.apply(null,i("Twilsock T:",arguments))},debug:function(){u.default.debug.apply(null,i("Twilsock D:",arguments))},info:function(){u.default.info.apply(null,i("Twilsock I:",arguments))},warn:function(){u.default.warn.apply(null,i("Twilsock W:",arguments))},error:function(){u.default.error.apply(null,i("Twilsock E:",arguments))}},e.exports=t.default},function(e,t,n){var r=n(199),i=n(452),o=n(201),a=n(453);e.exports.Backoff=r,e.exports.FunctionCall=a,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(e){return new r(new o(e))},e.exports.exponential=function(e){return new r(new i(e))},e.exports.call=function(e,t,n){var r=Array.prototype.slice.call(arguments);return e=r[0],t=r.slice(1,r.length-1),n=r[r.length-1],new a(e,t,n)}},function(e,t,n){e.exports=n(448)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return[e].concat((0,a.default)(t))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),a=r(o),s=n(48),u=r(s);t.default={setLevel:function(e){u.default.setLevel(e)},trace:function(){u.default.trace.apply(null,i("Notify T:",arguments))},debug:function(){u.default.debug.apply(null,i("Notify D:",arguments))},info:function(){u.default.info.apply(null,i("Notify I:",arguments))},warn:function(){u.default.warn.apply(null,i("Notify W:",arguments))},error:function(){u.default.error.apply(null,i("Notify E:",arguments))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(5),s=r(a),u=n(1),l=r(u),c=n(6),f=r(c),d=n(7),p=r(d),h=n(0),v=r(h),y=n(9),m=r(y),g=function(e,t,n,r){return new(n||(n=m.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var b=n(15),_=n(87),w=n(469),k=n(205),x=n(470),C=n(42),E=function e(){(0,v.default)(this,e)},S=function(e){function t(e){(0,v.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e=e||{},e.transport=e.transport||new C.Transport(e.twilsockClient||null),n.state=new x.PersistentState,n.config=new w.default(e),n.twilsock=e.twilsockClient,n.transport=e.transport,n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"setToken",value:function(e){return g(this,void 0,void 0,o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentFpaToken!==e&&(this.currentFpaToken=e,n=this.currentTokenRequest,this.currentTokenRequest=this.establishToken(e),this.notifyRejected(n)),t.abrupt("return",this.currentTokenRequest.promise);case 2:case"end":return t.stop()}},t,this)}))}},{key:"notifyRejected",value:function(e){e&&setTimeout(function(){return e.reject(new Error("Operation has been cancelled by next token"))},0)}},{key:"establishToken",value:function(e){var t=this,n=new E,r=new m.default(function(r,i){t.establishTokenImpl(e).then(r).catch(i),n.resolve=r,n.reject=i});return n.promise=r,n}},{key:"establishTokenImpl",value:function(e){return g(this,void 0,void 0,o.default.mark(function t(){var n=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _.default({min:500,max:2e3}).run(function(){return n.requestRtdToken(e)}).then(function(t){if("ok"!=t.status)throw t.exception;if(n.currentFpaToken===e){n.state.continuationToken=t.response.continuation_token;var r=t.response.twilio_rtd_token;"NEW"===t.response.status.status?n.emit("tokenCreated",r):n.emit("tokenUpdated",r),n.emit("token",r);var i={token:t.response.twilio_rtd_token,ttl:t.response.ttl,status:t.response.status.status,reason:t.response.status.reason||null,identity:t.response.identity||null,accountSid:t.response.account_sid,serviceSids:t.response.instance_sids};return n.emit("response",i),i}}).catch(function(e){throw k.default.error(e),e}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"requestRtdToken",value:function(e){return g(this,void 0,void 0,o.default.mark(function t(){var n,r,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},r={fpa_token:e,continuation_token:this.state.continuationToken},k.default.debug("Token request",r),t.prev=3,t.next=6,this.transport.post(this.config.url,n,r);case 6:return i=t.sent,k.default.debug("Token response:",i),t.abrupt("return",{status:"ok",token:e,response:i.body});case 11:if(t.prev=11,t.t0=t.catch(3),401!==t.t0.status&&403!==t.t0.status){t.next=16;break}return t.t0 instanceof Error||(t.t0.body?t.t0=new Error(t.t0.body.message):t.t0.description&&(t.t0=new Error(t.t0.description))),t.abrupt("return",{status:"denied",exception:t.t0,token:null,response:null});case 16:throw t.t0;case 17:case"end":return t.stop()}},t,this,[[3,11]])}))}}]),t}(b.EventEmitter);t.EmsClient=S;var T=S;t.EMSClient=T,t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(6),f=r(c),d=n(7),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(15),v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.services=e,r.removalHandler=n,r.subscriptionState="none",r}return(0,p.default)(t,e),(0,l.default)(t,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.emit("failure",e)}},{key:"_subscribe",value:function(){return this.services.router.subscribe(this.sid,this),this}},{key:"_unsubscribe",value:function(){return this.services.router.unsubscribe(this.sid,this),this}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.emit("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName)}}]),t}(h.EventEmitter);t.SyncEntity=v,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(50),o=r(i),a=n(9),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(){(0,l.default)(this,e),this.queue=new Array,this.isActive=!1}return(0,f.default)(e,[{key:"wakeupQueue",value:function(){var e=this;!this.isActive&&this.queue.length>0&&(this.isActive=!0,setTimeout(function(){return e.executeTask(e.queue[0])},0))}},{key:"pickNext",value:function(){var e=this;if(this.queue.shift(),0===this.queue.length)return void(this.isActive=!1);setTimeout(function(){return e.executeTask(e.queue[0])},0)}},{key:"pickSame",value:function(e){var t=this;this.queue[0].arg=e,setTimeout(function(){return t.executeTask(t.queue[0])},0)}},{key:"executeTask",value:function(e){var t=this;e.task(e.context,e.arg).then(function(n){t.pickNext(),e.resolve(n)}).catch(function(n){try{if(!e.handle)throw n;e.handle(n).then(function(e){return t.pickSame(e)}).catch(e.reject)}catch(t){e.reject(n)}})}},{key:"add",value:function(e,t,n,r){var i=this;return new s.default(function(o,a){i.queue.push({task:e,context:t,arg:n,handle:r,resolve:o,reject:a}),i.wakeupQueue()})}}]),e}();t.RetryingQueue=d,(0,o.default)(d),t.default=d},function(e,t,n){"use strict";function r(e,t){return a.Children.map(e,function(e){return(0,a.isValidElement)(e)&&(0,a.cloneElement)(e,{className:e.props.hasOwnProperty("className")?e.props.className+" "+t:t})})}function i(e,t){return(0,a.isValidElement)(e)&&-1!==t.indexOf(e.type.muiName)}function o(e,t){return-1!==t.indexOf(e.muiName)}Object.defineProperty(t,"__esModule",{value:!0}),t.cloneChildrenWithClassName=r,t.isMuiElement=i,t.isMuiComponent=o;var a=n(2)},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(23),o=n(533),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(226):"undefined"!==typeof t&&(e=n(226)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(a)}),e.exports=s}).call(t,n(65))},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return m=e,g}}function o(e,t){try{return e(t)}catch(e){return m=e,g}}function a(e,t,n){try{e(t,n)}catch(e){return m=e,g}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&v(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),l(e,new h(t,n,a))})}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);c(e,t)}function c(e,t){y(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=o(n,e._18);r===g?d(t.promise,m):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===g)return d(e,m);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"===typeof n)return void v(n.bind(t),e)}e._83=1,e._18=t,p(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function v(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==g||(n=!0,d(t,m))}var y=n(234),m=null,g={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return l(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){e.exports={default:n(256),__esModule:!0}},function(e,t,n){e.exports=!n(25)&&!n(36)(function(){return 7!=Object.defineProperty(n(93)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(37),i=n(43),o=n(259)(!1),a=n(98)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(37),i=n(44),o=n(98)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){e.exports={default:n(265),__esModule:!0}},function(e,t,n){e.exports=n(32)},function(e,t,n){var r=n(24),i=n(28),o=n(55);e.exports=n(25)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(21).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(56);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(137),i=n(100).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(70),i=n(54),o=n(43),a=n(94),s=n(37),u=n(136),l=Object.getOwnPropertyDescriptor;t.f=n(25)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(24).f,i=n(72),o=n(109),a=n(30),s=n(110),u=n(59),l=n(104),c=n(143),f=n(150),d=n(25),p=n(73).fastKey,h=n(112),v=d?"_s":"size",y=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(h(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return h(this,t)[v]}}),c},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(45),i=n(19)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(21),i=n(14),o=n(24),a=n(25),s=n(19)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(21),i=n(16),o=n(73),a=n(36),s=n(32),u=n(109),l=n(59),c=n(110),f=n(22),d=n(58),p=n(24).f,h=n(289)(0),v=n(25);e.exports=function(e,t,n,y,m,g){var b=r[e],_=b,w=m?"set":"add",k=_&&_.prototype,x={};return v&&"function"==typeof _&&(g||k.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){c(t,_,e,"_c"),t._c=new b,void 0!=n&&l(n,m,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!g||"clear"!=e)&&s(_.prototype,e,function(n,r){if(c(this,_,e),!t&&g&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),g||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(t,e,m,w),u(_.prototype,n),o.NEED=!0),d(_,e),x[e]=_,i(i.G+i.W+i.F,x),g||y.setStrong(_,e,m),_}},function(e,t,n){var r=n(75),i=n(293);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(16),i=n(53),o=n(30),a=n(59);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);e.exports=function e(t,n,f){if("string"!==typeof n){if(c){var d=l(n);d&&d!==c&&e(t,d,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var h=0;h<p.length;++h){var v=p[h];if(!r[v]&&!i[v]&&(!f||!f[v])){var y=u(n,v);try{o(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if("string"===typeof e)return e;if(e)return e.displayName||e.name||"Component"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.jss="64a55d578f856d258dc345b094a2a2b3",t.sheetsRegistry="d4bd0baacbc52bbd48bbb9eb24344ecd",t.managers="b768b78919504fba9de2c03545c5cd3a",t.sheetOptions="6fc570d6bd61383819d0f9e7407c452d"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var i=n(301);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return r(i).default}});var o=n(76);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return r(o).default}});var a=n(159);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return r(a).default}});var s=n(302);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return r(s).default}});var u=n(60);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return r(u).default}});var l=n(114);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return r(l).default}});var c=n(163);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return r(c).default}});var f=n(309),d=r(f),p=t.create=function(e){return new d.default(e)};t.default=p()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.registry=[]}return i(e,[{key:"add",value:function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e)){if(0===t.length||n>=this.index)return void t.push(e);for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)}}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter(function(e){return e.attached}).map(function(t){return t.toString(e)}).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(304),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return e&&e[i.default]&&e===e[i.default]()}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=r(i),a=n(164),s=(r(a),n(308)),u=r(s);t.default=function(){var e=0;return function(t,n){(e+=1)>1e10&&(0,o.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var r="c",i="";return n&&(r=n.options.classNamePrefix||"c",null!=n.options.jss.id&&(i+=n.options.jss.id)),""+r+u.default+i+e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(162),u=r(s),l=n(60),c=r(l),f=function(){function e(t,n){i(this,e),this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=o({},n,{sheet:this,parent:this,classes:this.classes}),this.renderer=new n.Renderer(this),this.rules=new c.default(this.options);for(var r in t)this.rules.add(r,t[r]);this.rules.process()}return a(e,[{key:"attach",value:function(){return this.attached?this:(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0,this)}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,u.default)(e,t)}},{key:"addRules",value:function(e,t){var n=[];for(var r in e)n.push(this.addRule(r,e[r],t));return n}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"update",value:function(e,t){return this.rules.update(e,t),this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light"};t.default=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=/([[\].#*$><+~=|^:(),"'`\s])/g,s=0;return"undefined"!==typeof window&&"jss"===i&&(o+=1)>2&&console.error(["Material-UI: we have detected more than needed creation of the class name generator.","You should only use one class name generator on the client side.","If you do otherwise, you take the risk to have conflicting class names in production."].join("\n")),function(e,t){if(s+=1,n){if(t&&t.options.classNamePrefix){var r=t.options.classNamePrefix;if(r=r.replace(a,"-"),r.match(/^Mui/))return r+"-"+e.key}return""+i+s}return""+i+s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(17),o=(function(e){e&&e.__esModule}(i),0)},function(e,t,n){"use strict";function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){return o.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r}(),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return e.addEventListener(t,n,r),{remove:function(){e.removeEventListener(t,n,r)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function o(e,t){return i(e,function(e){return-1!==e.modals.indexOf(t)})}function a(e){return parseInt((0,h.default)(e,"paddingRight")||0,10)}function s(e,t){var n={overflow:"hidden"};if(e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing){var r=(0,y.default)();n.paddingRight=a(t)+r+"px";for(var i=document.querySelectorAll(".mui-fixed"),o=0;o<i.length;o+=1){var s=a(i[o]);e.prevPaddings.push(s),i[o].style.paddingRight=s+r+"px"}}(0,d.default)(n).forEach(function(e){t.style[e]=n[e]})}function u(e,t){(0,d.default)(e.style).forEach(function(n){t.style[n]=e.style[n]});for(var n=document.querySelectorAll(".mui-fixed"),r=0;r<n.length;r+=1)n[r].style.paddingRight=e.prevPaddings[r]+"px"}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=r(l),f=n(33),d=r(f),p=n(357),h=r(p),v=n(365),y=r(v),m=n(366),g=r(m),b=n(368),_=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.hideSiblingNodes,i=void 0===r||r,a=n.handleContainerOverflow,l=void 0===a||a;(0,c.default)(this,e),this.add=function(e,n){var r=t.modals.indexOf(e),i=t.containers.indexOf(n);if(-1!==r)return r;if(r=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,b.hideSiblings)(n,e.mountNode),-1!==i)return t.data[i].modals.push(e),r;var o={modals:[e],overflowing:(0,g.default)(n),prevPaddings:[]};return t.handleContainerOverflow&&s(o,n),t.containers.push(n),t.data.push(o),r},this.remove=function(e){var n=t.modals.indexOf(e);if(-1===n)return n;var r=o(t.data,e),i=t.data[r],a=t.containers[r];return i.modals.splice(i.modals.indexOf(e),1),t.modals.splice(n,1),0===i.modals.length?(t.handleContainerOverflow&&u(i,a),t.hideSiblingNodes&&(0,b.showSiblings)(a,e.mountNode),t.containers.splice(r,1),t.data.splice(r,1)):t.hideSiblingNodes&&(0,b.ariaHidden)(!1,i.modals[i.modals.length-1].mountNode),n},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=i,this.handleContainerOverflow=l,this.modals=[],this.containers=[],this.data=[]};t.default=_},function(e,t,n){"use strict";function r(e){return(0,o.default)(e.replace(a,"ms-"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(358),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classes,n=e.invisible,r=e.open,i=e.transitionDuration,o=(0,c.default)(e,["classes","invisible","open","transitionDuration"]),s=(0,v.default)(t.root,(0,u.default)({},t.invisible,n));return d.default.createElement(b.default,(0,a.default)({appear:!0,in:r,timeout:i},o),d.default.createElement("div",{className:s,"aria-hidden":"true"}))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(369),b=r(g),_=t.styles=function(e){return{root:{zIndex:-1,width:"100%",height:"100%",position:"fixed",top:0,left:0,WebkitTapHighlightColor:e.palette.common.transparent,willChange:"opacity",backgroundColor:e.palette.common.lightBlack},invisible:{backgroundColor:e.palette.common.transparent}}};i.propTypes={},i.defaultProps={invisible:!1},t.default=(0,m.default)(_,{name:"MuiBackdrop"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.direction,r=t.getBoundingClientRect(),i=void 0;if(t.fakeTransform)i=t.fakeTransform;else{var o=window.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var a=0,s=0;if(i&&"none"!==i&&"string"===typeof i){var u=i.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),s=parseInt(u[5],10)}return"left"===n?"translateX(100vw) translateX(-"+(r.left-a)+"px)":"right"===n?"translateX(-"+(r.left+r.width+A-a)+"px)":"up"===n?"translateY(100vh) translateY(-"+(r.top-s)+"px)":"translate3d(0, "+(0-(r.top+r.height))+"px, 0)"}function o(e,t){var n=i(e,t);n&&(t.style.transform=n,t.style.webkitTransform=n)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g);t.setTranslateValue=o;var _=n(2),w=r(_),k=n(3),x=(r(k),n(27)),C=n(83),E=r(C),S=n(173),T=r(S),O=n(118),P=r(O),M=n(117),j=r(M),R=n(61),A=24,N=function(e){return e.scrollTop},I=function(e){function t(){var e,n,r,i;(0,p.default)(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(s))),r.state={firstMount:!0},r.transition=null,r.handleResize=(0,T.default)(function(){if(!r.props.in&&"down"!==r.props.direction&&"right"!==r.props.direction){var e=(0,x.findDOMNode)(r.transition);e instanceof HTMLElement&&o(r.props,e)}},166),r.handleEnter=function(e){o(r.props,e),N(e),r.props.onEnter&&r.props.onEnter(e)},r.handleEntering=function(e){var t=r.props,n=t.theme,i=t.timeout;e.style.transition=n.transitions.create("transform",{duration:"number"===typeof i?i:i.enter,easing:n.transitions.easing.easeOut}),e.style.webkitTransition=n.transitions.create("-webkit-transform",{duration:"number"===typeof i?i:i.enter,easing:n.transitions.easing.easeOut}),e.style.transform="translate3d(0, 0, 0)",e.style.webkitTransform="translate3d(0, 0, 0)",r.props.onEntering&&r.props.onEntering(e)},r.handleExit=function(e){var t=r.props,n=t.theme,i=t.timeout;e.style.transition=n.transitions.create("transform",{duration:"number"===typeof i?i:i.exit,easing:n.transitions.easing.sharp}),e.style.webkitTransition=n.transitions.create("-webkit-transform",{duration:"number"===typeof i?i:i.exit,easing:n.transitions.easing.sharp}),o(r.props,e),r.props.onExit&&r.props.onExit(e)},r.handleExited=function(e){e.style.transition="",e.style.webkitTransition="",r.props.onExited&&r.props.onExited(e)},i=n,(0,m.default)(r,i)}return(0,b.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.props.in||this.updatePosition()}},{key:"componentWillReceiveProps",value:function(){this.setState({firstMount:!1})}},{key:"componentDidUpdate",value:function(e){e.direction===this.props.direction||this.props.in||this.updatePosition()}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel()}},{key:"updatePosition",value:function(){var e=(0,x.findDOMNode)(this.transition);e instanceof HTMLElement&&(e.style.visibility="inherit",o(this.props,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.onEnter,t.onEntering,t.onExit,t.onExited,t.style),i=(t.theme,(0,l.default)(t,["children","onEnter","onEntering","onExit","onExited","style","theme"])),o=(0,s.default)({},r);return!this.props.in&&this.state.firstMount&&(o.visibility="hidden"),w.default.createElement(E.default,{target:"window",onResize:this.handleResize},w.default.createElement(P.default,(0,s.default)({onEnter:this.handleEnter,onEntering:this.handleEntering,onExit:this.handleExit,onExited:this.handleExited,appear:!0,style:o,ref:function(t){e.transition=t}},i),n))}}]),t}(w.default.Component);I.propTypes={},I.defaultProps={timeout:{enter:R.duration.enteringScreen,exit:R.duration.leavingScreen}},t.default=(0,j.default)()(I)},function(e,t,n){function r(e,t,n){function r(t){var n=g,r=b;return g=b=void 0,C=t,w=e.apply(r,n)}function c(e){return C=e,k=setTimeout(p,t),E?r(e):w}function f(e){var n=e-x,r=e-C,i=t-n;return S?l(i,_-r):i}function d(e){var n=e-x,r=e-C;return void 0===x||n>=t||n<0||S&&r>=_}function p(){var e=o();if(d(e))return h(e);k=setTimeout(p,f(e))}function h(e){return k=void 0,T&&g?r(e):(g=b=void 0,w)}function v(){void 0!==k&&clearTimeout(k),C=0,g=x=b=k=void 0}function y(){return void 0===k?w:h(o())}function m(){var e=o(),n=d(e);if(g=arguments,b=this,x=e,n){if(void 0===k)return c(x);if(S)return k=setTimeout(p,t),r(x)}return void 0===k&&(k=setTimeout(p,t)),w}var g,b,_,w,k,x,C=0,E=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,i(n)&&(E=!!n.leading,S="maxWait"in n,_=S?u(a(n.maxWait)||0,t):_,T="trailing"in n?!!n.trailing:T),m.cancel=v,m.flush=y,m}var i=n(174),o=n(372),a=n(374),s="Expected a function",u=Math.max,l=Math.min;e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){var r=n(373),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(175),i=r.Symbol;e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(388);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){var r=n(19)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(404),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){return(0,i.default)("displayName",e)};t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var r=n(156),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e,t){return t+"("+(0,i.default)(e)+")"};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.alt,n=e.children,r=e.childrenClassName,i=e.classes,o=e.className,s=e.component,l=e.imgProps,f=e.sizes,p=e.src,h=e.srcSet,y=(0,c.default)(e,["alt","children","childrenClassName","classes","className","component","imgProps","sizes","src","srcSet"]),m=(0,v.default)(i.root,(0,u.default)({},i.colorDefault,n&&!p&&!h),o),g=null;if(n)if(r&&"string"!==typeof n&&d.default.isValidElement(n)){var b=(0,v.default)(r,n.props.className);g=d.default.cloneElement(n,{className:b})}else g=n;else(p||h)&&(g=d.default.createElement("img",(0,a.default)({alt:t,src:p,srcSet:h,sizes:f,className:i.img},l)));return d.default.createElement(s,(0,a.default)({className:m},y),g)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(80),b=t.styles=function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:(0,g.emphasize)(e.palette.background.default,.26)},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover"}}};i.propTypes={},i.defaultProps={component:"div"},t.default=(0,m.default)(b,{name:"MuiAvatar"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(181);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";var r=n(408);e.exports=r},function(e,t,n){var r=n(28),i=n(53),o=n(19)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(30),s=n(413),u=n(142),l=n(93),c=n(21),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,v=c.Dispatch,y=0,m={},g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete m[e]},"process"==n(56)(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(28),i=n(22),o=n(121);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(13),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(15),k=n(26),x=k.Logger.scope("User"),C=function(e){function t(e,n,r){(0,f.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return i.subscribed="initializing",i.setMaxListeners(0),i.services=r,i.state={identity:e,entityName:n,friendlyName:null,attributes:{},online:null,notifiable:null},i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"_update",value:function(e,t){switch(x.debug("User for",this.state.identity,"updated:",e,t),e){case"friendlyName":this.state.friendlyName=t.value;break;case"attributes":try{this.state.attributes=JSON.parse(t.value)}catch(e){this.state.attributes={}}break;case"reachability":this.state.online=t.online,this.state.notifiable=t.notifiable;break;default:return}this.emit("updated",this)}},{key:"_updateReachabilityInfo",value:function(e,t){var n=this;return this.services.session.reachabilityEnabled?e.get("reachability").then(t).catch(function(e){x.warn("Failed to get reachability info for ",n.state.identity,e)}):b.default.resolve()}},{key:"_fetch",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){var t,n=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.entityName){e.next=2;break}return e.abrupt("return",this);case 2:return t=function(e){return n._update(e.key,e.value)},this.promiseToFetch=this.services.syncClient.map({uniqueName:this.state.entityName,mode:"open",optimistic:!0}).then(function(e){return n.entity=e,e.on("itemUpdated",t),b.default.all([e.get("friendlyName").then(t),e.get("attributes").then(t),n._updateReachabilityInfo(e,t)])}).then(function(){return x.debug("Fetched for",n.identity),n.subscribed="subscribed",n.emit("userSubscribed",n),n}).catch(function(e){throw n.promiseToFetch=null,e}),e.abrupt("return",this.promiseToFetch);case 5:case"end":return e.stop()}},e,this)}))}},{key:"_ensureFetched",value:function(){return this.promiseToFetch||this._fetch()}},{key:"updateAttributes",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.constructor===Object){t.next=2;break}throw new Error("Attributes must be an object");case 2:if("unsubscribed"!=this.subscribed){t.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return t.next=6,this.services.session.addCommand("editUserAttributes",{username:this.state.identity,attributes:(0,o.default)(e)});case 6:return t.abrupt("return",this);case 7:case"end":return t.stop()}},t,this)}))}},{key:"updateFriendlyName",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"string"===typeof e){t.next=2;break}throw new Error("friendlyName must be string or empty");case 2:if("unsubscribed"!=this.subscribed){t.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return t.next=6,this.services.session.addCommand("editUserFriendlyName",{username:this.state.identity,friendlyName:e});case 6:return t.abrupt("return",this);case 7:case"end":return t.stop()}},t,this)}))}},{key:"unsubscribe",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.promiseToFetch){e.next=7;break}return e.next=3,this.promiseToFetch;case 3:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 7:case"end":return e.stop()}},e,this)}))}},{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"online",get:function(){return this.state.online}},{key:"notifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}}]),t}(w.EventEmitter);t.User=C},function(e,t,n){var r,r;!function(t){e.exports=t()}(function(){return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof r&&r;if(!u&&l)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n||e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function r(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t}function i(e,t){var n={};for(var r in e)n[r]=1;for(var i in t)delete n[i];return Object.keys(n)}function o(e){var t={};e.forEach(function(e){for(var n in e)t[n]=(t[n]||0)+1});var n=e.length;for(var r in t)t[r]<n&&delete t[r];return Object.keys(t)}function a(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e}function s(e){return"add"===e.op}function u(e){return"remove"===e.op}function l(e,t,n){function r(n,o){var a=i[n+","+o];if(void 0===a){if(v(e[n-1],t[o-1]))a=r(n-1,o-1);else{var s=[];if(n>0){var u=r(n-1,o);s.push({operations:u.operations.concat({op:"remove",index:n-1}),cost:u.cost+1})}if(o>0){var l=r(n,o-1);s.push({operations:l.operations.concat({op:"add",index:n-1,value:t[o-1]}),cost:l.cost+1})}if(n>0&&o>0){var c=r(n-1,o-1);s.push({operations:c.operations.concat({op:"replace",index:n-1,original:e[n-1],value:t[o-1]}),cost:c.cost+1})}a=s.sort(function(e,t){return e.cost-t.cost})[0]}i[n+","+o]=a}return a}var i={"0,0":{operations:[],cost:0}},o=isNaN(e.length)||e.length<=0?0:e.length,a=isNaN(t.length)||t.length<=0?0:t.length,l=r(o,a).operations,c=l.reduce(function(e,t){var r=p(e,2),i=r[0],a=r[1];if(s(t)){var l=t.index+1+a,c=l<o+a?String(l):"-",f={op:t.op,path:n.add(c).toString(),value:t.value};return[i.concat(f),a+1]}if(u(t)){var f={op:t.op,path:n.add(String(t.index+a)).toString()};return[i.concat(f),a-1]}var v=n.add(String(t.index+a)),y=d(t.original,t.value,v);return[i.concat.apply(i,h(y)),a]},[[],0]),f=p(c,2),y=f[0];f[1];return y}function c(e,t,n){var r=[];return i(e,t).forEach(function(e){r.push({op:"remove",path:n.add(e).toString()})}),i(t,e).forEach(function(e){r.push({op:"add",path:n.add(e).toString(),value:t[e]})}),o([e,t]).forEach(function(i){r.push.apply(r,h(d(e[i],t[i],n.add(i))))}),r}function f(e,t,n){return v(e,t)?[]:[{op:"replace",path:n.toString(),value:t}]}function d(e,t,n){var r=a(e),i=a(t);return"array"==r&&"array"==i?l(e,t,n):"object"==r&&"object"==i?c(e,t,n):f(e,t,n)}var p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};n.isDestructive=r,n.subtract=i,n.intersection=o,n.objectType=a,n.diffArrays=l,n.diffObjects=c,n.diffValues=f,n.diffAny=d,Object.defineProperty(n,"__esModule",{value:!0});var v=e("./equal").compare},{"./equal":2}],2:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push([e[r],t[r]]);return n}function i(e,t){return e.length===t.length&&r(e,t).every(function(e){return a(e[0],e[1])})}function o(e,t){var n=Object.keys(e);return!!i(n,Object.keys(t))&&n.every(function(n){return a(e[n],t[n])})}function a(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?i(e,t):Object(e)===e&&Object(t)===t&&o(e,t))}n.compare=a,Object.defineProperty(n,"__esModule",{value:!0})},{}],3:[function(e,t,n){"use strict";var r=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},i=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(n,"__esModule",{value:!0});n.MissingError=function(e){function t(e){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Value required at path: "+e),this.path=e,this.name=this.constructor.name}return i(t,e),t}(Error),n.InvalidOperationError=function(e){function t(e){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Invalid operation: "+e),this.op=e,this.name=this.constructor.name}return i(t,e),t}(Error),n.TestError=function(e){function t(e,n){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Test failed: "+e+" != "+n),this.actual=e,this.expected=n,this.name=this.constructor.name,this.actual=e,this.expected=n}return i(t,e),t}(Error)},{}],4:[function(e,t,n){"use strict";function r(e,t){return t.map(function(t){var n=l[t.op];return void 0===n?new s(t.op):n(e,t)})}function i(e,t){var n=new u;return f(e,t,n)}function o(e,t){var n=u.fromJSON(t).evaluate(e);if(void 0!==n)return{op:"test",path:t,value:n.value}}function a(e,t){var n=new Array;return t.filter(d).forEach(function(t){var r=o(e,t.path);if(r&&n.push(r),"from"in t){var i=o(e,t.from);i&&n.push(i)}}),n}n.applyPatch=r,n.createPatch=i,n.createTests=a,Object.defineProperty(n,"__esModule",{value:!0});var s=e("./errors").InvalidOperationError,u=e("./pointer").Pointer,l=function(e){return e&&e.__esModule?e:{default:e}}(e("./patch")),c=e("./diff"),f=c.diffAny,d=c.isDestructive},{"./diff":1,"./errors":3,"./patch":5,"./pointer":6}],5:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?"-"==t?e.push(n):e.splice(t,0,n):e[t]=n}function i(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}function o(e,t){var n=f.fromJSON(t.path).evaluate(e);return void 0===n.parent?new h(t.path):(r(n.parent,n.key,t.value),null)}function a(e,t){var n=f.fromJSON(t.path).evaluate(e);return void 0===n.value?new h(t.path):(i(n.parent,n.key),null)}function s(e,t){var n=f.fromJSON(t.path).evaluate(e);return void 0===n.value?new h(t.path):(n.parent[n.key]=t.value,null)}function u(e,t){var n=f.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new h(t.from);var o=f.fromJSON(t.path).evaluate(e);return void 0===o.parent?new h(t.path):(i(n.parent,n.key),r(o.parent,o.key,n.value),null)}function l(e,t){var n=f.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new h(t.from);var o=f.fromJSON(t.path).evaluate(e);return void 0===o.parent?new h(t.path):(i(n.parent,n.key),r(o.parent,o.key,n.value),null)}function c(e,t){var n=f.fromJSON(t.path).evaluate(e);return d(n.value,t.value)?null:new v(n.value,t.value)}n.add=o,n.remove=a,n.replace=s,n.move=u,n.copy=l,n.test=c,Object.defineProperty(n,"__esModule",{value:!0});var f=e("./pointer").Pointer,d=e("./equal").compare,p=e("./errors"),h=p.MissingError,v=p.TestError},{"./equal":2,"./errors":3,"./pointer":6}],6:[function(e,t,n){"use strict";function r(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(n,"__esModule",{value:!0});n.Pointer=function(){function e(){var t=void 0===arguments[0]?[""]:arguments[0];a(this,e),this.tokens=t}return o(e,{toString:{value:function(){return this.tokens.map(i).join("/")}},evaluate:{value:function(e){for(var t=null,n=null,r=1,i=this.tokens.length;r<i;r++)t=e,n=this.tokens[r],e=(t||{})[n];return{parent:t,key:n,value:e}}},push:{value:function(e){this.tokens.push(e)}},add:{value:function(t){return new e(this.tokens.concat(String(t)))}}},{fromJSON:{value:function(t){var n=t.split("/").map(r);if(""!==n[0])throw new Error("Invalid JSON Pointer: "+t);return new e(n)}}}),e}()},{}]},{},[4])(4)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return JSON.parse(e)}catch(e){d.warn("Failed to parse channel attributes",e)}return{}}function o(e){try{return new Date(e)}catch(e){return null}}var a=n(0),s=r(a),u=n(1),l=r(u);Object.defineProperty(t,"__esModule",{value:!0});var c=n(26),f=n(191),d=new c.Logger,p=function(){function e(t,n){(0,s.default)(this,e),this.client=t,this.descriptor=n,n.sid?(this.sid=n.sid,this.channel=n.sid+".channel"):(this.sid=n.channel_sid,this.channel=n.channel_sid+".channel"),this.uniqueName=n.unique_name,this.friendlyName=n.friendly_name,this.attributes=i(n.attributes),this.createdBy=n.created_by,this.dateCreated=o(n.date_created),this.dateUpdated=o(n.date_updated),this.messagesCount=n.messages_count,this.membersCount=n.members_count,this.type=n.type,this.isPrivate="private"==n.type,this.lastConsumedMessageIndex=n.last_consumed_message_index,n.status?this.status=f.filterStatus(n.status):this.status="unknown"}return(0,l.default)(e,[{key:"getChannel",value:function(){return this.client.getChannelBySid(this.sid)}}]),e}();t.ChannelDescriptor=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return new Date(e)}catch(e){return null}}function o(e){switch(e){case"notParticipating":return"known";default:return e}}var a=n(49),s=r(a),u=n(13),l=r(u),c=n(20),f=r(c),d=n(29),p=r(d),h=n(192),v=r(h),y=n(5),m=r(y),g=n(0),b=r(g),_=n(1),w=r(_),k=n(6),x=r(k),C=n(7),E=r(C),S=n(9),T=r(S),O=function(e,t,n,r){return new(n||(n=T.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var P=n(15),M=n(26),j=n(425),R=n(193),A=n(426),N=n(40),I=M.Logger.scope(""),D={attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",name:"friendlyName",sid:"sid",status:"status",type:"type",uniqueName:"uniqueName"};t.filterStatus=o;var F=function(e){function t(e,n,r){(0,b.default)(this,t);var o=(0,x.default)(this,(t.__proto__||(0,m.default)(t)).call(this)),a=n.attributes||{},s=n.createdBy,u=i(n.dateCreated),l=i(n.dateUpdated),c=n.name||n.friendlyName||null,d=(0,v.default)(n.lastConsumedMessageIndex)?n.lastConsumedMessageIndex:null,h=n.uniqueName||null;try{(0,p.default)(a)}catch(e){throw new Error("Attributes must be a valid JSON object.")}return o.services=e,o.sid=r,o.entityName=n.channel,o.state={uniqueName:h,status:"known",type:n.type,attributes:a,createdBy:s,dateCreated:u,dateUpdated:l,friendlyName:c,lastConsumedMessageIndex:d},o.members=new f.default,o.membersEntity=new j.Members(o,o.services,o.members),o.membersEntity.on("memberJoined",o.emit.bind(o,"memberJoined")),o.membersEntity.on("memberLeft",o.emit.bind(o,"memberLeft")),o.membersEntity.on("memberUpdated",o.emit.bind(o,"memberUpdated")),o.messagesEntity=new A.Messages(o,e),o.messagesEntity.on("messageAdded",function(e){return o._onMessageAdded(e)}),o.messagesEntity.on("messageUpdated",o.emit.bind(o,"messageUpdated")),o.messagesEntity.on("messageRemoved",o.emit.bind(o,"messageRemoved")),o}return(0,E.default)(t,e),(0,w.default)(t,[{key:"_subscribe",value:function(){var e=this;return this.entityPromise?this.entityPromise:this.entityPromise=this.entityPromise||this.services.syncClient.document({uniqueName:this.entityName,mode:"open"}).then(function(t){return e.entity=t,e.entity.on("updated",function(t){e._update(t)}),e.entity.on("removed",function(){return e.emit("removed",e)}),e._update(e.entity.value),t}).catch(function(t){throw e.entity=null,e.entityPromise=null,I.error("Failed to get channel object",t),t})}},{key:"_subscribeStreams",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){var t,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return I.trace("_subscribeStreams, this.entity.value=",this.entity.value),t=this.entity.value.messages,n=this.entity.value.roster,e.next=8,T.default.all([this.messagesEntity.subscribe(t),this.membersEntity.subscribe(n)]);case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),I.error("Failed to subscribe on channel objects",this.sid,e.t0),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,10]])}))}},{key:"_unsubscribe",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrivate||!this.entity){e.next=5;break}return e.next=3,this.entity.close();case 3:this.entity=null,this.entityPromise=null;case 5:return e.abrupt("return",T.default.all([this.membersEntity.unsubscribe(),this.messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}},e,this)}))}},{key:"_setStatus",value:function(e,t){this.statusSource=t,this.state.status!==e&&(this.state.status=e,"joined"===e?this._subscribeStreams():"invited"===e?this._subscribe():this.entityPromise&&this._unsubscribe())}},{key:"_statusSource",value:function(){return this.statusSource}},{key:"_update",value:function(e){I.trace("_update",e),t.preprocessUpdate(e,this.sid);var n=!1;for(var r in e){var i=D[r];i&&(i===D.status?e.status&&"unknown"!=e.status&&(this.state.status=o(e.status)):i===D.attributes?N.isDeepEqual(this.state.attributes,e.attributes)||(this.state.attributes=e.attributes,n=!0):e[r]instanceof Date?this.state[i]&&this.state[i].getTime()===e[r].getTime()||(this.state[i]=e[r],n=!0):this[i]!==e[r]&&(this.state[i]=e[r],n=!0))}n&&this.emit("updated",this)}},{key:"_onMessageAdded",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.members.values());!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.identity===e.author){a._endTyping();break}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.emit("messageAdded",e)}},{key:"add",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"string"===typeof e){t.next=2;break}throw new Error("Channel.add requires an <String>identity parameter");case 2:return t.abrupt("return",this.membersEntity.add(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"advanceLastConsumedMessageIndex",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,v.default)(e)){t.next=2;break}throw new Error("Channel.advanceLastConsumedMessageIndex requires an integral <Number>index parameter");case 2:return t.next=4,this._subscribeStreams();case 4:return t.abrupt("return",this.services.consumptionHorizon.advanceLastConsumedMessageIndexForChannel(this.sid,e,this.lastConsumedMessageIndex));case 5:case"end":return t.stop()}},t,this)}))}},{key:"decline",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("declineInvitation",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}))}},{key:"delete",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("destroyChannel",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getAttributes",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getMessages",value:function(e,t,n){return O(this,void 0,void 0,l.default.mark(function r(){return l.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"===typeof t||(0,v.default)(t)){r.next=2;break}throw new Error("Anchor should be a valid message index");case 2:return r.next=4,this._subscribeStreams();case 4:return r.abrupt("return",this.messagesEntity.getMessages(e,t,n));case 5:case"end":return r.stop()}},r,this)}))}},{key:"getMembers",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.membersEntity.getMembers());case 3:case"end":return e.stop()}},e,this)}))}},{key:"getMembersCount",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new N.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.members_count);case 8:case"end":return e.stop()}},e,this)}))}},{key:"getMessagesCount",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new N.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.messages_count);case 8:case"end":return e.stop()}},e,this)}))}},{key:"getUnconsumedMessagesCount",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new N.UriBuilder(t.myChannelsUrl).arg("ChannelSid",this.sid).build(),e.next=6,this.services.network.get(n);case 6:if(r=e.sent,!r.body.channels.length){e.next=13;break}if("undefined"===typeof r.body.channels[0].unread_messages_count||null==r.body.channels[0].unread_messages_count){e.next=12;break}return e.abrupt("return",r.body.channels[0].unread_messages_count);case 12:return e.abrupt("return",null);case 13:throw new Error("Channel is not in user channels list");case 14:case"end":return e.stop()}},e,this)}))}},{key:"invite",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"===typeof e&&e.length){t.next=2;break}throw new Error("Channel.invite requires an <String>identity parameter");case 2:return t.abrupt("return",this.membersEntity.invite(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"join",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("joinChannelV2",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}))}},{key:"leave",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"!==this.state.status){e.next=3;break}return e.next=3,this.services.session.addCommand("leaveChannel",{channelSid:this.sid});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)}))}},{key:"removeMember",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&("string"===typeof e||e instanceof R.Member)){t.next=2;break}throw new Error("Channel.removeMember requires a <String|Member>member parameter.");case 2:return t.abrupt("return",this.membersEntity.remove("string"===typeof e?e:e.identity));case 3:case"end":return t.stop()}},t,this)}))}},{key:"sendMessage",value:function(e,t){return O(this,void 0,void 0,l.default.mark(function n(){var r,i;return l.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!==typeof e){n.next=7;break}return n.next=3,this.messagesEntity.send(e,t);case 3:return r=n.sent,n.abrupt("return",r.messageId);case 7:return n.next=9,this.messagesEntity.sendMedia(e,t);case 9:return i=n.sent,n.abrupt("return",i.messageId);case 11:case"end":return n.stop()}},n,this)}))}},{key:"setAllMessagesConsumed",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(t=e.sent,!(t.items.length>0)){e.next=7;break}return e.abrupt("return",this.advanceLastConsumedMessageIndex(t.items[0].index));case 7:return e.abrupt("return",T.default.resolve(0));case 8:case"end":return e.stop()}},e,this)}))}},{key:"setNoMessagesConsumed",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,null));case 3:case"end":return e.stop()}},e,this)}))}},{key:"typing",value:function(){return this.services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}throw new Error("Attributes can't be null");case 4:if(e.constructor===Object){t.next=6;break}throw new Error("Attributes must be a valid JSON object.");case 6:return t.next=8,this.services.session.addCommand("editAttributes",{channelSid:this.sid,attributes:(0,p.default)(e)});case 8:return t.abrupt("return",this);case 9:case"end":return t.stop()}},t,this)}))}},{key:"updateFriendlyName",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.friendlyName===e){t.next=3;break}return t.next=3,this.services.session.addCommand("editFriendlyName",{channelSid:this.sid,friendlyName:e});case 3:return t.abrupt("return",this);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateLastConsumedMessageIndex",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,v.default)(e)||null===e){t.next=2;break}throw new Error('Incorrect argument "index": integer number or null expected');case 2:return t.next=4,this._subscribeStreams();case 4:return t.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,e));case 5:case"end":return t.stop()}},t,this)}))}},{key:"updateUniqueName",value:function(e){return O(this,void 0,void 0,l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.uniqueName===e){t.next=3;break}return t.next=3,this.services.session.addCommand("editUniqueName",{channelSid:this.sid,uniqueName:e});case 3:return t.abrupt("return",this);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getUserDescriptors",value:function(){return O(this,void 0,void 0,l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getChannelUserDescriptors(this.sid));case 1:case"end":return e.stop()}},e,this)}))}},{key:"status",get:function(){return this.state.status}},{key:"type",get:function(){return this.state.type}},{key:"uniqueName",get:function(){return this.state.uniqueName}},{key:"isPrivate",get:function(){return"private"===this.state.type}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"createdBy",get:function(){return this.state.createdBy}},{key:"attributes",get:function(){return this.state.attributes}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}}],[{key:"preprocessUpdate",value:function(e,t){try{"string"===typeof e.attributes?e.attributes=JSON.parse(e.attributes):e.attributes&&(0,p.default)(e.attributes)}catch(n){I.warn("Retrieved malformed attributes from the server for channel: "+t),e.attributes={}}try{e.dateCreated&&(e.dateCreated=new Date(e.dateCreated))}catch(n){I.warn("Retrieved malformed attributes from the server for channel: "+t),delete e.dateCreated}try{e.dateUpdated&&(e.dateUpdated=new Date(e.dateUpdated))}catch(n){I.warn("Retrieved malformed attributes from the server for channel: "+t),delete e.dateUpdated}}}]),t}(P.EventEmitter);t.Channel=F},function(e,t,n){e.exports={default:n(422),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(192),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(6),p=r(d),h=n(1),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(15),k=function(e){function t(e,n,r,i){(0,f.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));if(o.channel=n,o.services=e,o.state={sid:i,typingTimeout:null,isTyping:!1,identity:r.identity,roleSid:r.roleSid||null,lastConsumedMessageIndex:(0,s.default)(r.lastConsumedMessageIndex)?r.lastConsumedMessageIndex:null,lastConsumptionTimestamp:r.lastConsumptionTimestamp?new Date(r.lastConsumptionTimestamp):null,userInfo:r.userInfo},!r.identity)throw new Error("Received invalid Member object from server: Missing identity.");return o}return(0,m.default)(t,e),(0,v.default)(t,[{key:"sid",get:function(){return this.state.sid}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}},{key:"lastConsumptionTimestamp",get:function(){return this.state.lastConsumptionTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}}]),(0,v.default)(t,[{key:"_startTyping",value:function(e){var t=this;return clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.channel.emit("typingStarted",this),this.state.typingTimeout=setTimeout(function(){return t._endTyping()},e),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.channel.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=!1;if(e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t=!0),!(0,s.default)(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastConsumedMessageIndex===e.lastConsumedMessageIndex||(this.state.lastConsumedMessageIndex=e.lastConsumedMessageIndex,t=!0),e.lastConsumptionTimestamp){var n=new Date(e.lastConsumptionTimestamp);this.state.lastConsumptionTimestamp&&this.state.lastConsumptionTimestamp.getTime()===n.getTime()||(this.state.lastConsumptionTimestamp=n,t=!0)}return t&&this.emit("updated",this),this}},{key:"getUserDescriptor",value:function(){return _(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getUserDescriptor(this.state.identity));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getUser",value:function(){return _(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 1:case"end":return e.stop()}},e,this)}))}},{key:"remove",value:function(){return this.channel.removeMember(this)}}]),t}(w.EventEmitter);t.Member=k},function(e,t){e.exports=window.FormData},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=function e(){(0,i.default)(this,e)};o.TYPING_INDICATOR="twilio.ipmsg.typing_indicator",o.NEW_MESSAGE="twilio.channel.new_message",o.ADDED_TO_CHANNEL="twilio.channel.added_to_channel",o.INVITED_TO_CHANNEL="twilio.channel.invited_to_channel",o.REMOVED_FROM_CHANNEL="twilio.channel.removed_from_channel",o.CONSUMPTION_UPDATE="twilio.channel.consumption_update",t.NotificationTypes=o},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(18))},function(e,t){function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=n(196),o=n(197);e.exports=r},function(e,t,n){function r(e){i.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}var i=n(15),o=n(126);n(41).inherits(r,i.EventEmitter),r.prototype.failAfter=function(e){o.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},r.prototype.backoff=function(e){o.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},r.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},r.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=r},function(e,t,n){function r(e){return void 0!==e&&null!==e}function i(e){if(e=e||{},r(e.initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(r(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(r(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}n(15),n(41);i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},function(e,t,n){function r(e){o.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}var i=n(41),o=n(200);i.inherits(r,o),r.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},r.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=r},function(e,t,n){!function(){var n={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,i=e.terminal||e.final,o=t||e.target||{},a=e.events||[],s=e.callbacks||{},u={},l={},c=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[n.WILDCARD];u[e.name]=u[e.name]||{};for(var r=0;r<t.length;r++)l[t[r]]=l[t[r]]||[],l[t[r]].push(e.name),u[e.name][t[r]]=e.to||t[r];e.to&&(l[e.to]=l[e.to]||[])};r&&(r.event=r.event||"startup",c({name:r.event,from:"none",to:r.state}));for(var f=0;f<a.length;f++)c(a[f]);for(var d in u)u.hasOwnProperty(d)&&(o[d]=n.buildEvent(d,u[d]));for(var d in s)s.hasOwnProperty(d)&&(o[d]=s[d]);return o.current="none",o.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&void 0!==u[e]&&(u[e].hasOwnProperty(this.current)||u[e].hasOwnProperty(n.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return(l[this.current]||[]).concat(l[n.WILDCARD]||[])},o.isFinished=function(){return this.is(i)},o.error=e.error||function(e,t,n,r,i,o,a){throw a||o},o.states=function(){return Object.keys(l).sort()},r&&!r.defer&&o[r.event](),o},doCallback:function(e,t,r,i,o,a){if(t)try{return t.apply(e,[r,i,o].concat(a))}catch(t){return e.error(r,i,o,a,n.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",t)}},beforeAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e.onbeforeevent,t,r,i,o)},afterAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e.onafterevent||e.onevent,t,r,i,o)},leaveAnyState:function(e,t,r,i,o){return n.doCallback(e,e.onleavestate,t,r,i,o)},enterAnyState:function(e,t,r,i,o){return n.doCallback(e,e.onenterstate||e.onstate,t,r,i,o)},changeState:function(e,t,r,i,o){return n.doCallback(e,e.onchangestate,t,r,i,o)},beforeThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbefore"+t],t,r,i,o)},afterThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafter"+t]||e["on"+t],t,r,i,o)},leaveThisState:function(e,t,r,i,o){return n.doCallback(e,e["onleave"+r],t,r,i,o)},enterThisState:function(e,t,r,i,o){return n.doCallback(e,e["onenter"+i]||e["on"+i],t,r,i,o)},beforeEvent:function(e,t,r,i,o){if(!1===n.beforeThisEvent(e,t,r,i,o)||!1===n.beforeAnyEvent(e,t,r,i,o))return!1},afterEvent:function(e,t,r,i,o){n.afterThisEvent(e,t,r,i,o),n.afterAnyEvent(e,t,r,i,o)},leaveState:function(e,t,r,i,o){var a=n.leaveThisState(e,t,r,i,o),s=n.leaveAnyState(e,t,r,i,o);return!1!==a&&!1!==s&&(n.ASYNC===a||n.ASYNC===s?n.ASYNC:void 0)},enterState:function(e,t,r,i,o){n.enterThisState(e,t,r,i,o),n.enterAnyState(e,t,r,i,o)},buildEvent:function(e,t){return function(){var r=this.current,i=t[r]||(t[n.WILDCARD]!=n.WILDCARD?t[n.WILDCARD]:r)||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,r,i,o,n.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,r,i,o,n.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===n.beforeEvent(this,e,r,i,o))return n.Result.CANCELLED;if(r===i)return n.afterEvent(this,e,r,i,o),n.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=i,n.enterState(a,e,r,i,o),n.changeState(a,e,r,i,o),n.afterEvent(a,e,r,i,o),n.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,n.afterEvent(a,e,r,i,o)};var s=n.leaveState(this,e,r,i,o);return!1===s?(this.transition=null,n.Result.CANCELLED):n.ASYNC===s?n.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!==typeof e&&e.exports&&(t=e.exports=n),t.StateMachine=n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(456),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default,e.exports=t.default},function(e,t,n){(function(){var t,r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=[].slice;i=10,r=5,t=function(){function e(t,n,r,i,a){this.maxNb=null!=t?t:0,this.minTime=null!=n?n:0,this.highWater=null!=r?r:-1,this.strategy=null!=i?i:e.prototype.strategy.LEAK,this.rejectOnDrop=null!=a&&a,this.schedulePriority=o(this.schedulePriority,this),this.submitPriority=o(this.submitPriority,this),this.submit=o(this.submit,this),this._nextRequest=Date.now(),this._nbRunning=0,this._queues=this._makeQueues(),this._running={},this._nextIndex=0,this._unblockTime=0,this.penalty=15*this.minTime||5e3,this.interrupt=!1,this.reservoir=null,this.limiter=null,this.events={}}var t;return e.default=e,e.strategy=e.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},e.Cluster=e.prototype.Cluster=n(459),e.DLList=e.prototype.DLList=n(460),e.Promise=e.prototype.Promise=function(){try{return n(461)}catch(e){return t=e,"undefined"!==typeof Promise&&null!==Promise?Promise:function(){throw new Error("Bottleneck: install 'bluebird' or use Node 0.12 or higher for Promise support")}}}(),e.prototype._trigger=function(e,t){return this.rejectOnDrop&&"dropped"===e&&t[0].cb.apply({},[new Error("This job has been dropped by Bottleneck")]),setTimeout(function(n){return function(){var r;return null!=(r=n.events[e])?r.forEach(function(e){return e.apply({},t)}):void 0}}(this),0)},e.prototype._makeQueues=function(){var t,n,r;for(r=[],t=1,n=i;1<=n?t<=n:t>=n;1<=n?++t:--t)r.push(new e.prototype.DLList);return r},e.prototype.chain=function(e){return this.limiter=e,this},e.prototype.isBlocked=function(){return this._unblockTime>=Date.now()},e.prototype._sanitizePriority=function(e){var t;return t=~~e!==e?r:e,t<0?0:t>i-1?i-1:t},e.prototype._find=function(e,t){var n,r,i,o;for(n=r=0,i=e.length;r<i;n=++r)if(o=e[n],t(o))return o;return[]},e.prototype.nbQueued=function(e){return null!=e?this._queues[this._sanitizePriority(e)].length:this._queues.reduce(function(e,t){return e+t.length},0)},e.prototype.nbRunning=function(){return this._nbRunning},e.prototype._getFirst=function(e){return this._find(e,function(e){return e.length>0})},e.prototype._conditionsCheck=function(){return(this.nbRunning()<this.maxNb||this.maxNb<=0)&&(null==this.reservoir||this.reservoir>0)},e.prototype.check=function(){return this._conditionsCheck()&&this._nextRequest-Date.now()<=0},e.prototype._tryToRun=function(){var e,t,n,r,i;return!!(this._conditionsCheck()&&(r=this.nbQueued())>0)&&(this._nbRunning++,null!=this.reservoir&&this.reservoir--,i=Math.max(this._nextRequest-Date.now(),0),this._nextRequest=Date.now()+i+this.minTime,n=this._getFirst(this._queues).shift(),1===r&&this._trigger("empty",[]),e=!1,t=this._nextIndex++,this._running[t]={timeout:setTimeout(function(r){return function(){var i;return i=function(){var i;if(!e&&(e=!0,delete r._running[t],r._nbRunning--,r._tryToRun(),0===r.nbRunning()&&0===r.nbQueued()&&r._trigger("idle",[]),!r.interrupt))return null!=(i=n.cb)?i.apply({},Array.prototype.slice.call(arguments,0)):void 0},null!=r.limiter?r.limiter.submit.apply(r.limiter,Array.prototype.concat(n.task,n.args,i)):n.task.apply({},n.args.concat(i))}}(this),i),job:n},!0)},e.prototype.submit=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],this.submitPriority.apply({},Array.prototype.concat(r,e))},e.prototype.submitPriority=function(){var t,n,r,i,o,s,u,l;return o=arguments[0],l=arguments[1],t=4<=arguments.length?a.call(arguments,2,r=arguments.length-1):(r=2,[]),n=arguments[r++],i={task:l,args:t,cb:n},o=this._sanitizePriority(o),s=this.highWater>=0&&this.nbQueued()===this.highWater&&!this.check(),this.strategy===e.prototype.strategy.BLOCK&&(s||this.isBlocked())?(this._unblockTime=Date.now()+this.penalty,this._nextRequest=this._unblockTime+this.minTime,this._queues=this._makeQueues(),this._trigger("dropped",[i]),!0):s&&(u=this.strategy===e.prototype.strategy.LEAK?this._getFirst(this._queues.slice(o).reverse()).shift():this.strategy===e.prototype.strategy.OVERFLOW_PRIORITY?this._getFirst(this._queues.slice(o+1).reverse()).shift():this.strategy===e.prototype.strategy.OVERFLOW?i:void 0,null!=u&&this._trigger("dropped",[u]),null==u||this.strategy===e.prototype.strategy.OVERFLOW)?s:(this._queues[o].push(i),this._tryToRun(),s)},e.prototype.schedule=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],this.schedulePriority.apply({},Array.prototype.concat(r,e))},e.prototype.schedulePriority=function(){var t,n,r,i;return n=arguments[0],r=arguments[1],t=3<=arguments.length?a.call(arguments,2):[],i=function(){var e,t,n;return e=2<=arguments.length?a.call(arguments,0,n=arguments.length-1):(n=0,[]),t=arguments[n++],r.apply({},e).then(function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],t.apply({},Array.prototype.concat(null,e))}).catch(function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],t.apply({},e)})},new e.prototype.Promise(function(e){return function(r,o){return e.submitPriority.apply({},Array.prototype.concat(n,i,t,function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],(null!=e[0]?o:(e.shift(),r)).apply({},e)}))}}(this))},e.prototype.changeSettings=function(e,t,n,r,i){for(this.maxNb=null!=e?e:this.maxNb,this.minTime=null!=t?t:this.minTime,this.highWater=null!=n?n:this.highWater,this.strategy=null!=r?r:this.strategy,this.rejectOnDrop=null!=i?i:this.rejectOnDrop;this._tryToRun(););return this},e.prototype.changePenalty=function(e){return this.penalty=null!=e?e:this.penalty,this},e.prototype.changeReservoir=function(e){for(this.reservoir=e;this._tryToRun(););return this},e.prototype.incrementReservoir=function(e){return null==e&&(e=0),this.changeReservoir(this.reservoir+e),this},e.prototype.on=function(e,t){return null!=this.events[e]?this.events[e].push(t):this.events[e]=[t],this},e.prototype.removeAllListeners=function(e){return null==e&&(e=null),null!=e?delete this.events[e]:this.events={},this},e.prototype.stopAll=function(e){var t,n,r,i,o,s,u;for(this.interrupt=null!=e?e:this.interrupt,i=Object.keys(this._running),t=0,s=i.length;t<s;t++)r=i[t],clearTimeout(this._running[r].timeout);if(this._tryToRun=function(){},this.check=function(){return!1},this.submit=this.submitPriority=function(){var e;return 2<=arguments.length?a.call(arguments,0,e=arguments.length-1):(e=0,[]),(0,arguments[e++])(new Error("This limiter is stopped"))},this.schedule=this.schedulePriority=function(){return Promise.reject(new Error("This limiter is stopped"))},this.interrupt)for(o=0,u=i.length;o<u;o++)r=i[o],this._trigger("dropped",[this._running[r].job]);for(;n=this._getFirst(this._queues).shift();)this._trigger("dropped",[n]);return this._trigger("empty",[]),0===this.nbRunning()&&this._trigger("idle",[]),this},e}(),e.exports=t}).call(this)},function(e,t,n){"use strict";function r(e,t){return[e].concat((0,o.default)(t))}var i=n(39),o=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(t,"__esModule",{value:!0});var a=n(48);t.default={setLevel:function(e){a.setLevel(e)},trace:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,r("EMS T:",t))},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,r("EMS D:",t))},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,r("EMS I:",t))},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,r("EMS W:",t))},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,r("EMS E:",t))}}},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"===typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"===typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||Y(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function y(e,t){if(o.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,d=0;d<u;d++)if(o(e,l+d)!==o(t,d)){f=!1;break}if(f)return l}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return $(W(t,e.length-n),e,n,r)}function x(e,t,n,r){return $(V(t),e,n,r)}function C(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return $(G(t),e,n,r)}function S(e,t,n,r){return $(K(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return P(r)}function P(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return i||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return X.toByteArray(H(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e){return e!==e}var X=n(475),J=n(476),Q=n(477);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=y,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:W(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(18))},function(e,t,n){t.UINT32=n(478),t.UINT64=n(479)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(13),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(51),k=n(129),x=n(189),C=n(130),E=n(66),S=function(e){function t(e,n,r){(0,f.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,r));return i.actionQueue=new C.RetryingQueue,i.descriptor=n,i.descriptor.data=i.descriptor.data||{},i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"_update",value:function(e){switch(e.type){case"document_updated":if(e.id>this.lastEventId){var t=this.descriptor.data;this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.data=e.document_data,this.traverse(t,e.document_data,!1),this.emit("updated",e.document_data,!1),this.emit("updatedRemotely",e.document_data),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,data:e.document_data})}break;case"document_removed":this.onRemoved(!1)}}},{key:"traverse",value:function(e,t,n){var r=this;x.createPatch(e,t).forEach(function(e){"add"===e.op?(r.emit("keyAdded",e.path,e.value,n),n||r.emit("keyAddedRemotely",e.path,e.value)):"replace"===e.op?(r.emit("keyUpdated",e.path,e.value,n),n||r.emit("keyUpdatedRemotely",e.path,e.value)):"remove"===e.op&&(r.emit("keyRemoved",e.path,n),n||r.emit("keyRemovedRemotely",e.path))})}},{key:"get",value:function(e){return this.value}},{key:"set",value:function(e,t){return this._actualSet(e,t?function(){throw new Error("Revision mismatch")}:null)}},{key:"_actualSet",value:function(e,t){var n=this,r=void 0,i={data:e,revision:t?this.revision:void 0};return t&&(r=function(e){return _(n,void 0,void 0,s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(412!==e.status){n.next=4;break}return n.next=3,this.softSync();case 3:return n.abrupt("return",{revision:this.revision,data:t(E.deepClone(this.value))});case 4:throw e;case 5:case"end":return n.stop()}},n,this)}))}),this.actionQueue.add(this._set.bind(this),this.uri,i,r).then(function(e){return e.last_event_id>n.descriptor.last_event_id&&(n.descriptor.revision=e.revision,n.descriptor.data=e.data,n.descriptor.last_event_id=e.last_event_id,n.services.storage.update(n.type,n.sid,n.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,data:e.data})),n.emit("updated",n.value,!0),n.value})}},{key:"mutate",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._actualSet(e(E.deepClone(this.value)),e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"update",value:function(e){return this.mutate(function(t){return(0,o.default)(t,e)})}},{key:"_set",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function e(){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.post(this.uri,{data:t.data},t.revision);case 2:return n=e.sent,e.abrupt("return",{revision:n.body.revision,data:t.data,last_event_id:n.body.last_event_id});case 4:case"end":return e.stop()}},e,this)}))}},{key:"softSync",value:function(){var e=this;return this.services.network.get(this.uri).then(function(t){return e._update({type:"document_updated",id:t.body.last_event_id,document_revision:t.body.revision,document_data:t.body.data}),e}).catch(function(t){404===t.status?e.onRemoved(!1):w.default.error("Can't get updates for "+e.sid+":",t)})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.emit("removed",e),e||this.emit("removedRemotely")}},{key:"removeDocument",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}))}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"type",get:function(){return"document"}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"value",get:function(){return this.descriptor.data}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"document"}}]),t}(k.SyncEntity);t.SyncDocument=S,t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(13),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(66),k=n(51),x=n(129),C=n(130),E=n(210),S=n(211),T=n(212),O=function(e){function t(e,n,r){(0,f.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,r));return i.actionQueue=new C.RetryingQueue,i.cache=new T.Cache,i.descriptor=n,i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"__set",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function n(){var r;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.services.network.post(e,{data:t.data},t.revision);case 2:return r=n.sent,r.body.data=t.data,n.abrupt("return",r.body);case 5:case"end":return n.stop()}},n,this)}))}},{key:"push",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n,r,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.network.post(this.links.items,{data:e});case 2:return n=t.sent,r=Number(n.body.index),i=this.cache.store(r,new E.ListItem({index:r,revision:n.body.revision,lastEventId:n.body.last_event_id,uri:n.body.url,value:e}),n.body.last_event_id),this.emit("itemAdded",i,!0),t.abrupt("return",i);case 7:case"end":return t.stop()}},t,this)}))}},{key:"set",value:function(e,t){return this._actualSet(e,t)}},{key:"_actualSet",value:function(e,t,n){return _(this,void 0,void 0,s.default.mark(function r(){var i,o,a,u=this;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.get(e);case 2:if(i=r.sent,o=void 0,n){r.next=10;break}return r.next=7,this.__set(i.uri,{data:t,revision:void 0});case 7:o=r.sent,r.next=14;break;case 10:return a=function(e){return _(u,void 0,void 0,s.default.mark(function t(){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(412!==e.status){t.next=5;break}return t.next=3,this._get(i.index);case 3:return r=t.sent,t.abrupt("return",{revision:r.revision,data:n(w.deepClone(r.value))});case 5:throw e;case 6:case"end":return t.stop()}},t,this)}))},r.next=13,this.actionQueue.add(this.__set.bind(this),i.uri,{revision:i.revision,data:t},a);case 13:o=r.sent;case 14:return i=this.cache.get(i.index),i&&o.last_event_id>i.lastEventId&&(i.update(o.last_event_id,o.revision,o.data),this.emit("itemUpdated",i,!0)),r.abrupt("return",i);case 17:case"end":return r.stop()}},r,this)}))}},{key:"mutate",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function n(){var r;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get(e);case 2:return r=n.sent,n.abrupt("return",this._actualSet(e,t(w.deepClone(r.value)),t));case 4:case"end":return n.stop()}},n,this)}))}},{key:"update",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.mutate(e,function(e){return(0,o.default)(e,t)}));case 1:case"end":return n.stop()}},n,this)}))}},{key:"remove",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.get(e);case 2:return n=t.sent,t.next=5,this.services.network.delete(n.uri);case 5:r=t.sent,this.cache.delete(e,r.body.last_event_id),this.emit("itemRemoved",e,!0);case 8:case"end":return t.stop()}},t,this)}))}},{key:"get",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this.cache.get(e))){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",this._get(e));case 4:case"end":return t.stop()}},t,this)}))}},{key:"_get",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryItems({index:e});case 2:if(n=t.sent,!(n.items.length<1)){t.next=5;break}throw new Error("No item with index "+e+" found");case 5:return t.abrupt("return",n.items[0]);case 6:case"end":return t.stop()}},t,this)}))}},{key:"queryItems",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n,r,i,o,a=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},n=new w.UriBuilder(this.links.items).queryParam("From",e.from).queryParam("PageSize",e.limit).queryParam("Index",e.index).queryParam("PageToken",e.pageToken).queryParam("Order",e.order).build(),t.next=4,this.services.network.get(n);case 4:return r=t.sent,i=r.body.items.map(function(e){return a.cache.get(e.index)?a._handleItemUpdated(e.index,e.url,e.last_event_id,e.revision,e.data):a.cache.store(Number(e.index),new E.ListItem({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,value:e.data}),e.last_event_id),a.cache.get(e.index)}),o=r.body.meta,t.abrupt("return",new S.Paginator(i,function(e){return a.queryItems({pageToken:e})},o.previous_token,o.next_token));case 8:case"end":return t.stop()}},t,this)}))}},{key:"getItems",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},e.limit=e.pageSize||e.limit||50,e.order=e.order||"asc",t.abrupt("return",this.queryItems(e));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getContext",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,(!this.context||t.body.last_event_id>this.lastEventId)&&(this.context=t.body.data);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}},e,this)}))}},{key:"updateContext",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.services.network.post(this.links.context,{data:e});case 3:return this.context=e,this.emit("contextUpdated",e,!0),t.abrupt("return",this);case 8:throw t.prev=8,t.t0=t.catch(0),k.default.error("Failed to update context",t.t0),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"removeList",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}))}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.emit("collectionRemoved",e),e||this.emit("collectionRemovedRemotely")}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.type){case"list_item_added":this._handleItemAdded(n,e.item_url,e.id,e.item_revision,e.item_data);break;case"list_item_updated":this._handleItemUpdated(n,e.item_url,e.id,e.item_revision,e.item_data);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_handleItemAdded",value:function(e,t,n,r,i){if(!this.cache.isKnown(e,n)){var o=new E.ListItem({index:e,uri:t,lastEventId:n,revision:r,value:i});this.cache.store(e,o,n),this.emit("itemAdded",o,!1),this.emit("itemAddedRemotely",o)}}},{key:"_handleItemUpdated",value:function(e,t,n,r,i){var o=this.cache.get(e);o||this.shouldIgnoreEvent(e,n)?o&&n>o.lastEventId&&(o.update(n,r,i),this.emit("itemUpdated",o,!1),this.emit("itemUpdatedRemotely",o)):(o=this.cache.store(e,new E.ListItem({index:e,uri:t,lastEventId:n,revision:r,value:i}),n),this.emit("itemUpdated",o,!1),this.emit("itemUpdatedRemotely",o))}},{key:"_handleItemRemoved",value:function(e,t,n){this.cache.delete(e,t),this.emit("itemRemoved",e,!1),this.emit("itemRemovedRemotely",e,n)}},{key:"_handleContextUpdate",value:function(e,t){this.lastEventId<t&&(this.context=e,this.emit("contextUpdated",e,!1),this.emit("contextUpdatedRemotely",e))}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"type",get:function(){return"list"}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"list"}}]),t}(x.SyncEntity);t.SyncList=O,t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t){(0,o.default)(this,e),this.data=t}return(0,s.default)(e,[{key:"update",value:function(e,t,n){return this.data.lastEventId=e,this.data.revision=t,this.data.value=n,this}},{key:"uri",get:function(){return this.data.uri}},{key:"revision",get:function(){return this.data.revision}},{key:"lastEventId",get:function(){return this.data.lastEventId}},{key:"index",get:function(){return this.data.index}},{key:"value",get:function(){return this.data.value}}]),e}();t.ListItem=u,t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(t,n,r,i){(0,s.default)(this,e),this.prevToken=r,this.nextToken=i,this.items=t,this.source=n}return(0,l.default)(e,[{key:"nextPage",value:function(){return d(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}},e,this)}))}},{key:"prevPage",value:function(){return d(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}},e,this)}))}},{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}}]),e}();t.Paginator=p,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(486),l=function(){function e(t,n){(0,o.default)(this,e),this.value=t,this.revision=n||0}return(0,s.default)(e,[{key:"isValid",get:function(){return!0}}]),e}(),c=function(){function e(t){(0,o.default)(this,e),this.revision=t}return(0,s.default)(e,[{key:"isValid",get:function(){return!1}}]),e}(),f=function(){function e(){(0,o.default)(this,e),this.items=new u.TreeMap}return(0,s.default)(e,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new l(t,n)),t)}},{key:"delete",value:function(e,t){var n=this.items.get(e);(!n||n.revision<t)&&this.items.set(e,new c(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}}]),e}();t.Cache=f,t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(13),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(66),k=n(129),x=n(130),C=n(214),E=n(211),S=n(212),T=function(e){function t(e,n,r){(0,f.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,r));return i.actionQueue=new x.RetryingQueue,i.cache=new S.Cache,i.descriptor=n,n.items&&n.items.forEach(function(e){i.cache.store(e.key,new C.MapItem(e),e.last_event_id)}),i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"_get",value:function(e){return this.queryItems({key:e}).then(function(t){if(t.items.length<1)throw new Error("No item with key "+e+" found");return t.items[0]})}},{key:"__set",value:function(e,t){return this.services.network.post(e,{data:t.data},t.revision).then(function(e){return e=e.body,e.data=t.data,e})}},{key:"_set",value:function(e,t,n){return _(this,void 0,void 0,s.default.mark(function r(){var i,o=this;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return",this.__set(e,{data:t.data}));case 2:return i=function(e){return _(o,void 0,void 0,s.default.mark(function r(){var i;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(412!==e.status){r.next=5;break}return r.next=3,this._get(t.key);case 3:return i=r.sent,r.abrupt("return",{revision:i.revision,data:n(w.deepClone(i.value))});case 5:throw e;case 6:case"end":return r.stop()}},r,this)}))},r.abrupt("return",this.actionQueue.add(this.__set.bind(this),e,{revision:t.revision,data:t.data},i));case 4:case"end":return r.stop()}},r,this)}))}},{key:"_tryAddOrUpdate",value:function(e,t,n){return _(this,void 0,void 0,s.default.mark(function r(){var i,o,a,u,l,c;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.services.network.post(e,t);case 3:return i=r.sent,i.body.data=t.data,r.abrupt("return",{added:!0,value:i.body});case 8:if(r.prev=8,r.t0=r.catch(0),409===r.t0.status){r.next=12;break}throw r.t0;case 12:if(o=r.t0.body.links.item,n){r.next=20;break}return r.next=16,this._set(o,t,n);case 16:return a=r.sent,r.abrupt("return",{added:!1,value:a});case 20:return r.next=22,this.services.network.get(o);case 22:return u=r.sent,l=n(w.deepClone(u.body.data)),r.next=26,this._set(o,{key:u.body.key,revision:u.body.revision,data:l},n);case 26:return c=r.sent,r.abrupt("return",{added:!1,value:c});case 28:case"end":return r.stop()}},r,this,[[0,8]])}))}},{key:"getContext",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,(!this.context||t.body.last_event_id>this.lastEventId)&&(this.context=t.body.data);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}},e,this)}))}},{key:"updateContext",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.network.post(this.links.context,{data:e});case 2:this.context=e,this.emit("contextUpdated",e,!0);case 4:case"end":return t.stop()}},t,this)}))}},{key:"set",value:function(e,t){return this._actualSet(e,t)}},{key:"_actualSet",value:function(e,t,n){return _(this,void 0,void 0,s.default.mark(function r(){var i,o,a,u,l;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=void 0,o=void 0,!(a=this.cache.get(e))){r.next=11;break}return u={key:e,data:t,revision:a.revision||void 0},r.next=7,this._set(a.uri,u,n);case 7:i=r.sent,o=!1,r.next=16;break;case 11:return r.next=13,this._tryAddOrUpdate(this.links.items,{key:e,data:t},n);case 13:l=r.sent,i=l.value,o=l.added;case 16:return a=this.cache.get(e),a&&i.last_event_id>a.lastEventId?(a.update(i.last_event_id,i.revision,i.data),this.emit("itemUpdated",a,!0)):a||(a=this.cache.store(e,new C.MapItem(i),i.last_event_id),o?this.emit("itemAdded",a,!0):this.emit("itemUpdated",a,!0)),r.abrupt("return",a);case 19:case"end":return r.stop()}},r,this)}))}},{key:"get",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cache.has(e)){t.next=2;break}return t.abrupt("return",this.cache.get(e));case 2:return t.next=4,this.queryItems({key:e});case 4:if(n=t.sent,!(n.items.length<1)){t.next=7;break}throw new Error("No item with key "+e+" found");case 7:return t.abrupt("return",n.items[0]);case 8:case"end":return t.stop()}},t,this)}))}},{key:"mutate",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function n(){var r;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get(e).then(function(e){return e.value}).catch(function(){return{}});case 2:return r=n.sent,n.abrupt("return",this._actualSet(e,t(w.deepClone(r)),t));case 4:case"end":return n.stop()}},n,this)}))}},{key:"update",value:function(e,t){return _(this,void 0,void 0,s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.mutate(e,function(e){return(0,o.default)(e,t)}));case 1:case"end":return n.stop()}},n,this)}))}},{key:"remove",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof e){t.next=2;break}throw new Error("Key argument is invalid");case 2:return t.next=4,this.get(e);case 4:return n=t.sent,t.next=7,this.services.network.delete(n.uri);case 7:r=t.sent,this.cache.delete(e,r.body.last_event_id),this.emit("itemRemoved",e,!0);case 10:case"end":return t.stop()}},t,this)}))}},{key:"queryItems",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){var n,r,i,o,a=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},n=new w.UriBuilder(this.links.items).queryParam("From",e.from).queryParam("PageSize",e.limit).queryParam("Key",e.key).queryParam("PageToken",e.pageToken).queryParam("Order",e.order).build(),t.next=4,this.services.network.get(n);case 4:return r=t.sent,i=r.body.items.map(function(e){return a.cache.get(e.key)?a._handleItemUpdated(e.key,e.url,e.last_event_id,e.revision,e.data):a.cache.store(e.key,new C.MapItem(e),e.last_event_id),a.cache.get(e.key)}),o=r.body.meta,t.abrupt("return",new E.Paginator(i,function(e){return a.queryItems({pageToken:e})},o.previous_token,o.next_token));case 8:case"end":return t.stop()}},t,this)}))}},{key:"getItems",value:function(e){return _(this,void 0,void 0,s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},e.limit=e.pageSize||e.limit||50,e.order=e.order||"asc",t.abrupt("return",this.queryItems(e));case 4:case"end":return t.stop()}},t,this)}))}},{key:"forEach",value:function(e){var t=this;return new b.default(function(n,r){function i(t){t.items.forEach(function(t){return e(t)}),t.hasNextPage?t.nextPage().then(i).catch(r):n()}t.queryItems().then(i).catch(r)})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.type){case"map_item_added":this._handleItemAdded(e.item_key,e.item_url,e.id,e.item_revision,e.item_data);break;case"map_item_updated":this._handleItemUpdated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data);break;case"map_context_updated":this._handleContextUpdate(e.context_data,e.id);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_handleItemAdded",value:function(e,t,n,r,i){if(!this.cache.has(e)&&!this.shouldIgnoreEvent(e,n)){var o=new C.MapItem({key:e,url:t,last_event_id:n,revision:r,data:i});this.cache.store(e,o,n),this.emit("itemAdded",o,!1),this.emit("itemAddedRemotely",o)}}},{key:"_handleItemUpdated",value:function(e,t,n,r,i){var o=this.cache.get(e);o||this.shouldIgnoreEvent(e,n)?o&&n>o.lastEventId&&(o.update(n,r,i),this.emit("itemUpdated",o,!1),this.emit("itemUpdatedRemotely",o)):(o=new C.MapItem({key:e,url:t,last_event_id:n,revision:r,data:i}),this.cache.store(e,o,n),this.emit("itemUpdated",o,!1),this.emit("itemUpdatedRemotely",o))}},{key:"_handleItemRemoved",value:function(e,t,n){this.cache.delete(e,t),this.emit("itemRemoved",e,!1),this.emit("itemRemovedRemotely",e,n)}},{key:"_handleContextUpdate",value:function(e,t){this.lastEventId<t&&(this.context=e,this.emit("contextUpdated",e,!1),this.emit("contextUpdatedRemotely",e))}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.emit("collectionRemoved",e),e||this.emit("collectionRemovedRemotely")}},{key:"removeMap",value:function(){return _(this,void 0,void 0,s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}))}},{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"type",get:function(){return"map"}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"map"}}]),t}(k.SyncEntity);t.SyncMap=T,t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t){(0,o.default)(this,e),this.descriptor=t}return(0,s.default)(e,[{key:"update",value:function(e,t,n){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"key",get:function(){return this.descriptor.key}},{key:"value",get:function(){return this.descriptor.data}}]),e}();t.MapItem=u,t.default=u},function(e,t,n){(function(e,r){var i;(function(){"use strict";function o(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function s(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=k)for(;++n<r;)t(e[n],n,e);else l(e,t)}function u(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function l(e,t){for(var n in e)S.call(e,n)&&t(e[n],n,e)}function c(e){return null==e?o(e):T.call(e).slice(8,-1)}function f(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}function d(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var n=null;return s(e,function(r,i){n=t(n,r,i,e)}),n}function h(e){return String(e).replace(/^ +| +$/g,"")}function v(e){function t(t){return p(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=u(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function n(){return this.description||""}var r=m,i=e&&"object"==typeof e&&"String"!=c(e);i&&(r=e,e=null);var o=r.navigator||{},s=o.userAgent||"";e||(e=s);var y,b,_=i||C==g,w=i?!!o.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(T.toString()),k=i?"Object":"ScriptBridgingProxyObject",E=i?"Object":"Environment",S=i&&r.java?"JavaPackage":c(r.java),O=i?"Object":"RuntimeObject",P=/\bJava/.test(S)&&r.java,M=P&&c(r.environment)==E,j=P?"a":"\u03b1",R=P?"b":"\u03b2",A=r.document||{},N=r.operamini||r.opera,I=x.test(I=i&&N?N["[[Class]]"]:c(N))?I:N=null,D=e,F=[],L=null,U=e==s,B=U&&N&&"function"==typeof N.version&&N.version(),H=function(t){return p(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),z=function(t){return p(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),q=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(t){return p(t,function(t,n,r){return t||(n[q]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(q)]||RegExp("\\b"+d(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),V=function(t){return p(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=a(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(H&&(H=[H]),W&&!q&&(q=t([W])),(y=/\bGoogle TV\b/.exec(q))&&(q=y[0]),/\bSimulator\b/i.test(e)&&(q=(q?q+" ":"")+"Simulator"),"Opera Mini"==z&&/\bOPiOS\b/.test(e)&&F.push("running in Turbo/Uncompressed mode"),"IE"==z&&/\blike iPhone OS\b/.test(e)?(y=v(e.replace(/like iPhone OS/,"")),W=y.manufacturer,q=y.product):/^iP/.test(q)?(z||(z="Safari"),V="iOS"+((y=/ OS ([\d_]+)/i.exec(e))?" "+y[1].replace(/_/g,"."):"")):"Konqueror"!=z||/buntu/i.test(V)?W&&"Google"!=W&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(q))||/\bAndroid\b/.test(V)&&/^Chrome/.test(z)&&/\bVersion\//i.test(e)?(z="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==z?(/\bMobi/i.test(e)||(V="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&F.unshift("accelerated")):"PaleMoon"==z&&(y=/\bFirefox\/([\d.]+)\b/.exec(e))?F.push("identifying as Firefox "+y[1]):"Firefox"==z&&(y=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(V||(V="Firefox OS"),q||(q=y[1])):!z||(y=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!q&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(y+"/")+8))&&(z=null),(y=q||W||V)&&(q||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:y)+" Browser")):"Electron"==z&&(y=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&F.push("Chromium "+y):V="Kubuntu",B||(B=function(t){return p(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",d(z),"(?:Firefox|Minefield|NetFront)"])),(y="iCab"==H&&parseFloat(B)>3&&"WebKit"||/\bOpera\b/.test(z)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(H)&&"WebKit"||!H&&/\bMSIE\b/i.test(e)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==H&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(H=[y]),"IE"==z&&(y=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(z+=" Mobile",V="Windows Phone "+(/\+$/.test(y)?y:y+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(z="IE Mobile",V="Windows Phone 8.x",F.unshift("desktop mode"),B||(B=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=z&&"Trident"==H&&(y=/\brv:([\d.]+)/.exec(e))&&(z&&F.push("identifying as "+z+(B?" "+B:"")),z="IE",B=y[1]),U){if(f(r,"global"))if(P&&(y=P.lang.System,D=y.getProperty("os.arch"),V=V||y.getProperty("os.name")+" "+y.getProperty("os.version")),_&&f(r,"system")&&(y=[r.system])[0]){V||(V=y[0].os||null);try{y[1]=r.require("ringo/engine").version,B=y[1].join("."),z="RingoJS"}catch(e){y[0].global.system==r.system&&(z="Narwhal")}}else"object"==typeof r.process&&!r.process.browser&&(y=r.process)?"object"==typeof y.versions?"string"==typeof y.versions.electron?(F.push("Node "+y.versions.node),z="Electron",B=y.versions.electron):"string"==typeof y.versions.nw&&(F.push("Chromium "+B,"Node "+y.versions.node),z="NW.js",B=y.versions.nw):(z="Node.js",D=y.arch,V=y.platform,B=/[\d.]+/.exec(y.version),B=B?B[0]:"unknown"):M&&(z="Rhino");else c(y=r.runtime)==k?(z="Adobe AIR",V=y.flash.system.Capabilities.os):c(y=r.phantom)==O?(z="PhantomJS",B=(y=y.version||null)&&y.major+"."+y.minor+"."+y.patch):"number"==typeof A.documentMode&&(y=/\bTrident\/(\d+)/i.exec(e))?(B=[B,A.documentMode],(y=+y[1]+4)!=B[1]&&(F.push("IE "+B[1]+" mode"),H&&(H[1]=""),B[1]=y),B="IE"==z?String(B[1].toFixed(1)):B[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(z)&&(F.push("masking as "+z+" "+B),z="IE",B="11.0",H=["Trident"],V="Windows");V=V&&u(V)}if(B&&(y=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(B)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(U&&o.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(L=/b/i.test(y)?"beta":"alpha",B=B.replace(RegExp(y+"\\+?$"),"")+("beta"==L?R:j)+(/\d+\+?/.exec(y)||"")),"Fennec"==z||"Firefox"==z&&/\b(?:Android|Firefox OS)\b/.test(V))z="Firefox Mobile";else if("Maxthon"==z&&B)B=B.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(q))"Xbox 360"==q&&(V=null),"Xbox 360"==q&&/\bIEMobile\b/.test(e)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(z)&&(!z||q||/Browser|Mobi/.test(z))||"Windows CE"!=V&&!/Mobi/i.test(e))if("IE"==z&&U)try{null===r.external&&F.unshift("platform preview")}catch(e){F.unshift("embedded")}else(/\bBlackBerry\b/.test(q)||/\bBB10\b/.test(e))&&(y=(RegExp(q.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||B)?(y=[y,/BB10/.test(e)],V=(y[1]?(q=null,W="BlackBerry"):"Device Software")+" "+y[0],B=null):this!=l&&"Wii"!=q&&(U&&N||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==z&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==z&&(V&&!/^Win/.test(V)&&B>5.5||/\bWindows XP\b/.test(V)&&B>8||8==B&&!/\bTrident\b/.test(e)))&&!x.test(y=v.call(l,e.replace(x,"")+";"))&&y.name&&(y="ing as "+y.name+((y=y.version)?" "+y:""),x.test(z)?(/\bIE\b/.test(y)&&"Mac OS"==V&&(V=null),y="identify"+y):(y="mask"+y,z=I?u(I.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(y)&&(V=null),U||(B=null)),H=["Presto"],F.push(y));else z+=" Mobile";(y=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(y=[parseFloat(y.replace(/\.(\d)$/,".0$1")),y],"Safari"==z&&"+"==y[1].slice(-1)?(z="WebKit Nightly",L="alpha",B=y[1].slice(0,-1)):B!=y[1]&&B!=(y[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(B=null),y[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==y[0]&&537.36==y[2]&&parseFloat(y[1])>=28&&"WebKit"==H&&(H=["Blink"]),U&&(w||y[1])?(H&&(H[1]="like Chrome"),y=y[1]||(y=y[0],y<530?1:y<532?2:y<532.05?3:y<533?4:y<534.03?5:y<534.07?6:y<534.1?7:y<534.13?8:y<534.16?9:y<534.24?10:y<534.3?11:y<535.01?12:y<535.02?"13+":y<535.07?15:y<535.11?16:y<535.19?17:y<536.05?18:y<536.1?19:y<537.01?20:y<537.11?"21+":y<537.13?23:y<537.18?24:y<537.24?25:y<537.36?26:"Blink"!=H?"27":"28")):(H&&(H[1]="like Safari"),y=y[0],y=y<400?1:y<500?2:y<526?3:y<533?4:y<534?"4+":y<535?5:y<537?6:y<538?7:y<601?8:"8"),H&&(H[1]+=" "+(y+="number"==typeof y?".x":/[.+]/.test(y)?"":"+")),"Safari"==z&&(!B||parseInt(B)>45)&&(B=y)),"Opera"==z&&(y=/\bzbov|zvav$/.exec(V))?(z+=" ",F.unshift("desktop mode"),"zvav"==y?(z+="Mini",B=null):z+="Mobile",V=V.replace(RegExp(" *"+y+"$"),"")):"Safari"==z&&/\bChrome\b/.exec(H&&H[1])&&(F.unshift("desktop mode"),z="Chrome Mobile",B=null,/\bOS X\b/.test(V)?(W="Apple",V="iOS 4.3+"):V=null),B&&0==B.indexOf(y=/[\d.]+$/.exec(V))&&e.indexOf("/"+y+"-")>-1&&(V=h(V.replace(y,""))),H&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||"Safari"!=z&&/^iOS/.test(V)&&/\bSafari\b/.test(H[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(z)&&H[1])&&(y=H[H.length-1])&&F.push(y),F.length&&(F=["("+F.join("; ")+")"]),W&&q&&q.indexOf(W)<0&&F.push("on "+W),q&&F.push((/^on /.test(F[F.length-1])?"":"on ")+q),V&&(y=/ ([\d.+]+)$/.exec(V),b=y&&"/"==V.charAt(V.length-y[0].length-1),V={architecture:32,family:y&&!b?V.replace(y[0],""):V,version:y?y[1]:null,toString:function(){var e=this.version;return this.family+(e&&!b?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(y=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(D))&&!/\bi686\b/i.test(D)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+y),"")),z&&(/\bWOW64\b/i.test(e)||U&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(e))&&F.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==z&&parseFloat(B)>=39&&(V.architecture=64),e||(e=null);var K={};return K.description=e,K.layout=H&&H[0],K.manufacturer=W,K.name=z,K.prerelease=L,K.product=q,K.ua=e,K.version=z&&B,K.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},K.parse=v,K.toString=n,K.version&&F.unshift(B),K.name&&F.unshift(z),V&&z&&(V!=String(V).split(" ")[0]||V!=z.split(" ")[0]&&!q)&&F.push(q?"("+V+")":"on "+V),F.length&&(K.description=F.join(" ")),K}var y={function:!0,object:!0},m=y[typeof window]&&window||this,g=m,b=y[typeof t]&&t,_=y[typeof e]&&e&&!e.nodeType&&e,w=b&&_&&"object"==typeof r&&r;!w||w.global!==w&&w.window!==w&&w.self!==w||(m=w);var k=Math.pow(2,53)-1,x=/\bOpera/,C=this,E=Object.prototype,S=E.hasOwnProperty,T=E.toString,O=v();m.platform=O,void 0!==(i=function(){return O}.call(t,n,t,e))&&(e.exports=i)}).call(this)}).call(t,n(161)(e),n(18))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return[e].concat((0,c.default)(t))}var o=n(0),a=r(o),s=n(1),u=r(s),l=n(39),c=r(l);Object.defineProperty(t,"__esModule",{value:!0});var f=n(48),d=function(){function e(){(0,a.default)(this,e),this.prefix=""}return(0,u.default)(e,[{key:"setLevel",value:function(e){f.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.trace.apply(null,i("MCS T:"+this.prefix,t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(null,i("MCS D:"+this.prefix,t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(null,i("MCS I:"+this.prefix,t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(null,i("MCS W:"+this.prefix,t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(null,i("MCS E:"+this.prefix,t))}}],[{key:"scope",value:function(t){return new e}},{key:"setLevel",value:function(e){f.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.trace.apply(null,i("MCS T:",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(null,i("MCS D:",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(null,i("MCS I:",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(null,i("MCS W:",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(null,i("MCS E:",t))}}]),e}();t.Logger=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u="https://mcs.us1.twilio.com",l=function(){function e(t,n,r){(0,o.default)(this,e),this.options=r.MCS||r||{},this.token=t,this.baseUrl=("undefined"===typeof this.options.realm?u:"https://mcs."+this.options.realm+".twilio.com")+n}return(0,s.default)(e,[{key:"updateToken",value:function(e){this.token=e}},{key:"backoffConfigOverride",get:function(){return this.options.backoffConfigOverride}},{key:"retryWhenThrottledOverride",get:function(){return this.options.retryWhenThrottledOverride}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return!0}}]),e}();t.Configuration=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a=n(0),s=r(a),u=n(6),l=r(u),c=n(7),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.name=r.constructor.name,r.message=e,r.code=n,Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return(0,f.default)(t,e),t}(Error);t.SessionError=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(9),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u);Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){var t=this;(0,s.default)(this,e),this._promise=new o.default(function(e,n){t._resolve=e,t._reject=n})}return(0,l.default)(e,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),e}();t.Deferred=c},function(e,t){e.exports={_from:"twilio-chat@^2.0.1",_id:"twilio-chat@2.0.1",_inBundle:!1,_integrity:"sha1-wVAiU8URWA+LC/FuFei6t2qhD3M=",_location:"/twilio-chat",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"twilio-chat@^2.0.1",name:"twilio-chat",escapedName:"twilio-chat",rawSpec:"^2.0.1",saveSpec:null,fetchSpec:"^2.0.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/twilio-chat/-/twilio-chat-2.0.1.tgz",_shasum:"c1502253c511580f8b0bf16e15e8bab76aa10f73",_spec:"twilio-chat@^2.0.1",_where:"/media/anton/DATA/Cloud/SocialFamily/testSecondJanuary/SocialFamily/web_application/production/chat",author:{name:"Twilio"},browser:"browser/index.js",bundleDependencies:!1,dependencies:{durational:"^1.1.0","isomorphic-form-data":"^1.0.0",loglevel:"^1.6.0","operation-retrier":"^1.3.2",platform:"^1.3.4",rfc6902:"^1.3.0","twilio-ems-client":"^0.2.6","twilio-mcs-client":"^0.0.4","twilio-notifications":"^0.4.4","twilio-sync":"^0.5.10","twilio-transport":"^0.1.4",twilsock:"^0.3.5",uuid:"^3.1.0"},deprecated:!1,description:"Twilio Chat service client library",devDependencies:{"@types/chai":"^3.4.35","@types/chai-as-promised":"0.0.31","@types/chai-string":"^1.1.30","@types/core-js":"^0.9.41","@types/mocha":"^2.2.44","@types/node":"^7.0.5","@types/sinon":"^2.3.7","@types/sinon-chai":"^2.7.27",async:"^2.6.0","async-test-tools":"^1.0.6","babel-eslint":"^7.2.3","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-istanbul":"^4.1.5","babel-plugin-transform-async-to-generator":"^6.24.1","babel-plugin-transform-object-assign":"^6.22.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-require":"^1.0.1","babel-runtime":"^6.23.0",babelify:"^7.3.0",browserify:"^14.5.0","browserify-replace":"^0.9.0",chai:"^3.5.0","chai-as-promised":"^6.0.0","chai-string":"^1.4.0",cheerio:"^0.22.0",del:"^3.0.0",fs:"0.0.1-security",gulp:"^3.9.1","gulp-babel":"^6.1.2","gulp-derequire":"^2.1.0","gulp-if":"^2.0.2","gulp-insert":"^0.5.0","gulp-mocha":"^4.1.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^2.6.1","gulp-tap":"^1.0.1","gulp-tslint":"^8.1.0","gulp-typescript":"^3.2.3","gulp-uglify":"^3.0.0","gulp-util":"^3.0.8",gulpclass:"^0.1.2","ink-docstrap":"^1.3.0",jsdoc:"^3.5.5","jsdoc-strip-async-await":"^0.1.0",karma:"^1.5.0","karma-browserify":"^5.1.2","karma-browserstack-launcher":"^1.2.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-sinon-ie":"^2.0.0","loglevel-message-prefix":"^2.0.1","mocha.parallel":"^0.15.0",nyc:"^11.3.0",path:"^0.12.7",sinon:"^2.3.2","sinon-chai":"^2.14.0","source-map-explorer":"^1.5.0","ts-node":"^3.0.4",tslint:"^5.8.0",twilio:"^3.10.0",typescript:"^2.6.1","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0"},engines:{node:">=6"},license:"MIT",main:"lib/index.js",name:"twilio-chat",types:"./lib/client.d.ts",version:"2.0.1"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(509);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(223);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}});var o=n(511);Object.defineProperty(t,"InputAdornment",{enumerable:!0,get:function(){return r(o).default}});var a=n(512);Object.defineProperty(t,"InputLabel",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(i(e.value)&&""!==e.value||t&&i(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}function s(e,t){var n=e.disabled,r=e.error,i=e.margin;return t.muiFormControl&&("undefined"===typeof n&&(n=t.muiFormControl.disabled),"undefined"===typeof r&&(r=t.muiFormControl.error),"undefined"===typeof i&&(i=t.muiFormControl.margin)),{disabled:n,error:r,margin:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var u=n(4),l=r(u),c=n(10),f=r(c),d=n(8),p=r(d),h=n(5),v=r(h),y=n(0),m=r(y),g=n(1),b=r(g),_=n(6),w=r(_),k=n(7),x=r(k);t.hasValue=i,t.isDirty=o,t.isAdornedStart=a;var C=n(2),E=r(C),S=n(3),T=r(S),O=n(11),P=r(O),M=n(12),j=r(M),R=n(131),A=n(510),N=r(A),I=t.styles=function(e){var t={color:"currentColor",opacity:"light"===e.palette.type?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.ease})},n={opacity:0},r={opacity:"light"===e.palette.type?.42:.5};return{root:{display:"inline-flex",alignItems:"baseline",position:"relative",fontFamily:e.typography.fontFamily,color:e.palette.input.inputText,fontSize:e.typography.pxToRem(16)},formControl:{"label + &":{marginTop:2*e.spacing.unit}},inkbar:{"&:after":{backgroundColor:e.palette.primary["light"===e.palette.type?"A700":"A200"],left:0,bottom:0,content:'""',height:2,position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"}},error:{"&:after":{backgroundColor:e.palette.error.A400,transform:"scaleX(1)"}},focused:{},disabled:{color:e.palette.text.disabled},underline:{"&:before":{backgroundColor:e.palette.input.bottomLine,left:0,bottom:0,content:'""',height:1,position:"absolute",right:0,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.ease}),pointerEvents:"none"},"&:hover:not($disabled):before":{backgroundColor:e.palette.text.primary,height:2},"&$disabled:before":{background:"transparent",backgroundImage:"linear-gradient(to right, "+e.palette.input.bottomLine+" 33%, transparent 0%)",backgroundPosition:"left top",backgroundRepeat:"repeat-x",backgroundSize:"5px 1px"}},multiline:{padding:e.spacing.unit-2+"px 0 "+(e.spacing.unit-1)+"px"},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:e.spacing.unit-2+"px 0 "+(e.spacing.unit-1)+"px",border:0,boxSizing:"content-box",verticalAlign:"middle",background:"none",margin:0,WebkitTapHighlightColor:e.palette.common.transparent,display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{appearance:"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r}},inputDense:{paddingTop:e.spacing.unit/2-1},inputDisabled:{opacity:1},inputSingleline:{height:"1.1875em"},inputMultiline:{resize:"none",padding:0},inputSearch:{appearance:"textfield"}}},D=function(e){function t(){var e,n,r,i;(0,m.default)(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=(0,w.default)(this,(e=t.__proto__||(0,v.default)(t)).call.apply(e,[this].concat(a))),r.state={focused:!1},r.input=null,r.handleFocus=function(e){if(s(r.props,r.context).disabled)return void e.stopPropagation();r.setState({focused:!0}),r.props.onFocus&&r.props.onFocus(e)},r.handleBlur=function(e){r.setState({focused:!1}),r.props.onBlur&&r.props.onBlur(e)},r.handleChange=function(e){r.isControlled||r.checkDirty(r.input),r.props.onChange&&r.props.onChange(e)},r.handleRefInput=function(e){r.input=e,r.props.inputRef?r.props.inputRef(e):r.props.inputProps&&r.props.inputProps.ref&&r.props.inputProps.ref(e)},i=n,(0,w.default)(r,i)}return(0,x.default)(t,e),(0,b.default)(t,[{key:"componentWillMount",value:function(){this.isControlled=i(this.props.value),this.isControlled&&this.checkDirty(this.props)}},{key:"componentDidMount",value:function(){this.isControlled||this.checkDirty(this.input)}},{key:"componentWillReceiveProps",value:function(e,t){!s(this.props,this.context).disabled&&s(e,t).disabled&&this.setState({focused:!1})}},{key:"componentWillUpdate",value:function(e,t,n){if(this.isControlled&&this.checkDirty(e),!s(this.props,this.context).disabled&&s(e,n).disabled){var r=this.context.muiFormControl;r&&r.onBlur&&r.onBlur()}}},{key:"checkDirty",value:function(e){var t=this.context.muiFormControl;if(o(e))return t&&t.onDirty&&t.onDirty(),void(this.props.onDirty&&this.props.onDirty());t&&t.onClean&&t.onClean(),this.props.onClean&&this.props.onClean()}},{key:"render",value:function(){var e,t,n=this.props,r=n.autoComplete,i=n.autoFocus,o=n.classes,a=n.className,u=n.defaultValue,c=(n.disabled,n.disableUnderline),d=n.endAdornment,h=(n.error,n.fullWidth),v=n.id,y=n.inputComponent,m=n.inputProps;m=void 0===m?{}:m;var g=m.className,b=(0,p.default)(m,["className"]),_=(n.inputRef,n.margin,n.multiline),w=n.name,k=(n.onBlur,n.onChange,n.onClean,n.onDirty,n.onFocus,n.onKeyDown),x=n.onKeyUp,C=n.placeholder,S=n.readOnly,T=n.rows,O=n.rowsMax,M=n.startAdornment,j=n.type,A=n.value,I=(0,p.default)(n,["autoComplete","autoFocus","classes","className","defaultValue","disabled","disableUnderline","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClean","onDirty","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","rows","rowsMax","startAdornment","type","value"]),D=this.context.muiFormControl,F=s(this.props,this.context),L=F.disabled,U=F.error,B=F.margin,H=(0,P.default)(o.root,(e={},(0,f.default)(e,o.disabled,L),(0,f.default)(e,o.error,U),(0,f.default)(e,o.fullWidth,h),(0,f.default)(e,o.focused,this.state.focused),(0,f.default)(e,o.formControl,D),(0,f.default)(e,o.inkbar,!c),(0,f.default)(e,o.multiline,_),(0,f.default)(e,o.underline,!c),e),a),z=(0,P.default)(o.input,(t={},(0,f.default)(t,o.inputDisabled,L),(0,f.default)(t,o.inputSingleline,!_),(0,f.default)(t,o.inputMultiline,_),(0,f.default)(t,o.inputSearch,"search"===j),(0,f.default)(t,o.inputDense,"dense"===B),t),g),q=D&&!0===D.required,W="input",V=(0,l.default)({},b,{ref:this.handleRefInput});return y?(W=y,(0,R.isMuiComponent)(W,["SelectInput"])&&(V=(0,l.default)({selectRef:this.handleRefInput},V,{ref:null}))):_&&(T&&!O?W="textarea":(V=(0,l.default)({rowsMax:O,textareaRef:this.handleRefInput},V,{ref:null}),W=N.default)),E.default.createElement("div",(0,l.default)({onBlur:this.handleBlur,onFocus:this.handleFocus,className:H},I),M,E.default.createElement(W,(0,l.default)({autoComplete:r,autoFocus:i,className:z,onChange:this.handleChange,onKeyUp:x,onKeyDown:k,disabled:L,required:!!q||void 0,value:A,id:v,name:w,defaultValue:u,placeholder:C,type:j,readOnly:S,rows:T,"aria-required":q,"aria-invalid":U},V)),d)}}]),t}(E.default.Component);D.propTypes={},D.muiName="Input",D.defaultProps={disableUnderline:!1,fullWidth:!1,multiline:!1,type:"text"},D.contextTypes={muiFormControl:T.default.object},t.default=(0,j.default)(I,{name:"MuiInput"})(D)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.action,n=e.classes,r=e.className,i=e.message,o=(0,u.default)(e,["action","classes","className","message"]);return d.default.createElement(b.default,(0,a.default)({component:w.default,headlineMapping:{body1:"div"},role:"alertdialog",square:!0,elevation:6,className:(0,v.default)(n.root,r)},o),d.default.createElement("div",{className:n.message},i),t?d.default.createElement("div",{className:n.action},t):null)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(8),u=r(s),l=n(10),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(119),b=r(g),_=n(35),w=r(_),k=t.styles=function(e){var t,n="light"===e.palette.type?"dark":"light",r=e.palette.shades[n].background.default;return{root:(t={pointerEvents:"initial",color:e.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px "+3*e.spacing.unit+"px"},(0,c.default)(t,e.breakpoints.up("md"),{minWidth:288,maxWidth:568,borderRadius:2}),(0,c.default)(t,e.breakpoints.down("sm"),{flexGrow:1}),t),message:{padding:e.spacing.unit+"px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:3*e.spacing.unit,marginRight:-e.spacing.unit}}};i.propTypes={},t.default=(0,m.default)(k,{name:"MuiSnackbarContent"})(i)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(23),i=n(534),o=n(536),a=n(537),s=n(538),u=n(227),l="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n(539);e.exports=function(e){return new Promise(function(t,c){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var y=e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic "+l(y+":"+m)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,c,o),p=null}},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(540),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(535);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){function r(e,t,n){var r=l[t];if("undefined"===typeof r&&(r=o(t)),r){if(void 0===n)return e.style[r];e.style[r]=c(r,n)}}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&r(e,n,t[n])}function o(e){var t=u(e),n=s(t);return l[t]=l[e]=l[n]=n,n}function a(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:i(arguments[0],arguments[1]):r(arguments[0],arguments[1],arguments[2])}var s=n(554),u=n(555),l={float:"cssFloat"},c=n(558);e.exports=a,e.exports.set=a,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=r(e,n||""),t},{}):r(e,t||"")}},function(e,t,n){n(232),e.exports=n(237)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(233).enable(),window.Promise=n(235)),n(236),Object.assign=n(91)},function(e,t,n){"use strict";function r(){l=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},l&&r(),l=!0;var i=0,c=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(133),u=[ReferenceError,TypeError,RangeError],l=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>l){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,l=1024,c="undefined"!==typeof t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(18))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(133);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return l;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=n(27),a=n.n(o),s=n(247),u=n(575),l=(n.n(u),n(576));a.a.render(i.a.createElement(s.a,null),document.getElementById("root")),Object(l.a)()},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||O}function o(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||O}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||O}function u(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)R.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:k,type:e,key:o,ref:a,props:i,_owner:j.current}}function l(e){return"object"===typeof e&&null!==e&&e.$$typeof===k}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function f(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function p(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case k:case x:case C:case E:a=!0}}if(a)return n(i,e,""===t?"."+h(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+h(o,s);a+=p(o,u,n,i)}else if(null===e||"undefined"===typeof e?u=null:(u=T&&e[T]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+h(o,s++),a+=p(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function h(e,t){return"object"===typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function v(e,t){e.func.call(e.context,t,e.count++)}function y(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?m(e,r,n,_.thatReturnsArgument):null!=e&&(l(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n,e={$$typeof:k,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function m(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),t=f(t,o,r,i),null==e||p(e,"",y,t),d(t)}var g=n(91),b=n(134),_=n(67),w="function"===typeof Symbol&&Symbol.for,k=w?Symbol.for("react.element"):60103,x=w?Symbol.for("react.call"):60104,C=w?Symbol.for("react.return"):60105,E=w?Symbol.for("react.portal"):60106,S=w?Symbol.for("react.fragment"):60107,T="function"===typeof Symbol&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var P=o.prototype=new a;P.constructor=o,g(P,i.prototype),P.isPureReactComponent=!0;var M=s.prototype=new a;M.constructor=s,g(M,i.prototype),M.unstable_isAsyncReactComponent=!0,M.render=function(){return this.props.children};var j={current:null},R=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0},N=/\/+/g,I=[],D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return m(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=f(null,null,t,n),null==e||p(e,"",v,t),d(t)},count:function(e){return null==e?0:p(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return m(e,t,null,_.thatReturnsArgument),t},only:function(e){return l(e)||r("143"),e}},Component:i,PureComponent:o,unstable_AsyncComponent:s,Fragment:S,createElement:u,cloneElement:function(e,t,n){var r=g({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)R.call(t,u)&&!A.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:k,type:e.type,key:i,ref:o,props:r,_owner:a}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:j,assign:g}},F=Object.freeze({default:D}),L=F&&D||F;e.exports=L.default?L.default:L},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t){return(e&t)===t}function o(e,t){if(Pn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Pn.hasOwnProperty(e)?e=!0:(t=a(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(e){return jn.hasOwnProperty(e)?jn[e]:null}function s(e){return e[1].toUpperCase()}function u(e,t,n,r,i,o,a,s,u){Wn._hasCaughtError=!1,Wn._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){Wn._caughtError=e,Wn._hasCaughtError=!0}}function l(){if(Wn._hasRethrowError){var e=Wn._rethrowError;throw Wn._rethrowError=null,Wn._hasRethrowError=!1,e}}function c(){if(Vn)for(var e in Kn){var t=Kn[e],n=Vn.indexOf(e);if(-1<n||r("96",e),!Gn[n]){t.extractEvents||r("97",e),Gn[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],s=t,u=i;$n.hasOwnProperty(u)&&r("99",u),$n[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&f(l[o],s,u);o=!0}else a.registrationName?(f(a.registrationName,s,u),o=!0):o=!1;o||r("98",i,e)}}}}function f(e,t,n){Yn[e]&&r("100",e),Yn[e]=t,Xn[e]=t.eventTypes[n].dependencies}function d(e){Vn&&r("101"),Vn=Array.prototype.slice.call(e),c()}function p(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Kn.hasOwnProperty(t)&&Kn[t]===i||(Kn[t]&&r("102",t),Kn[t]=i,n=!0)}n&&c()}function h(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),Wn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function v(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function y(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function m(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)h(e,t,n[i],r[i]);else n&&h(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function g(e){return m(e,!0)}function b(e){return m(e,!1)}function _(e,t){var n=e.stateNode;if(!n)return null;var i=Qn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&r("231",t,typeof n),n)}function w(e,t,n,r){for(var i,o=0;o<Gn.length;o++){var a=Gn[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=v(i,a))}return i}function k(e){e&&(tr=v(tr,e))}function x(e){var t=tr;tr=null,t&&(e?y(t,g):y(t,b),tr&&r("95"),Wn.rethrowCaughtError())}function C(e){if(e[or])return e[or];for(var t=[];!e[or];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[or];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[or]);e=t.pop())n=r;return n}function E(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function S(e){return e[ar]||null}function T(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function O(e,t,n){for(var r=[];e;)r.push(e),e=T(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function P(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function M(e){e&&e.dispatchConfig.phasedRegistrationNames&&O(e._targetInst,P,e)}function j(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?T(t):null,O(t,P,e)}}function R(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function A(e){e&&e.dispatchConfig.registrationName&&R(e._targetInst,null,e)}function N(e){y(e,M)}function I(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=T(s))a++;s=0;for(var u=o;u;u=T(u))s++;for(;0<a-s;)i=T(i),a--;for(;0<s-a;)o=T(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=T(i),o=T(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=T(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=T(r);for(r=0;r<i.length;r++)R(i[r],"bubbled",e);for(e=n.length;0<e--;)R(n[e],"captured",t)}function D(){return!lr&&_n.canUseDOM&&(lr="textContent"in document.documentElement?"textContent":"innerText"),lr}function F(){if(cr._fallbackText)return cr._fallbackText;var e,t,n=cr._startText,r=n.length,i=L(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return cr._fallbackText=i.slice(e,1<t?1-t:void 0),cr._fallbackText}function L(){return"value"in cr._root?cr._root.value:cr._root[D()]}function U(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?kn.thatReturnsTrue:kn.thatReturnsFalse,this.isPropagationStopped=kn.thatReturnsFalse,this}function B(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function H(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function z(e){e.eventPool=[],e.getPooled=B,e.release=H}function q(e,t,n,r){return U.call(this,e,t,n,r)}function W(e,t,n,r){return U.call(this,e,t,n,r)}function V(e,t){switch(e){case"topKeyUp":return-1!==pr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function K(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function G(e,t){switch(e){case"topCompositionEnd":return K(t);case"topKeyPress":return 32!==t.which?null:(xr=!0,wr);case"topTextInput":return e=t.data,e===wr&&xr?null:e;default:return null}}function $(e,t){if(Cr)return"topCompositionEnd"===e||!hr&&V(e,t)?(e=F(),cr._root=null,cr._startText=null,cr._fallbackText=null,Cr=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _r?null:t.data;default:return null}}function Y(e){if(e=Zn(e)){Sr&&"function"===typeof Sr.restoreControlledState||r("194");var t=Qn(e.stateNode);Sr.restoreControlledState(e.stateNode,e.type,t)}}function X(e){Tr?Or?Or.push(e):Or=[e]:Tr=e}function J(){if(Tr){var e=Tr,t=Or;if(Or=Tr=null,Y(e),t)for(e=0;e<t.length;e++)Y(t[e])}}function Q(e,t){return e(t)}function Z(e,t){if(jr)return Q(e,t);jr=!0;try{return Q(e,t)}finally{jr=!1,J()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rr[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!_n.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"===typeof n[t]),!n&&gr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function oe(e){e._valueTracker||(e._valueTracker=ie(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=U.getPooled(Ar.change,e,t,n),e.type="change",X(n),N(e),e}function ue(e){k(e),x(!1)}function le(e){if(ae(E(e)))return e}function ce(e,t){if("topChange"===e)return t}function fe(){Nr&&(Nr.detachEvent("onpropertychange",de),Ir=Nr=null)}function de(e){"value"===e.propertyName&&le(Ir)&&(e=se(Ir,e,te(e)),Z(ue,e))}function pe(e,t,n){"topFocus"===e?(fe(),Nr=t,Ir=n,Nr.attachEvent("onpropertychange",de)):"topBlur"===e&&fe()}function he(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return le(Ir)}function ve(e,t){if("topClick"===e)return le(t)}function ye(e,t){if("topInput"===e||"topChange"===e)return le(t)}function me(e,t,n,r){return U.call(this,e,t,n,r)}function ge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Lr[e])&&!!t[e]}function be(){return ge}function _e(e,t,n,r){return U.call(this,e,t,n,r)}function we(e){return e=e.type,"string"===typeof e?e:"function"===typeof e?e.displayName||e.name:null}function ke(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function xe(e){return!!(e=e._reactInternalFiber)&&2===ke(e)}function Ce(e){2!==ke(e)&&r("188")}function Ee(e){var t=e.alternate;if(!t)return t=ke(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Ce(o),e;if(s===i)return Ce(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Se(e){if(!(e=Ee(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Te(e){if(!(e=Ee(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Oe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=C(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],Wr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function Pe(e){qr=!!e}function Me(e,t,n){return n?xn.listen(n,t,Re.bind(null,e)):null}function je(e,t,n){return n?xn.capture(n,t,Re.bind(null,e)):null}function Re(e,t){if(qr){var n=te(t);if(n=C(n),null===n||"number"!==typeof n.tag||2===ke(n)||(n=null),zr.length){var r=zr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(Oe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>zr.length&&zr.push(e)}}}function Ae(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Ne(e){if(Gr[e])return Gr[e];if(!Kr[e])return e;var t,n=Kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in $r)return Gr[e]=n[t];return""}function Ie(e){return Object.prototype.hasOwnProperty.call(e,Qr)||(e[Qr]=Jr++,Xr[e[Qr]]={}),Xr[e[Qr]]}function De(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fe(e,t){var n=De(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=De(n)}}function Le(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Ue(e,t){if(ii||null==ti||ti!==Cn())return null;var n=ti;return"selectionStart"in n&&Le(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&En(ri,n)?null:(ri=n,e=U.getPooled(ei.select,ni,e,t),e.type="select",e.target=ti,N(e),e)}function Be(e,t,n,r){return U.call(this,e,t,n,r)}function He(e,t,n,r){return U.call(this,e,t,n,r)}function ze(e,t,n,r){return U.call(this,e,t,n,r)}function qe(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function We(e,t,n,r){return U.call(this,e,t,n,r)}function Ve(e,t,n,r){return U.call(this,e,t,n,r)}function Ke(e,t,n,r){return U.call(this,e,t,n,r)}function Ge(e,t,n,r){return U.call(this,e,t,n,r)}function $e(e,t,n,r){return U.call(this,e,t,n,r)}function Ye(e){0>di||(e.current=fi[di],fi[di]=null,di--)}function Xe(e,t){di++,fi[di]=e.current,e.current=t}function Je(e){return Ze(e)?vi:pi.current}function Qe(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&(Ye(hi,e),Ye(pi,e))}function tt(e,t,n){null!=pi.cursor&&r("168"),Xe(pi,t,e),Xe(hi,n,e)}function nt(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",we(e)||"Unknown",o);return wn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||On,vi=pi.current,Xe(pi,t,e),Xe(hi,hi.current,e),!0}function it(e,t){var n=e.stateNode;if(n||r("169"),t){var i=nt(e,vi);n.__reactInternalMemoizedMergedChildContext=i,Ye(hi,e),Ye(pi,e),Xe(pi,i,e)}else Ye(hi,e);Xe(hi,t,e)}function ot(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function at(e,t,n){var r=e.alternate;return null===r?(r=new ot(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var i=void 0,o=e.type,a=e.key;return"function"===typeof o?(i=o.prototype&&o.prototype.isReactComponent?new ot(2,a,t):new ot(0,a,t),i.type=o,i.pendingProps=e.props):"string"===typeof o?(i=new ot(5,a,t),i.type=o,i.pendingProps=e.props):"object"===typeof o&&null!==o&&"number"===typeof o.tag?(i=o,i.pendingProps=e.props):r("130",null==o?o:typeof o,""),i.expirationTime=n,i}function ut(e,t,n,r){return t=new ot(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function lt(e,t,n){return t=new ot(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ct(e,t,n){return t=new ot(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function ft(e,t,n){return e=new ot(9,null,t),e.expirationTime=n,e}function dt(e,t,n){return t=new ot(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pt(e){return function(t){try{return e(t)}catch(e){}}}function ht(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);yi=pt(function(e){return t.onCommitFiberRoot(n,e)}),mi=pt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function vt(e){"function"===typeof yi&&yi(e)}function yt(e){"function"===typeof mi&&mi(e)}function mt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function gt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function bt(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=mt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=mt(null)):e=null,e=e!==r?e:null,null===e?gt(r,t):null===r.last||null===e.last?(gt(r,t),gt(e,t)):(gt(r,t),e.last=t)}function _t(e,t,n,r){return e=e.partialState,"function"===typeof e?e.call(t,n,r):e}function wt(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var l=s.expirationTime;if(l>o){var c=n.expirationTime;(0===c||c>l)&&(n.expirationTime=l),u||(u=!0,n.baseState=e)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=_t(s,r,e,i),a=!0):(l=_t(s,r,e,i))&&(e=a?wn({},e,l):wn(e,l),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(l=n.callbackList,null===l&&(l=n.callbackList=[]),l.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),u||(n.baseState=e),e}function kt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],o=i.callback;i.callback=null,"function"!==typeof o&&r("191",o),o.call(t)}}function xt(e,t,n,i){function o(e,t){t.updater=a,e.stateNode=t,t._reactInternalFiber=e}var a={isMounted:xe,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);bt(n,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);bt(n,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=t(n);bt(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(e,t){var n=e.type,r=Je(e),i=2===e.tag&&null!=e.type.contextTypes,a=i?Qe(e,r):On;return t=new n(t,a),o(e,t),i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,o=i.state||null,s=e.pendingProps;s||r("158");var u=Je(e);i.props=s,i.state=e.memoizedState=o,i.refs=On,i.context=Qe(e,u),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"===typeof i.componentWillMount&&(o=i.state,i.componentWillMount(),o!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(i.state=wt(n,e,o,i,s,t))),"function"===typeof i.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,o){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,l=t.pendingProps;l||null==(l=u)&&r("159");var c=s.context,f=Je(t);if(f=Qe(t,f),"function"!==typeof s.componentWillReceiveProps||u===l&&c===f||(c=s.state,s.componentWillReceiveProps(l,f),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=t.memoizedState,o=null!==t.updateQueue?wt(e,t,t.updateQueue,s,l,o):c,!(u!==l||c!==o||hi.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),!1;var d=l;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)d=!0;else{var p=t.stateNode,h=t.type;d="function"===typeof p.shouldComponentUpdate?p.shouldComponentUpdate(d,o,f):!h.prototype||!h.prototype.isPureReactComponent||(!En(u,d)||!En(c,o))}return d?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(l,o,f),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),n(t,l),i(t,o)),s.props=l,s.state=o,s.context=f,d}}}function Ct(e){return null===e||"undefined"===typeof e?null:(e=Ci&&e[Ci]||e["@@iterator"],"function"===typeof e?e:null)}function Et(e,t){var n=t.ref;if(null!==n&&"function"!==typeof n){if(t._owner){t=t._owner;var i=void 0;t&&(2!==t.tag&&r("110"),i=t.stateNode),i||r("147",n);var o=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(e){var t=i.refs===On?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},e._stringRef=o,e)}"string"!==typeof n&&r("148"),t._owner||r("149",n)}return n}function St(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Tt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=at(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=lt(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?(r=o(t,n.props,r),r.ref=Et(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=Et(t,n),r.return=e,r)}function c(e,t,n,r){return null===t||7!==t.tag?(t=ct(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function f(e,t,n,r){return null===t||9!==t.tag?(t=ft(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=o(t,null,r),t.type=n.value,t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=dt(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function p(e,t,n,r,i){return null===t||10!==t.tag?(t=ut(n,e.internalContextTag,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=lt(""+t,e.internalContextTag,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case bi:return t.type===xi?(t=ut(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=Et(null,t),n.return=e,n);case _i:return t=ct(t,e.internalContextTag,n),t.return=e,t;case wi:return n=ft(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case ki:return t=dt(t,e.internalContextTag,n),t.return=e,t}if(Ei(t)||Ct(t))return t=ut(t,e.internalContextTag,n,null),t.return=e,t;St(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===xi?p(e,t,n.props.children,r,i):l(e,t,n,r):null;case _i:return n.key===i?c(e,t,n,r):null;case wi:return null===i?f(e,t,n,r):null;case ki:return n.key===i?d(e,t,n,r):null}if(Ei(n)||Ct(n))return null!==i?null:p(e,t,n,r,null);St(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bi:return e=e.get(null===r.key?n:r.key)||null,r.type===xi?p(t,e,r.props.children,i,r.key):l(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i);case wi:return e=e.get(n)||null,f(t,e,r,i);case ki:return e=e.get(null===r.key?n:r.key)||null,d(t,e,r,i)}if(Ei(r)||Ct(r))return e=e.get(n)||null,p(t,e,r,i,null);St(t,r)}return null}function m(r,o,s,u){for(var l=null,c=null,f=o,d=o=0,p=null;null!==f&&d<s.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var m=v(r,f,s[d],u);if(null===m){null===f&&(f=p);break}e&&f&&null===m.alternate&&t(r,f),o=a(m,o,d),null===c?l=m:c.sibling=m,c=m,f=p}if(d===s.length)return n(r,f),l;if(null===f){for(;d<s.length;d++)(f=h(r,s[d],u))&&(o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return l}for(f=i(r,f);d<s.length;d++)(p=y(f,r,d,s[d],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),o=a(p,o,d),null===c?l=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return t(r,e)}),l}function g(o,s,u,l){var c=Ct(u);"function"!==typeof c&&r("150"),null==(u=c.call(u))&&r("151");for(var f=c=null,d=s,p=s=0,m=null,g=u.next();null!==d&&!g.done;p++,g=u.next()){d.index>p?(m=d,d=null):m=d.sibling;var b=v(o,d,g.value,l);if(null===b){d||(d=m);break}e&&d&&null===b.alternate&&t(o,d),s=a(b,s,p),null===f?c=b:f.sibling=b,f=b,d=m}if(g.done)return n(o,d),c;if(null===d){for(;!g.done;p++,g=u.next())null!==(g=h(o,g.value,l))&&(s=a(g,s,p),null===f?c=g:f.sibling=g,f=g);return c}for(d=i(o,d);!g.done;p++,g=u.next())null!==(g=y(d,o,p,g.value,l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=a(g,s,p),null===f?c=g:f.sibling=g,f=g);return e&&d.forEach(function(e){return t(o,e)}),c}return function(e,i,a,u){"object"===typeof a&&null!==a&&a.type===xi&&null===a.key&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case bi:e:{var c=a.key;for(l=i;null!==l;){if(l.key===c){if(10===l.tag?a.type===xi:l.type===a.type){n(e,l.sibling),i=o(l,a.type===xi?a.props.children:a.props,u),i.ref=Et(l,a),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===xi?(i=ut(a.props.children,e.internalContextTag,u,a.key),i.return=e,e=i):(u=st(a,e.internalContextTag,u),u.ref=Et(i,a),u.return=e,e=u)}return s(e);case _i:e:{for(l=a.key;null!==i;){if(i.key===l){if(7===i.tag){n(e,i.sibling),i=o(i,a,u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=ct(a,e.internalContextTag,u),i.return=e,e=i}return s(e);case wi:e:{if(null!==i){if(9===i.tag){n(e,i.sibling),i=o(i,null,u),i.type=a.value,i.return=e,e=i;break e}n(e,i)}i=ft(a,e.internalContextTag,u),i.type=a.value,i.return=e,e=i}return s(e);case ki:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=dt(a,e.internalContextTag,u),i.return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a,u)):(n(e,i),i=lt(a,e.internalContextTag,u)),i.return=e,e=i,s(e);if(Ei(a))return m(e,i,a,u);if(Ct(a))return g(e,i,a,u);if(l&&St(e,a),"undefined"===typeof a)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function Ot(e,t,n,i,o){function a(e,t,n){var r=t.expirationTime;t.child=null===e?Ti(t,null,n,r):Si(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function u(e,t,n,r){if(s(e,t),!n)return r&&it(t,!1),c(e,t);n=t.stateNode,Hr.current=t;var i=n.render();return t.effectTag|=1,a(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&it(t,!0),t.child}function l(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),y(e,t.containerInfo)}function c(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=at(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=at(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function f(e,t){switch(t.tag){case 3:l(t);break;case 2:rt(t);break;case 4:y(t,t.stateNode.containerInfo)}return null}var d=e.shouldSetTextContent,p=e.useSyncScheduling,h=e.shouldDeprioritizeSubtree,v=t.pushHostContext,y=t.pushHostContainer,m=n.enterHydrationState,g=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;e=xt(i,o,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,w=e.constructClassInstance,k=e.mountClassInstance,x=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return f(e,t);switch(t.tag){case 0:null!==e&&r("155");var i=t.type,o=t.pendingProps,C=Je(t);return C=Qe(t,C),i=i(o,C),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render?(t.tag=2,o=rt(t),_(t,i),k(t,n),t=u(e,t,!0,o)):(t.tag=1,a(e,t,i),t.memoizedProps=o,t=t.child),t;case 1:e:{if(o=t.type,n=t.pendingProps,i=t.memoizedProps,hi.current)null===n&&(n=i);else if(null===n||i===n){t=c(e,t);break e}i=Je(t),i=Qe(t,i),o=o(n,i),t.effectTag|=1,a(e,t,o),t.memoizedProps=n,t=t.child}return t;case 2:return o=rt(t),i=void 0,null===e?t.stateNode?r("153"):(w(t,t.pendingProps),k(t,n),i=!0):i=x(e,t,n),u(e,t,i,o);case 3:return l(t),o=t.updateQueue,null!==o?(i=t.memoizedState,o=wt(e,t,o,null,null,n),i===o?(g(),t=c(e,t)):(i=o.element,C=t.stateNode,(null===e||null===e.child)&&C.hydrate&&m(t)?(t.effectTag|=2,t.child=Ti(t,null,i,n)):(g(),a(e,t,i)),t.memoizedState=o,t=t.child)):(g(),t=c(e,t)),t;case 5:v(t),null===e&&b(t),o=t.type;var E=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=E)&&r("154"),C=null!==e?e.memoizedProps:null,hi.current||null!==i&&E!==i?(E=i.children,d(o,i)?E=null:C&&d(o,C)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!p&&h(o,i)?(t.expirationTime=2147483647,t=null):(a(e,t,E),t.memoizedProps=i,t=t.child)):t=c(e,t),t;case 6:return null===e&&b(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return o=t.pendingProps,hi.current?null===o&&null===(o=e&&e.memoizedProps)&&r("154"):null!==o&&t.memoizedProps!==o||(o=t.memoizedProps),i=o.children,t.stateNode=null===e?Ti(t,t.stateNode,i,n):Si(t,t.stateNode,i,n),t.memoizedProps=o,t.stateNode;case 9:return null;case 4:e:{if(y(t,t.stateNode.containerInfo),o=t.pendingProps,hi.current)null===o&&null==(o=e&&e.memoizedProps)&&r("154");else if(null===o||t.memoizedProps===o){t=c(e,t);break e}null===e?t.child=Si(t,null,o,n):a(e,t,o),t.memoizedProps=o,t=t.child}return t;case 10:e:{if(n=t.pendingProps,hi.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=c(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:l(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?f(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Ti(t,null,null,n):Si(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function Pt(e,t,n){function i(e){e.effectTag|=4}var o=e.createInstance,a=e.createTextInstance,s=e.appendInitialChild,u=e.finalizeInitialChildren,l=e.prepareUpdate,c=e.persistence,f=t.getRootHostContainer,d=t.popHostContext,p=t.getHostContext,h=t.popHostContainer,v=n.prepareToHydrateHostInstance,y=n.prepareToHydrateHostTextInstance,m=n.popHydrationState,g=void 0,b=void 0,_=void 0;return e.mutation?(g=function(){},b=function(e,t,n){(t.updateQueue=n)&&i(t)},_=function(e,t,n,r){n!==r&&i(t)}):r(c?"235":"236"),{completeWork:function(e,t,n){var c=t.pendingProps;switch(null===c?c=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return h(t),Ye(hi,t),Ye(pi,t),c=t.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==e&&null!==e.child||(m(t),t.effectTag&=-3),g(t),null;case 5:d(t),n=f();var w=t.type;if(null!==e&&null!=t.stateNode){var k=e.memoizedProps,x=t.stateNode,C=p();x=l(x,w,k,c,n,C),b(e,t,x,w,k,c,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!c)return null===t.stateNode&&r("166"),null;if(e=p(),m(t))v(t,n,e)&&i(t);else{e=o(w,c,n,e,t);e:for(k=t.child;null!==k;){if(5===k.tag||6===k.tag)s(e,k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k,k=k.child;continue}if(k===t)break;for(;null===k.sibling;){if(null===k.return||k.return===t)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}u(e,w,c,n)&&i(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)_(e,t,e.memoizedProps,c);else{if("string"!==typeof c)return null===t.stateNode&&r("166"),null;e=f(),n=p(),m(t)?y(t)&&i(t):t.stateNode=a(c,e,n,t)}return null;case 7:(c=t.memoizedProps)||r("165"),t.tag=8,w=[];e:for((k=t.stateNode)&&(k.return=t);null!==k;){if(5===k.tag||6===k.tag||4===k.tag)r("247");else if(9===k.tag)w.push(k.type);else if(null!==k.child){k.child.return=k,k=k.child;continue}for(;null===k.sibling;){if(null===k.return||k.return===t)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}return k=c.handler,c=k(c.props,w),t.child=Si(t,null!==e?e.child:null,c,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return h(t),g(t),null;case 0:r("167");default:r("156")}}}}function Mt(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){switch("function"===typeof yt&&yt(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"===typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:o(e.stateNode);break;case 4:l&&s(e)}}function o(e){for(var t=e;;)if(i(t),null===t.child||l&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function a(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,a=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,s=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)o(t),s?b(a,t.stateNode):g(a,t.stateNode);else if(4===t.tag?a=t.stateNode.containerInfo:i(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var u=e.getPublicInstance,l=e.mutation;e=e.persistence,l||r(e?"235":"236");var c=l.commitMount,f=l.commitUpdate,d=l.resetTextContent,p=l.commitTextUpdate,h=l.appendChild,v=l.appendChildToContainer,y=l.insertBefore,m=l.insertInContainerBefore,g=l.removeChild,b=l.removeChildFromContainer;return{commitResetTextContent:function(e){d(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(a(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(d(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?i?m(t,o.stateNode,n):y(t,o.stateNode,n):i?v(t,o.stateNode):h(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&f(n,a,o,e,i,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,p(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t=t.updateQueue,null!==t&&kt(t,n);break;case 3:n=t.updateQueue,null!==n&&kt(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&c(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(u(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function jt(e){function t(e){return e===Oi&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,o={current:Oi},a={current:Oi},s={current:Oi};return{getHostContext:function(){return t(o.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){Ye(o,e),Ye(a,e),Ye(s,e)},popHostContext:function(e){a.current===e&&(Ye(o,e),Ye(a,e))},pushHostContainer:function(e,t){Xe(s,t,e),t=i(t),Xe(a,e,e),Xe(o,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(o.current);r=n(i,e.type,r),i!==r&&(Xe(a,e,e),Xe(o,r,e))},resetHostContainer:function(){o.current=Oi,s.current=Oi}}}function Rt(e){function t(e,t){var n=new ot(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;d=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,l=e.getFirstHydratableChild,c=e.hydrateInstance,f=e.hydrateTextInstance,d=null,p=null,h=!1;return{enterHydrationState:function(e){return p=l(e.stateNode.containerInfo),d=e,h=!0},resetHydrationState:function(){p=d=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=p;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=2,h=!1,void(d=e);t(d,p)}d=e,p=l(r)}else e.effectTag|=2,h=!1,d=e}},prepareToHydrateHostInstance:function(e,t,n){return t=c(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return f(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==d)return!1;if(!h)return i(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=p;n;)t(e,n),n=u(n);return i(e),p=d?u(e.stateNode):null,!0}}}function At(e){function t(e){oe=Y=!0;var t=e.stateNode;if(t.current===e&&r("177"),t.isReadyForCommit=!1,Hr.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(W(),Z=n;null!==Z;){var i=!1,o=void 0;try{for(;null!==Z;){var a=Z.effectTag;if(16&a&&A(Z),128&a){var s=Z.alternate;null!==s&&U(s)}switch(-242&a){case 2:N(Z),Z.effectTag&=-3;break;case 6:N(Z),Z.effectTag&=-3,D(Z.alternate,Z);break;case 4:D(Z.alternate,Z);break;case 8:ae=!0,I(Z),ae=!1}Z=Z.nextEffect}}catch(e){i=!0,o=e}i&&(null===Z&&r("178"),u(Z,o),null!==Z&&(Z=Z.nextEffect))}for(V(),t.current=e,Z=n;null!==Z;){n=!1,i=void 0;try{for(;null!==Z;){var l=Z.effectTag;if(36&l&&F(Z.alternate,Z),128&l&&L(Z),64&l)switch(o=Z,a=void 0,null!==ee&&(a=ee.get(o),ee.delete(o),null==a&&null!==o.alternate&&(o=o.alternate,a=ee.get(o),ee.delete(o))),null==a&&r("184"),o.tag){case 2:o.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===re&&(re=a.error);break;default:r("157")}var c=Z.nextEffect;Z.nextEffect=null,Z=c}}catch(e){n=!0,i=e}n&&(null===Z&&r("178"),u(Z,i),null!==Z&&(Z=Z.nextEffect))}return Y=oe=!1,"function"===typeof vt&&vt(e.stateNode),ne&&(ne.forEach(v),ne=null),null!==re&&(e=re,re=null,x(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=R(e.alternate,e,Q),n=e.return,r=e.sibling,i=e;if(2147483647===Q||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var o=0;else o=i.updateQueue,o=null===o?0:o.expirationTime;for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function i(e){var t=M(e.alternate,e,Q);return null===t&&(t=n(e)),Hr.current=null,t}function o(e){var t=j(e.alternate,e,Q);return null===t&&(t=n(e)),Hr.current=null,t}function a(e){if(null!==ee){if(!(0===Q||Q>e))if(Q<=G)for(;null!==X;)X=l(X)?o(X):i(X);else for(;null!==X&&!k();)X=l(X)?o(X):i(X)}else if(!(0===Q||Q>e))if(Q<=G)for(;null!==X;)X=i(X);else for(;null!==X&&!k();)X=i(X)}function s(e,t){if(Y&&r("243"),Y=!0,e.isReadyForCommit=!1,e!==J||t!==Q||null===X){for(;-1<di;)fi[di]=null,di--;vi=On,pi.current=On,hi.current=!1,O(),J=e,Q=t,X=at(J.current,null,t)}var n=!1,i=null;try{a(t)}catch(e){n=!0,i=e}for(;n;){if(ie){re=i;break}var s=X;if(null===s)ie=!0;else{var l=u(s,i);if(null===l&&r("183"),!ie){try{for(n=l,i=t,l=n;null!==s;){switch(s.tag){case 2:et(s);break;case 5:T(s);break;case 3:S(s);break;case 4:S(s)}if(s===l||s.alternate===l)break;s=s.return}X=o(n),a(i)}catch(e){n=!0,i=e;continue}break}}}return t=re,ie=Y=!1,re=null,null!==t&&x(t),e.isReadyForCommit?e.current.alternate:null}function u(e,t){var n=Hr.current=null,r=!1,i=!1,o=null;if(3===e.tag)n=e,c(e)&&(ie=!0);else for(var a=e.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(r=!0,o=we(a),n=a,i=!0):3===a.tag&&(n=a),c(a)){if(ae||null!==ne&&(ne.has(a)||null!==a.alternate&&ne.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";a=e;do{e:switch(a.tag){case 0:case 1:case 2:case 5:var u=a._debugOwner,l=a._debugSource,f=we(a),d=null;u&&(d=we(u)),u=l,f="\n    in "+(f||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":d?" (created by "+d+")":"");break e;default:f=""}s+=f,a=a.return}while(a);a=s,e=we(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},ee.set(n,t);try{var p=t.error;p&&p.suppressReactErrorLogging||console.error(p)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return oe?(null===ne&&(ne=new Set),ne.add(n)):v(n),n}return null===re&&(re=t),null}function l(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function c(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function f(){return 20*(1+((y()+100)/20|0))}function d(e){return 0!==$?$:Y?oe?1:Q:!q||1&e.internalContextTag?f():1}function p(e,t){return h(e,t,!1)}function h(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!Y&&n===J&&t<Q&&(X=J=null,Q=0);var i=n,o=t;if(ke>_e&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=o,null===ue?(se=ue=i,i.nextScheduledRoot=i):(ue=ue.nextScheduledRoot=i,ue.nextScheduledRoot=se);else{var a=i.remainingExpirationTime;(0===a||o<a)&&(i.remainingExpirationTime=o)}fe||(ge?be&&(de=i,pe=1,w(de,pe)):1===o?_(1,null):m(o)),!Y&&n===J&&t<Q&&(X=J=null,Q=0)}e=e.return}}function v(e){h(e,1,!0)}function y(){return G=2+((B()-K)/10|0)}function m(e){if(0!==le){if(e>le)return;z(ce)}var t=B()-K;le=e,ce=H(b,{timeout:10*(e-2)-t})}function g(){var e=0,t=null;if(null!==ue)for(var n=ue,i=se;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===ue)&&r("244"),i===i.nextScheduledRoot){se=ue=i.nextScheduledRoot=null;break}if(i===se)se=o=i.nextScheduledRoot,ue.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===ue){ue=n,ue.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===ue)break;n=i,i=i.nextScheduledRoot}}n=de,null!==n&&n===t?ke++:ke=0,de=t,pe=e}function b(e){_(0,e)}function _(e,t){for(me=t,g();null!==de&&0!==pe&&(0===e||pe<=e)&&!he;)w(de,pe),g();if(null!==me&&(le=0,ce=-1),0!==pe&&m(pe),me=null,he=!1,ke=0,ve)throw e=ye,ye=null,ve=!1,e}function w(e,n){if(fe&&r("245"),fe=!0,n<=y()){var i=e.finishedWork;null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(e.remainingExpirationTime=t(i)))}else i=e.finishedWork,null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(k()?e.finishedWork=i:e.remainingExpirationTime=t(i)));fe=!1}function k(){return!(null===me||me.timeRemaining()>xe)&&(he=!0)}function x(e){null===de&&r("246"),de.remainingExpirationTime=0,ve||(ve=!0,ye=e)}var C=jt(e),E=Rt(e),S=C.popHostContainer,T=C.popHostContext,O=C.resetHostContainer,P=Ot(e,C,E,p,d),M=P.beginWork,j=P.beginFailedWork,R=Pt(e,C,E).completeWork;C=Mt(e,u);var A=C.commitResetTextContent,N=C.commitPlacement,I=C.commitDeletion,D=C.commitWork,F=C.commitLifeCycles,L=C.commitAttachRef,U=C.commitDetachRef,B=e.now,H=e.scheduleDeferredCallback,z=e.cancelDeferredCallback,q=e.useSyncScheduling,W=e.prepareForCommit,V=e.resetAfterCommit,K=B(),G=2,$=0,Y=!1,X=null,J=null,Q=0,Z=null,ee=null,te=null,ne=null,re=null,ie=!1,oe=!1,ae=!1,se=null,ue=null,le=0,ce=-1,fe=!1,de=null,pe=0,he=!1,ve=!1,ye=null,me=null,ge=!1,be=!1,_e=1e3,ke=0,xe=1;return{computeAsyncExpiration:f,computeExpirationForFiber:d,scheduleWork:p,batchedUpdates:function(e,t){var n=ge;ge=!0;try{return e(t)}finally{(ge=n)||fe||_(1,null)}},unbatchedUpdates:function(e){if(ge&&!be){be=!0;try{return e()}finally{be=!1}}return e()},flushSync:function(e){var t=ge;ge=!0;try{e:{var n=$;$=1;try{var i=e();break e}finally{$=n}i=void 0}return i}finally{ge=t,fe&&r("187"),_(1,null)}},deferredUpdates:function(e){var t=$;$=f();try{return e()}finally{$=t}}}}function Nt(e){function t(e){return e=Se(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=At(e);var i=e.computeAsyncExpiration,o=e.computeExpirationForFiber,a=e.scheduleWork;return{createContainer:function(e,t){var n=new ot(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var u=t.current;if(n){n=n._reactInternalFiber;var l;e:{for(2===ke(n)&&2===n.tag||r("170"),l=n;3!==l.tag;){if(Ze(l)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}(l=l.return)||r("171")}l=l.stateNode.context}n=Ze(n)?nt(n,l):l}else n=On;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?i():o(u),bt(u,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(u,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Te(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return ht(wn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function It(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ki,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dt(e){return!!$i.hasOwnProperty(e)||!Gi.hasOwnProperty(e)&&(Ki.test(e)?$i[e]=!0:(Gi[e]=!0,!1))}function Ft(e,t,n){var r=a(t);if(r&&o(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Ut(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Lt(e,t,o(t,n)?n:null)}function Lt(e,t,n){Dt(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function Ut(e,t){var n=a(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Bt(e,t){var n=t.value,r=t.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Ht(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function zt(e,t){null!=(t=t.checked)&&Ft(e,"checked",t)}function qt(e,t){zt(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function Wt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Vt(e){var t="";return bn.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function Kt(e,t){return e=wn({children:void 0},t),(t=Vt(t.children))&&(e.children=t),e}function Gt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function $t(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Yt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Jt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Qt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Qi.hasOwnProperty(i)&&Qi[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function rn(e,t,n){t&&(eo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!==typeof t.style&&r("62",n()))}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ie(e);t=Xn[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?je("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(je("topFocus","focus",e),je("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(ne("cancel",!0)&&je("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(ne("close",!0)&&je("topClose","close",e),n.topClose=!0):Yr.hasOwnProperty(i)&&Me(i,Yr[i],e),n[i]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===to&&(r=Zt(e)),r===to?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function un(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ln(e,t,n,r){var i=on(t,n);switch(t){case"iframe":case"object":Me("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in ro)ro.hasOwnProperty(o)&&Me(o,ro[o],e);o=n;break;case"source":Me("topError","error",e),o=n;break;case"img":case"image":Me("topError","error",e),Me("topLoad","load",e),o=n;break;case"form":Me("topReset","reset",e),Me("topSubmit","submit",e),o=n;break;case"details":Me("topToggle","toggle",e),o=n;break;case"input":Ht(e,n),o=Bt(e,n),Me("topInvalid","invalid",e),an(r,"onChange");break;case"option":o=Kt(e,n);break;case"select":$t(e,n),o=wn({},n,{value:void 0}),Me("topInvalid","invalid",e),an(r,"onChange");break;case"textarea":Xt(e,n),o=Yt(e,n),Me("topInvalid","invalid",e),an(r,"onChange");break;default:o=n}rn(t,o,no);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?nn(e,u,no):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&Ji(e,u):"children"===a?"string"===typeof u?("textarea"!==t||""!==u)&&tn(e,u):"number"===typeof u&&tn(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yn.hasOwnProperty(a)?null!=u&&an(r,a):i?Lt(e,a,u):null!=u&&Ft(e,a,u))}switch(t){case"input":oe(e),Wt(e,n);break;case"textarea":oe(e),Qt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Gt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Gt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=kn)}}function cn(e,t,n,r,i){var o=null;switch(t){case"input":n=Bt(e,n),r=Bt(e,r),o=[];break;case"option":n=Kt(e,n),r=Kt(e,r),o=[];break;case"select":n=wn({},n,{value:void 0}),r=wn({},r,{value:void 0}),o=[];break;case"textarea":n=Yt(e,n),r=Yt(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=kn)}rn(t,r,no);var a,s;e=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in t=n[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(t=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==t&&(null!=u||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(o||(o=[]),o.push(a,e)),e=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(o=o||[]).push(a,""+u)):"children"===a?t===u||"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Yn.hasOwnProperty(a)?(null!=u&&an(i,a),o||t===u||(o=[])):(o=o||[]).push(a,u))}return e&&(o=o||[]).push("style",e),o}function fn(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&zt(e,i),on(n,r),r=on(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?nn(e,s,no):"dangerouslySetInnerHTML"===a?Ji(e,s):"children"===a?tn(e,s):r?null!=s?Lt(e,a,s):e.removeAttribute(a):null!=s?Ft(e,a,s):Ut(e,a)}switch(n){case"input":qt(e,i);break;case"textarea":Jt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Gt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Gt(e,!!i.multiple,i.defaultValue,!0):Gt(e,!!i.multiple,i.multiple?[]:"",!1))}}function dn(e,t,n,r,i){switch(t){case"iframe":case"object":Me("topLoad","load",e);break;case"video":case"audio":for(var o in ro)ro.hasOwnProperty(o)&&Me(o,ro[o],e);break;case"source":Me("topError","error",e);break;case"img":case"image":Me("topError","error",e),Me("topLoad","load",e);break;case"form":Me("topReset","reset",e),Me("topSubmit","submit",e);break;case"details":Me("topToggle","toggle",e);break;case"input":Ht(e,n),Me("topInvalid","invalid",e),an(i,"onChange");break;case"select":$t(e,n),Me("topInvalid","invalid",e),an(i,"onChange");break;case"textarea":Xt(e,n),Me("topInvalid","invalid",e),an(i,"onChange")}rn(t,n,no),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?e.textContent!==o&&(r=["children",o]):"number"===typeof o&&e.textContent!==""+o&&(r=["children",""+o]):Yn.hasOwnProperty(a)&&null!=o&&an(i,a));switch(t){case"input":oe(e),Wt(e,n);break;case"textarea":oe(e),Qt(e,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=kn)}return r}function pn(e,t){return e.nodeValue!==t}function hn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function vn(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function yn(e,t,n,i,o){hn(n)||r("200");var a=n._reactRootContainer;if(a)so.updateContainer(t,a,e,o);else{if(!(i=i||vn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=so.createContainer(n,i);a=n._reactRootContainer=s,so.unbatchedUpdates(function(){so.updateContainer(t,s,e,o)})}return so.getPublicRootInstance(a)}function mn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return hn(t)||r("200"),It(e,t,null,n)}function gn(e,t){this._reactRootContainer=so.createContainer(e,t)}var bn=n(2),_n=n(240),wn=n(91),kn=n(67),xn=n(241),Cn=n(242),En=n(92),Sn=n(243),Tn=n(246),On=n(134);bn||r("227");var Pn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Mn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Mn,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){jn.hasOwnProperty(s)&&r("48",s);var u=s.toLowerCase(),l=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(l,t.MUST_USE_PROPERTY),hasBooleanValue:i(l,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(l,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(l,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(l,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(l,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",s),a.hasOwnProperty(s)&&(u.attributeName=a[s]),o.hasOwnProperty(s)&&(u.attributeNamespace=o[s]),e.hasOwnProperty(s)&&(u.mutationMethod=e[s]),jn[s]=u}}},jn={},Rn=Mn,An=Rn.MUST_USE_PROPERTY,Nn=Rn.HAS_BOOLEAN_VALUE,In=Rn.HAS_NUMERIC_VALUE,Dn=Rn.HAS_POSITIVE_NUMERIC_VALUE,Fn=Rn.HAS_OVERLOADED_BOOLEAN_VALUE,Ln=Rn.HAS_STRING_BOOLEAN_VALUE,Un={Properties:{allowFullScreen:Nn,async:Nn,autoFocus:Nn,autoPlay:Nn,capture:Fn,checked:An|Nn,cols:Dn,contentEditable:Ln,controls:Nn,default:Nn,defer:Nn,disabled:Nn,download:Fn,draggable:Ln,formNoValidate:Nn,hidden:Nn,loop:Nn,multiple:An|Nn,muted:An|Nn,noValidate:Nn,open:Nn,playsInline:Nn,readOnly:Nn,required:Nn,reversed:Nn,rows:Dn,rowSpan:In,scoped:Nn,seamless:Nn,selected:An|Nn,size:Dn,start:In,span:Dn,spellCheck:Ln,style:0,tabIndex:0,itemScope:Nn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Ln},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Bn=Rn.HAS_STRING_BOOLEAN_VALUE,Hn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},zn={Properties:{autoReverse:Bn,externalResourcesRequired:Bn,preserveAlpha:Bn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Hn.xlink,xlinkArcrole:Hn.xlink,xlinkHref:Hn.xlink,xlinkRole:Hn.xlink,xlinkShow:Hn.xlink,xlinkTitle:Hn.xlink,xlinkType:Hn.xlink,xmlBase:Hn.xml,xmlLang:Hn.xml,xmlSpace:Hn.xml}},qn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(qn,s);zn.Properties[t]=0,zn.DOMAttributeNames[t]=e}),Rn.injectDOMPropertyConfig(Un),Rn.injectDOMPropertyConfig(zn);var Wn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!==typeof e.invokeGuardedCallback&&r("197"),u=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,l){u.apply(Wn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(Wn.invokeGuardedCallback.apply(this,arguments),Wn.hasCaughtError()){var l=Wn.clearCaughtError();Wn._hasRethrowError||(Wn._hasRethrowError=!0,Wn._rethrowError=l)}},rethrowCaughtError:function(){return l.apply(Wn,arguments)},hasCaughtError:function(){return Wn._hasCaughtError},clearCaughtError:function(){if(Wn._hasCaughtError){var e=Wn._caughtError;return Wn._caughtError=null,Wn._hasCaughtError=!1,e}r("198")}},Vn=null,Kn={},Gn=[],$n={},Yn={},Xn={},Jn=Object.freeze({plugins:Gn,eventNameDispatchConfigs:$n,registrationNameModules:Yn,registrationNameDependencies:Xn,possibleRegistrationNames:null,injectEventPluginOrder:d,injectEventPluginsByName:p}),Qn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:d,injectEventPluginsByName:p},rr=Object.freeze({injection:nr,getListener:_,extractEvents:w,enqueueEvents:k,processEventQueue:x}),ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(e,t){t[or]=e},getClosestInstanceFromNode:C,getInstanceFromNode:function(e){return e=e[or],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:E,getFiberCurrentPropsFromNode:S,updateFiberProps:function(e,t){e[ar]=t}}),ur=Object.freeze({accumulateTwoPhaseDispatches:N,accumulateTwoPhaseDispatchesSkipTarget:function(e){y(e,j)},accumulateEnterLeaveDispatches:I,accumulateDirectDispatches:function(e){y(e,A)}}),lr=null,cr={_root:null,_startText:null,_fallbackText:null},fr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),dr={type:null,target:null,currentTarget:kn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(U.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=kn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=kn.thatReturnsTrue)},persist:function(){this.isPersistent=kn.thatReturnsTrue},isPersistent:kn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<fr.length;t++)this[fr[t]]=null}}),U.Interface=dr,U.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;wn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=wn({},this.Interface,t),e.augmentClass=this.augmentClass,z(e)},z(U),U.augmentClass(q,{data:null}),U.augmentClass(W,{data:null});var pr=[9,13,27,32],hr=_n.canUseDOM&&"CompositionEvent"in window,vr=null;_n.canUseDOM&&"documentMode"in document&&(vr=document.documentMode);var yr;if(yr=_n.canUseDOM&&"TextEvent"in window&&!vr){var mr=window.opera;yr=!("object"===typeof mr&&"function"===typeof mr.version&&12>=parseInt(mr.version(),10))}var gr,br=yr,_r=_n.canUseDOM&&(!hr||vr&&8<vr&&11>=vr),wr=String.fromCharCode(32),kr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},xr=!1,Cr=!1,Er={eventTypes:kr,extractEvents:function(e,t,n,r){var i;if(hr)e:{switch(e){case"topCompositionStart":var o=kr.compositionStart;break e;case"topCompositionEnd":o=kr.compositionEnd;break e;case"topCompositionUpdate":o=kr.compositionUpdate;break e}o=void 0}else Cr?V(e,n)&&(o=kr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=kr.compositionStart);return o?(_r&&(Cr||o!==kr.compositionStart?o===kr.compositionEnd&&Cr&&(i=F()):(cr._root=r,cr._startText=L(),Cr=!0)),o=q.getPooled(o,t,n,r),i?o.data=i:null!==(i=K(n))&&(o.data=i),N(o),i=o):i=null,(e=br?G(e,n):$(e,n))?(t=W.getPooled(kr.beforeInput,t,n,r),t.data=e,N(t)):t=null,[i,t]}},Sr=null,Tr=null,Or=null,Pr={injectFiberControlledHostComponent:function(e){Sr=e}},Mr=Object.freeze({injection:Pr,enqueueStateRestore:X,restoreStateIfNeeded:J}),jr=!1,Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(gr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Ar={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Nr=null,Ir=null,Dr=!1;_n.canUseDOM&&(Dr=ne("input")&&(!document.documentMode||9<document.documentMode));var Fr={eventTypes:Ar,_isInputEventSupported:Dr,extractEvents:function(e,t,n,r){var i=t?E(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=ce;else if(ee(i))if(Dr)a=ye;else{a=he;var s=pe}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=ve);if(a&&(a=a(e,t)))return se(a,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};U.augmentClass(me,{view:null,detail:null});var Lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};me.augmentClass(_e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:be,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Br={eventTypes:Ur,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?C(t):null):e=null,e===t)return null;var o=null==e?i:E(e);i=null==t?i:E(t);var a=_e.getPooled(Ur.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=_e.getPooled(Ur.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,I(a,n,e,t),[a,n]}},Hr=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zr=[],qr=!0,Wr=void 0,Vr=Object.freeze({get _enabled(){return qr},get _handleTopLevel(){return Wr},setHandleTopLevel:function(e){Wr=e},setEnabled:Pe,isEnabled:function(){return qr},trapBubbledEvent:Me,trapCapturedEvent:je,dispatchEvent:Re}),Kr={animationend:Ae("Animation","AnimationEnd"),animationiteration:Ae("Animation","AnimationIteration"),animationstart:Ae("Animation","AnimationStart"),transitionend:Ae("Transition","TransitionEnd")},Gr={},$r={};_n.canUseDOM&&($r=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);var Yr={topAbort:"abort",topAnimationEnd:Ne("animationend")||"animationend",topAnimationIteration:Ne("animationiteration")||"animationiteration",topAnimationStart:Ne("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Ne("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Xr={},Jr=0,Qr="_reactListenersID"+(""+Math.random()).slice(2),Zr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ti=null,ni=null,ri=null,ii=!1,oi={eventTypes:ei,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Ie(o),i=Xn.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?E(t):window,e){case"topFocus":(ee(o)||"true"===o.contentEditable)&&(ti=o,ni=t,ri=null);break;case"topBlur":ri=ni=ti=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,Ue(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return Ue(n,r)}return null}};U.augmentClass(Be,{animationName:null,elapsedTime:null,pseudoElement:null}),U.augmentClass(He,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),me.augmentClass(ze,{relatedTarget:null});var ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};me.augmentClass(We,{key:function(e){if(e.key){var t=ai[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=qe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:be,charCode:function(e){return"keypress"===e.type?qe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_e.augmentClass(Ve,{dataTransfer:null}),me.augmentClass(Ke,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:be}),U.augmentClass(Ge,{propertyName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass($e,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var ui={},li={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},ui[e]=n,li[t]=n});var ci={eventTypes:ui,extractEvents:function(e,t,n,r){var i=li[e];if(!i)return null;switch(e){case"topKeyPress":if(0===qe(n))return null;case"topKeyDown":case"topKeyUp":e=We;break;case"topBlur":case"topFocus":e=ze;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=_e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=Ve;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=Ke;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Be;break;case"topTransitionEnd":e=Ge;break;case"topScroll":e=me;break;case"topWheel":e=$e;break;case"topCopy":case"topCut":case"topPaste":e=He;break;default:e=U}return t=e.getPooled(i,t,n,r),N(t),t}};Wr=function(e,t,n,r){e=w(e,t,n,r),k(e),x(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Fr,SelectEventPlugin:oi,BeforeInputEventPlugin:Er});var fi=[],di=-1;new Set;var pi={current:On},hi={current:!1},vi=On,yi=null,mi=null,gi="function"===typeof Symbol&&Symbol.for,bi=gi?Symbol.for("react.element"):60103,_i=gi?Symbol.for("react.call"):60104,wi=gi?Symbol.for("react.return"):60105,ki=gi?Symbol.for("react.portal"):60106,xi=gi?Symbol.for("react.fragment"):60107,Ci="function"===typeof Symbol&&Symbol.iterator,Ei=Array.isArray,Si=Tt(!0),Ti=Tt(!1),Oi={},Pi=Object.freeze({default:Nt}),Mi=Pi&&Nt||Pi,ji=Mi.default?Mi.default:Mi,Ri="object"===typeof performance&&"function"===typeof performance.now,Ai=void 0;Ai=Ri?function(){return performance.now()}:function(){return Date.now()};var Ni=void 0,Ii=void 0;if(_n.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Di,Fi=null,Li=!1,Ui=-1,Bi=!1,Hi=0,zi=33,qi=33;Di=Ri?{didTimeout:!1,timeRemaining:function(){var e=Hi-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Hi-Date.now();return 0<e?e:0}};var Wi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Wi){if(Li=!1,e=Ai(),0>=Hi-e){if(!(-1!==Ui&&Ui<=e))return void(Bi||(Bi=!0,requestAnimationFrame(Vi)));Di.didTimeout=!0}else Di.didTimeout=!1;Ui=-1,e=Fi,Fi=null,null!==e&&e(Di)}},!1);var Vi=function(e){Bi=!1;var t=e-Hi+qi;t<qi&&zi<qi?(8>t&&(t=8),qi=t<zi?zi:t):zi=t,Hi=e+qi,Li||(Li=!0,window.postMessage(Wi,"*"))};Ni=function(e,t){return Fi=e,null!=t&&"number"===typeof t.timeout&&(Ui=Ai()+t.timeout),Bi||(Bi=!0,requestAnimationFrame(Vi)),0},Ii=function(){Fi=null,Li=!1,Ui=-1}}else Ni=window.requestIdleCallback,Ii=window.cancelIdleCallback;else Ni=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Ii=function(e){clearTimeout(e)};var Ki=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},$i={},Yi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Xi=void 0,Ji=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Yi.svg||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Qi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(e){Zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qi[t]=Qi[e]})});var eo=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),to=Yi.html,no=kn.thatReturns(""),ro={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},io=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:ln,diffProperties:cn,updateProperties:fn,diffHydratedProperties:dn,diffHydratedText:pn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=S(i);o||r("90"),ae(i),qt(i,o)}}}break;case"textarea":Jt(e,n);break;case"select":null!=(t=n.value)&&Gt(e,!!n.multiple,t,!1)}}});Pr.injectFiberControlledHostComponent(io);var oo=null,ao=null,so=ji({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){oo=qr;var e=Cn();if(Le(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,l=0,c=e,f=null;t:for(;;){for(var d;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++l===n&&(s=o),null!==(d=c.nextSibling))break;c=f,f=c.parentNode}c=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;ao={focusedElem:e,selectionRange:t},Pe(!1)},resetAfterCommit:function(){var e=ao,t=Cn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Sn(document.documentElement,n)){if(Le(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[D()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=Fe(n,e);var o=Fe(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(Tn(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}ao=null,Pe(oo),oo=null},createInstance:function(e,t,n,r,i){return e=sn(e,t,n,r),e[or]=i,e[ar]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){ln(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return cn(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=un(e,t),e[or]=r,e},now:Ai,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){e[ar]=i,fn(e,t,n,r,i)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[or]=o,e[ar]=n,dn(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[or]=n,pn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ni,cancelDeferredCallback:Ii,useSyncScheduling:!0});Q=so.batchedUpdates,gn.prototype.render=function(e,t){so.updateContainer(e,this._reactRootContainer,null,t)},gn.prototype.unmount=function(e){so.updateContainer(null,this._reactRootContainer,null,e)};var uo={createPortal:mn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return so.findHostInstance(t);"function"===typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return yn(null,e,t,!0,n)},render:function(e,t,n){return yn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),yn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return hn(e)||r("40"),!!e._reactRootContainer&&(so.unbatchedUpdates(function(){yn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:mn,unstable_batchedUpdates:Z,unstable_deferredUpdates:so.deferredUpdates,flushSync:so.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Jn,EventPropagators:ur,ReactControlledComponent:Mr,ReactDOMComponentTree:sr,ReactDOMEventListener:Vr}};so.injectIntoDevTools({findFiberByHostInstance:C,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var lo=Object.freeze({default:uo}),co=lo&&uo||lo;e.exports=co.default?co.default:co},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(67),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(244);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(245);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n.n(a),u=n(248),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"Home page",className:"App"},s.a.createElement(u.a,null))}}]),t}(a.Component);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(249),u=(n.n(s),n(250)),l=(n.n(u),n(251)),c=n.n(l),f=n(2),d=n.n(f),p=n(3),h=n.n(p),v=n(11),y=n.n(v),m=n(52),g=(n.n(m),n(348)),b=n.n(g),_=n(381),w=n.n(_),k=n(383),x=n.n(k),C=n(35),E=n.n(C),S=n(120),T=n.n(S),O=n(84),P=n.n(O),M=n(399),j=n(548),R=n(566),A=n(567),N=n(568),I=n(570),D=n(183),F=n.n(D),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=n(90),B=function(e){return{root:{width:"100%",height:900,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%",color:"primary"},appBar:{position:"absolute",width:"calc(100% - 240px)",backgroundColor:"#ECEFF1"},button:{position:"relative",margin:e.spacing.unit,left:"calc(100% - 240px)"},drawerPaper:{position:"relative",height:"100%",width:240,backgroundColor:"#ECEFF1"},drawerHeader:e.mixins.toolbar,content:a({backgroundColor:e.palette.background.default,width:"100%",padding:3*e.spacing.unit,height:"calc(100%)",marginTop:56},e.breakpoints.up("sm"),{height:"calc(100% )",marginTop:64}),row:{display:"flex",justifyContent:"center"}}},H=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLogin:!1,isChatSetUp:!1,isFirstLogin:!1,isLocked:!1,currentUserName:"",currentUserEmail:"",currentUserPicture:"",currentChatClient:"",currentChannel:"",twilioIdentity:"",twilioToken:"",contectList:[]},n.login=n.login.bind(n),n.logout=n.logout.bind(n),n.changeChannel=n.changeChannel.bind(n),n.changeIsFirstLogin=n.changeIsFirstLogin.bind(n),n.changeIsLocked=n.changeIsLocked.bind(n),n}return o(t,e),L(t,[{key:"componentDidMount",value:function(){var e=this;U.get("/userinfo").then(function(t){if(t.data.user_status){var n=t.data.user_name,r=t.data.user_email,i=t.data.user_picture,o=t.data.user_status,a=t.data.user_isFirsttime;e.setState({isLogin:o}),e.setState({isFirstLogin:a}),e.setState({currentUserName:n}),e.setState({currentUserEmail:r}),e.setState({currentUserPicture:i})}else console.log(t)}).catch(function(e){console.log(e)}),U.get("/token").then(function(t){if(t.data.token){var n=t.data.identity,r=t.data.token,i=new F.a(r);e.setState({twilioIdentity:n}),e.setState({twilioToken:r}),e.setState({currentChatClient:i})}else;}).catch(function(e){console.log(e)})}},{key:"login",value:function(){window.location.href="http://127.0.0.1:5000/login"}},{key:"logout",value:function(){window.location.href="http://127.0.0.1:5000/logout",this.setState({isChatSetUp:!1})}},{key:"changeChannel",value:function(e){this.setState({currentChannel:e}),this.setState({currentChannelName:e.friendlyName}),this.setState({isChatSetUp:!0})}},{key:"changeIsFirstLogin",value:function(){this.setState({isFirstLogin:!1})}},{key:"changeIsLocked",value:function(e){var t=e;this.setState({isLocked:t}),this.state.isLocked?console.log("Locked mode - CHILD MODE"):console.log("Unlocked mode - PARENT MODE")}},{key:"render",value:function(){var e=this.props.classes,t=this.state.isLogin,n=this.state.isFirstLogin,r=this.state.isChatSetUp,i=this.state.isLocked,o="Chating service is running ! Your are currently in "+this.state.currentChannelName;this.state.currentChannelName||(o="Chating service is running !");var a=d.a.createElement(b.a,{type:"permanent",classes:{paper:e.drawerPaper}},d.a.createElement("div",{id:"person info container",className:e.drawerHeader,children:d.a.createElement("div",{className:e.row,id:"person info display after login"},t?d.a.createElement("div",null,d.a.createElement(A.a,{name:this.state.currentUserName,email:this.state.currentUserEmail,picture:this.state.currentUserPicture}),d.a.createElement(N.a,{changeStatus:this.changeIsLocked})):d.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}))}),d.a.createElement(T.a,null),d.a.createElement("div",{id:"Contects container"},t?d.a.createElement("div",{id:"contects list title"},d.a.createElement(E.a,{type:"title",color:"default",children:"Contect List",noWrap:!0}),d.a.createElement(T.a,null),i?d.a.createElement(M.a,{isLocked:i,changeChannel:this.changeChannel}):d.a.createElement("div",null),d.a.createElement(T.a,null)):d.a.createElement("div",{id:"loading list"})));return d.a.createElement("div",{id:"home page container"},d.a.createElement("div",{id:"root",className:e.root},d.a.createElement("div",{id:"appFrame",className:e.appFrame},d.a.createElement(w.a,{className:y()(e.appBar)},t?d.a.createElement(x.a,null,d.a.createElement(E.a,{type:"title",color:"default",noWrap:!0},"Welcome Back!"),d.a.createElement(P.a,{className:y()(e.button),color:"default",onClick:this.logout},"Logout")):d.a.createElement(x.a,null,d.a.createElement(E.a,{type:"title",color:"default",noWrap:!0},"Designed for kids"),d.a.createElement(P.a,{className:y()(e.button),color:"default",onClick:this.login},"Login"))),n?d.a.createElement("div",{className:y()("background")},d.a.createElement(I.a,{changeLoginStatus:this.changeIsFirstLogin})):d.a.createElement("div",null,a,d.a.createElement("main",{className:y()(e.content,"background")},d.a.createElement("div",{id:"chat window"},t?d.a.createElement("div",{id:"display window"},r?d.a.createElement("div",{id:"twilio service running "},d.a.createElement(E.a,{type:"title",color:"default",noWrap:!0},o),d.a.createElement(j.a,{currentChannel:this.state.currentChannel,currentUser:this.state.currentUserEmail})):d.a.createElement(E.a,{type:"title",color:"default",noWrap:!0},"Chat service disconnected -.-")):d.a.createElement("div",{id:"no login no window"})))))),d.a.createElement("footer",null,d.a.createElement(R.a,null)))}}]),t}(d.a.Component);H.propTypes={classes:h.a.object.isRequired},t.a=Object(m.withStyles)(B)(H)},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"bundle/media/logo.78eeaaea.svg"},function(e,t,n){"use strict";var r=n(67),i=n(253),o=n(254);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(10),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(2),b=r(g),_=n(3),w=r(_),k=n(17),x=(r(k),n(284)),C=r(x),E=n(107),S=r(E),T=n(108),O=(r(T),function(e){function t(e,n){(0,f.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n));return r.broadcast=(0,C.default)(),r.unsubscribeId=null,r.outerTheme=null,r.outerTheme=S.default.initial(n),r.broadcast.setState(r.mergeOuterLocalTheme(r.props.theme)),r}return(0,m.default)(t,e),(0,p.default)(t,[{key:"getChildContext",value:function(){var e;return e={},(0,s.default)(e,E.CHANNEL,this.broadcast),(0,s.default)(e,"muiThemeProviderOptions",{sheetsManager:this.props.sheetsManager,disableStylesGeneration:this.props.disableStylesGeneration}),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=S.default.subscribe(this.context,function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))})}},{key:"componentWillReceiveProps",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(e.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&S.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"===typeof e?e(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(b.default.Component));O.propTypes={},O.propTypes={},O.defaultProps={disableStylesGeneration:!1,sheetsManager:null},O.childContextTypes=(0,o.default)({},S.default.contextTypes,{muiThemeProviderOptions:w.default.object}),O.contextTypes=S.default.contextTypes,t.default=O},function(e,t,n){n(257),e.exports=n(14).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(258)})},function(e,t,n){"use strict";var r=n(55),i=n(101),o=n(70),a=n(44),s=n(95),u=Object.assign;e.exports=!u||n(36)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,p=s(arguments[l++]),h=c?r(p).concat(c(p)):r(p),v=h.length,y=0;v>y;)f.call(p,d=h[y++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(43),i=n(68),o=n(260);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(97),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){n(262);var r=n(14).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(25),"Object",{defineProperty:n(24).f})},function(e,t,n){n(264),e.exports=n(14).Object.getPrototypeOf},function(e,t,n){var r=n(44),i=n(138);n(103)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){n(38),n(46),e.exports=n(105).f("iterator")},function(e,t,n){var r=n(97),i=n(96);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(72),i=n(54),o=n(58),a={};n(32)(a,n(19)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(269),i=n(143),o=n(45),a=n(43);e.exports=n(104)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){e.exports={default:n(271),__esModule:!0}},function(e,t,n){n(272),n(74),n(275),n(276),e.exports=n(14).Symbol},function(e,t,n){"use strict";var r=n(21),i=n(37),o=n(25),a=n(16),s=n(140),u=n(73).KEY,l=n(36),c=n(99),f=n(58),d=n(69),p=n(19),h=n(105),v=n(106),y=n(273),m=n(144),g=n(28),b=n(22),_=n(43),w=n(94),k=n(54),x=n(72),C=n(274),E=n(146),S=n(24),T=n(55),O=E.f,P=S.f,M=C.f,j=r.Symbol,R=r.JSON,A=R&&R.stringify,N=p("_hidden"),I=p("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),L=c("symbols"),U=c("op-symbols"),B=Object.prototype,H="function"==typeof j,z=r.QObject,q=!z||!z.prototype||!z.prototype.findChild,W=o&&l(function(){return 7!=x(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(B,t);r&&delete B[t],P(e,t,n),r&&e!==B&&P(B,t,r)}:P,V=function(e){var t=L[e]=x(j.prototype);return t._k=e,t},K=H&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},G=function(e,t,n){return e===B&&G(U,t,n),g(e),t=w(t,!0),g(n),i(L,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=x(n,{enumerable:k(0,!1)})):(i(e,N)||P(e,N,k(1,{})),e[N][t]=!0),W(e,t,n)):P(e,t,n)},$=function(e,t){g(e);for(var n,r=y(t=_(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},Y=function(e,t){return void 0===t?x(e):$(x(e),t)},X=function(e){var t=D.call(this,e=w(e,!0));return!(this===B&&i(L,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,N)&&this[N][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==B||!i(L,t)||i(U,t)){var n=O(e,t);return!n||!i(L,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=M(_(e)),r=[],o=0;n.length>o;)i(L,t=n[o++])||t==N||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=M(n?U:_(e)),o=[],a=0;r.length>a;)!i(L,t=r[a++])||n&&!i(B,t)||o.push(L[t]);return o};H||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(U,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),W(this,e,k(1,n))};return o&&q&&W(B,e,{configurable:!0,set:t}),V(e)},s(j.prototype,"toString",function(){return this._k}),E.f=J,S.f=G,n(145).f=C.f=Q,n(70).f=X,n(101).f=Z,o&&!n(71)&&s(B,"propertyIsEnumerable",X,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:j});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=T(p.store),re=0;ne.length>re;)v(ne[re++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=j(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:Y,defineProperty:G,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),R&&a(a.S+a.F*(!H||l(function(){var e=j();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,A.apply(R,r)}}),j.prototype[I]||n(32)(j.prototype,I,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(55),i=n(101),o=n(70);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(43),i=n(145).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(106)("asyncIterator")},function(e,t,n){n(106)("observable")},function(e,t,n){e.exports={default:n(278),__esModule:!0}},function(e,t,n){n(279),e.exports=n(14).Object.setPrototypeOf},function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(280).set})},function(e,t,n){var r=n(22),i=n(28),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(30)(Function.call,n(146).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(282),__esModule:!0}},function(e,t,n){n(283);var r=n(14).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(72)})},function(e,t,n){"use strict";function r(e){function t(){return s}function n(e){s=e;for(var t=Object.keys(o),n=0,r=t.length;n<r;n++)o[t[n]]&&o[t[n]](e)}function r(e){if("function"!==typeof e)throw new Error("listener must be a function.");var t=a;return o[t]=e,a+=1,t}function i(e){o[e]=void 0}var o={},a=1,s=e;return{getState:t,setState:n,subscribe:r,unsubscribe:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){n(286),e.exports=n(14).Object.keys},function(e,t,n){var r=n(44),i=n(55);n(103)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(74),n(38),n(46),n(288),n(292),n(294),n(295),e.exports=n(14).Map},function(e,t,n){"use strict";var r=n(147),i=n(112);e.exports=n(151)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(30),i=n(95),o=n(44),a=n(68),s=n(290);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,y,m=o(t),g=i(m),b=r(s,h,3),_=a(g.length),w=0,k=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],y=b(v,w,m),e))if(n)k[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(c)return!1;return f?-1:l||c?c:k}}},function(e,t,n){var r=n(291);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(22),i=n(144),o=n(19)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(152)("Map")})},function(e,t,n){var r=n(59);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(153)("Map")},function(e,t,n){n(154)("Map")},function(e,t,n){e.exports={default:n(297),__esModule:!0}},function(e,t,n){n(298),e.exports=-9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(157),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),u=n(300),l=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=(i={},r(i,s.jss,l.default.jss),r(i,s.sheetOptions,o.object),r(i,s.sheetsRegistry,l.default.registry),r(i,s.managers,o.object),i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default={jss:(0,r.shape)({options:(0,r.shape)({createGenerateClassName:r.func.isRequired}).isRequired,createStyleSheet:r.func.isRequired,removeStyleSheet:r.func.isRequired}),registry:(0,r.shape)({add:r.func.isRequired,toString:r.func.isRequired})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){function t(e){var n=null;for(var i in e){var o=e[i],a="undefined"===typeof o?"undefined":r(o);if("function"===a)n||(n={}),n[i]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var s=t(o);s&&(n||(n={}),n[i]=s)}}return n}return t(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e),this.sheets=[],this.refs=[],this.keys=[]}return i(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var n=this.sheets,r=this.refs,i=this.keys,o=n.indexOf(t);return-1!==o?o:(n.push(t),r.push(0),i.push(e),n.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),n=this.sheets[t];return 0===this.refs[t]&&n.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),n}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);if(-1===t)return void(0,a.default)(!1,"SheetsManager: can't find sheet to unmanage");this.refs[t]>0&&0===--this.refs[t]&&this.sheets[t].detach()}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){if(null==e)return e;var t="undefined"===typeof e?"undefined":i(e);if("string"===t||"number"===t||"function"===t)return e;if(s(e))return e.map(r);if((0,a.default)(e))return e;var n={};for(var o in e){var u=e[o];"object"!==("undefined"===typeof u?"undefined":i(u))?n[o]=u:n[o]=r(u)}return n}Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var o=n(160),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=Array.isArray},function(e,t,n){e.exports=n(305)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(306),a=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var s=(0,a.default)(i);t.default=s}).call(t,n(18),n(161)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(t,n(18))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="2f1acc6c3a606b082e5eef5e54414ffb";null==e[n]&&(e[n]=0),t.default=e[n]++}).call(t,n(18))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(78),l=r(u),c=n(164),f=r(c),d=n(310),p=r(d),h=n(311),v=r(h),y=n(317),m=r(y),g=n(318),b=r(g),_=n(114),w=r(_),k=n(47),x=r(k),C=n(163),E=r(C),S=n(77),T=r(S),O=n(320),P=r(O),M=n(321),j=r(M),R=v.default.concat([m.default,b.default]),A=0,N=function(){function e(t){i(this,e),this.id=A++,this.version="9.5.0",this.plugins=new p.default,this.options={createGenerateClassName:E.default,Renderer:l.default?P.default:j.default,plugins:[]},this.generateClassName=(0,E.default)(),this.use.apply(this,R),this.setup(t)}return s(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?j.default:P.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index;"number"!==typeof n&&(n=0===w.default.index?0:w.default.index+1);var r=new f.default(e,a({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r}},{key:"removeStyleSheet",value:function(e){return e.detach(),w.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===("undefined"===typeof e?"undefined":o(e))&&(n=t,t=e,e=void 0);var r=n;r.jss=this,r.Renderer=this.options.Renderer,r.generateClassName||(r.generateClassName=this.generateClassName),r.classes||(r.classes={});var i=(0,T.default)(e,t,r);return!r.selector&&i instanceof x.default&&(i.selector="."+r.generateClassName(i)),this.plugins.onProcessRule(i),i}},{key:"use",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))}),this}}]),e}();t.default=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return i(e,[{key:"onCreateRule",value:function(e,t,n){for(var r=0;r<this.hooks.onCreateRule.length;r++){var i=this.hooks.onCreateRule[r](e,t,n);if(i)return i}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.hooks.onProcessRule.length;n++)this.hooks.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,n){for(var r=e,i=0;i<this.hooks.onProcessStyle.length;i++)r=this.hooks.onProcessStyle[i](r,t,n),t.style=r}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,n){for(var r=0;r<this.hooks.onUpdate.length;r++)this.hooks.onUpdate[r](e,t,n)}},{key:"onChangeValue",value:function(e,t,n){for(var r=e,i=0;i<this.hooks.onChangeValue.length;i++)r=this.hooks.onChangeValue[i](r,t,n);return r}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,a.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(312),o=r(i),a=n(313),s=r(a),u=n(314),l=r(u),c=n(315),f=r(c),d=n(316),p=r(d),h={"@charset":o.default,"@import":o.default,"@namespace":o.default,"@keyframes":s.default,"@media":l.default,"@supports":l.default,"@font-face":f.default,"@viewport":p.default,"@-ms-viewport":p.default};t.default=Object.keys(h).map(function(e){var t=new RegExp("^"+e);return{onCreateRule:function(n,r,i){return t.test(n)?new h[e](n,r,i):null}}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,i){r(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(60),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t,n,o){r(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=o,this.rules=new s.default(i({},o,{parent:this}));for(var a in n)this.rules.add(a,n[a],i({},this.options,{parent:this,selector:a}));this.rules.process()}return o(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(60),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t,n,o){r(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=o,this.rules=new s.default(i({},o,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}return o(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(113),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i){r(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=(0,a.default)(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return(0,a.default)(this.key,this.style,e)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(113),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i){r(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){return(0,a.default)(this.key,this.style,e)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),o=r(i),a=n(77),s=r(a),u=n(160),l=r(u);t.default={onCreateRule:function(e,t,n){if(!(0,l.default)(t))return null;var r=t,i=(0,s.default)(e,{},n);return r.subscribe(function(e){for(var t in e)i.prop(t,e[t])}),i},onProcessRule:function(e){if(e instanceof o.default){var t=e,n=t.style;for(var r in n){(function(e){var r=n[e];if(!(0,l.default)(r))return"continue";delete n[e],r.subscribe({next:function(n){t.prop(e,n)}})})(r)}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),o=r(i),a=n(47),s=r(a),u=n(319),l=r(u),c=n(77),f=r(c),d=Date.now(),p="fnValues"+d,h="fnStyle"+ ++d;t.default={onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=(0,f.default)(e,{},n);return r[h]=t,r},onProcessStyle:function(e,t){var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[(0,l.default)(r)]=i)}return t=t,t[p]=n,e},onUpdate:function(e,t){if(t.rules instanceof o.default)return void t.rules.update(e);if(t instanceof s.default){if(t=t,t[p])for(var n in t[p])t.prop(n,t[p][n](e));t=t;var r=t[h];if(r){var i=r(e);for(var a in i)t.prop(a,i[a])}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([A-Z])/g,i=function(e){return"-"+e.toLowerCase()};t.default=function(e){return e.replace(r,i)}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function a(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=(0,w.default)(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.style.setProperty(t,r)}catch(e){return!1}return!0}function s(e,t){return e.selectorText=t,e.selectorText===t}function u(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function l(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function c(e){for(var t=C(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}function f(e){var t=m.default.registry;if(t.length>0){var n=u(t,e);if(n)return n.renderer.element;if(n=l(t,e))return n.renderer.element.nextElementSibling}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=c(r);if(i)return i.nextSibling;(0,v.default)("jss"===r,'[JSS] Insertion point "%s" not found.',r)}return null}function d(e,t){var n=t.insertionPoint,r=f(t);if(r){var i=r.parentNode;return void(i&&i.insertBefore(e,r))}if(n&&"number"===typeof n.nodeType){var o=n,a=o.parentNode;return void(a?a.insertBefore(e,o.nextSibling):(0,v.default)(!1,"[JSS] Insertion point is not in the DOM."))}C().insertBefore(e,r)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(17),v=r(h),y=n(114),m=r(y),g=n(47),b=r(g),_=n(76),w=r(_),k={STYLE_RULE:1,KEYFRAMES_RULE:7},x=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===k.STYLE_RULE)return t.selectorText;if(t.type===k.KEYFRAMES_RULE){var n=t.name;if(n)return"@keyframes "+n;var r=t.cssText;return"@"+e(r,r.indexOf("keyframes"))}return e(t.cssText)}}(),C=function(){var e=void 0;return function(){return e||(e=document.head||document.getElementsByTagName("head")[0]),e}}(),E=function(){var e=void 0,t=!1;return function(n){var r={};e||(e=document.createElement("style"));for(var i=0;i<n.length;i++){var o=n[i];if(o instanceof b.default){var a=o.selector;if(a&&-1!==a.indexOf("\\")){t||(C().appendChild(e),t=!0),e.textContent=a+" {}";var s=e,u=s.sheet;if(u){var l=u.cssRules;l&&(r[l[0].selectorText]=o.key)}}}}return t&&(C().removeChild(e),t=!1),r}}(),S=function(){function t(n){i(this,t),this.getStyle=o,this.setStyle=a,this.setSelector=s,this.getKey=x,this.getUnescapedKeysMap=E,this.hasInsertedRules=!1,n&&m.default.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},u=r.media,l=r.meta,c=r.element;this.element=c||document.createElement("style"),this.element.type="text/css",this.element.setAttribute("data-jss",""),u&&this.element.setAttribute("media",u),l&&this.element.setAttribute("data-meta",l);var f=e.__webpack_nonce__;f&&this.element.setAttribute("nonce",f)}return p(t,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),d(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var n=this.element.sheet,r=n.cssRules,i=e.toString();if(t||(t=r.length),!i)return!1;try{n.insertRule(i,t)}catch(t){return(0,v.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,r[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1}},{key:"replaceRule",value:function(e,t){var n=this.indexOf(e),r=this.insertRule(t,n);return this.element.sheet.deleteRule(n),r}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),t}();t.default=S}).call(t,n(18))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"setStyle",value:function(){return!0}},{key:"getStyle",value:function(){return""}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=e.split(v),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function o(e){var t=e.options,n=e.style,r=n[f];if(r){for(var o in r)t.sheet.addRule(o,r[o],u({},t,{selector:i(o,e.selector)}));delete n[f]}}function a(e){var t=e.options,n=e.style;for(var r in n)if(r.substr(0,f.length)===f){var o=i(r.substr(f.length),e.selector);t.sheet.addRule(o,n[r],u({},t,{selector:o})),delete n[r]}}function s(){function e(e,t,n){if(e===f)return new p(e,t,n);if("@"===e[0]&&e.substr(0,d.length)===d)return new h(e,t,n);var r=n.parent;return r&&("global"!==r.type&&"global"!==r.options.parent.type||(n.global=!0)),n.global&&(n.selector=e),null}function t(e){"style"===e.type&&(o(e),a(e))}return{onCreateRule:e,onProcessRule:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(158),f="@global",d="@global ",p=function(){function e(t,n,i){r(this,e),this.type="global",this.key=t,this.options=i,this.rules=new c.RuleList(u({},i,{parent:this}));for(var o in n)this.rules.add(o,n[o],{selector:o});this.rules.process()}return l(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),h=function(){function e(t,n,i){r(this,e),this.name=t,this.options=i;var o=t.substr(d.length);this.rule=i.jss.createRule(o,n,u({},i,{parent:this,selector:o}))}return l(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),v=/\s*,\s*/g},function(e,t,n){"use strict";function r(){function e(e){return function(t,n){var r=e.getRule(n);return r?r.selector:((0,a.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",n,e.options.meta||e),n)}}function t(e,t){for(var n=t.split(s),r=e.split(s),i="",a=0;a<n.length;a++)for(var l=n[a],c=0;c<r.length;c++){var f=r[c];i&&(i+=", "),i+=o(f)?f.replace(u,l):l+" "+f}return i}function n(e,t,n){if(n)return i({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,i({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}function r(r,a){if("style"!==a.type)return r;var s=a.options.parent,u=void 0,c=void 0;for(var f in r){var d=o(f),p="@"===f[0];if(d||p){if(u=n(a,s,u),d){var h=t(f,a.selector);c||(c=e(s)),h=h.replace(l,c),s.addRule(h,r[f],i({},u,{selector:h}))}else p&&s.addRule(f,null,u).addRule(a.key,r[f],{selector:a.selector});delete r[f]}}return r}var o=function(e){return-1!==e.indexOf("&")};return{onProcessStyle:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(17),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=/\s*,\s*/g,u=/&/g,l=/\$([\w-]+)/g},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}function i(e){var t={};for(var n in e)t[n.replace(a,r)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(i):t.fallbacks=i(e.fallbacks)),t}function o(){function e(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e}return i(e)}return{onProcessStyle:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=/([A-Z])/g},function(e,t,n){"use strict";function r(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}function i(e,t,n){if(!t)return t;var r=t,o="undefined"===typeof t?"undefined":a(t);switch("object"===o&&Array.isArray(t)&&(o="array"),o){case"object":if("fallbacks"===e){for(var s in t)t[s]=i(s,t[s],n);break}for(var u in t)t[u]=i(e+"-"+u,t[u],n);break;case"array":for(var c=0;c<t.length;c++)t[c]=i(e,t[c],n);break;case"number":0!==t&&(r=t+(n[e]||l[e]||""))}return r}function o(){function e(e,t){if("style"!==t.type)return e;for(var n in e)e[n]=i(n,e[n],o);return e}function t(e,t){return i(t,e,o)}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r(n);return{onProcessStyle:e,onChangeValue:t}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var s=n(326),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=r(u.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,n){"use strict";function r(){function e(e){"keyframes"===e.type&&(e.key="@"+o.prefix.css+e.key.substr(1))}function t(e,t){if("style"!==t.type)return e;for(var n in e){var r=e[n],i=!1,a=o.supportedProperty(n);a&&a!==n&&(i=!0);var s=!1,u=o.supportedValue(a,r);u&&u!==r&&(s=!0),(i||s)&&(i&&delete e[n],e[a||n]=u||r)}return e}function n(e,t){return o.supportedValue(t,e)}return{onProcessRule:e,onProcessStyle:t,onChangeValue:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(328),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var i=n(115),o=r(i),a=n(329),s=r(a),u=n(331),l=r(u);t.default={prefix:o.default,supportedProperty:s.default,supportedValue:l.default},t.prefix=o.default,t.supportedProperty=s.default,t.supportedValue=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return f?null!=d[e]?d[e]:((0,c.default)(e)in f.style?d[e]=e:u.default.js+(0,c.default)("-"+e)in f.style?d[e]=u.default.css+e:d[e]=!1,d[e]):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(78),a=r(o),s=n(115),u=r(s),l=n(330),c=r(l),f=void 0,d={};if(a.default){f=document.createElement("p");var p=window.getComputedStyle(document.documentElement,"");for(var h in p)isNaN(h)||(d[p[h]]=p[h])}},function(e,t,n){"use strict";function r(e){return e.replace(o,i)}function i(e,t){return t?t.toUpperCase():""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=/[-\s]+(.)?/g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!c)return t;if("string"!==typeof t||!isNaN(parseInt(t,10)))return t;var n=e+t;if(null!=l[n])return l[n];try{c.style[e]=t}catch(e){return l[n]=!1,!1}return""!==c.style[e]?l[n]=t:(t=u.default.css+t,"-ms-flex"===t&&(t="-ms-flexbox"),c.style[e]=t,""!==c.style[e]&&(l[n]=t)),l[n]||(l[n]=!1),c.style[e]="",l[n]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(78),a=r(o),s=n(115),u=r(s),l={},c=void 0;a.default&&(c=document.createElement("p"))},function(e,t,n){"use strict";function r(){function e(e,t){return e.length-t.length}function t(t,n){if("style"!==n.type)return t;var r={},i=Object.keys(t).sort(e);for(var o in i)r[i[o]]=t[i[o]];return r}return{onProcessStyle:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return Math.round(1e5*e)/1e5}function o(e,t){function n(e){return e/g+"rem"}var r="function"===typeof t?t(e):t,o=r.fontFamily,a=void 0===o?'"Roboto", "Helvetica", "Arial", sans-serif':o,u=r.fontSize,c=void 0===u?14:u,f=r.fontWeightLight,d=void 0===f?300:f,p=r.fontWeightRegular,h=void 0===p?400:p,v=r.fontWeightMedium,y=void 0===v?500:v,m=r.htmlFontSize,g=void 0===m?16:m,b=(0,s.default)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize"]);return(0,l.default)({pxToRem:n,fontFamily:a,fontSize:c,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:y,display4:{fontSize:n(112),fontWeight:d,fontFamily:a,letterSpacing:"-.04em",lineHeight:i(128/112)+"em",marginLeft:"-.06em",color:e.text.secondary},display3:{fontSize:n(56),fontWeight:h,fontFamily:a,letterSpacing:"-.02em",lineHeight:i(73/56)+"em",marginLeft:"-.04em",color:e.text.secondary},display2:{fontSize:n(45),fontWeight:h,fontFamily:a,lineHeight:i(48/45)+"em",marginLeft:"-.04em",color:e.text.secondary},display1:{fontSize:n(34),fontWeight:h,fontFamily:a,lineHeight:i(41/34)+"em",marginLeft:"-.04em",color:e.text.secondary},headline:{fontSize:n(24),fontWeight:h,fontFamily:a,lineHeight:i(32.5/24)+"em",color:e.text.primary},title:{fontSize:n(21),fontWeight:y,fontFamily:a,lineHeight:i(24.5/21)+"em",color:e.text.primary},subheading:{fontSize:n(16),fontWeight:h,fontFamily:a,lineHeight:i(1.5)+"em",color:e.text.primary},body2:{fontSize:n(14),fontWeight:y,fontFamily:a,lineHeight:i(24/14)+"em",color:e.text.primary},body1:{fontSize:n(14),fontWeight:h,fontFamily:a,lineHeight:i(20.5/14)+"em",color:e.text.primary},caption:{fontSize:n(12),fontWeight:h,fontFamily:a,lineHeight:i(1.375)+"em",color:e.text.secondary},button:{fontSize:n(c),textTransform:"uppercase",fontWeight:y,fontFamily:a}},b,{clone:!1})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a);t.default=o;var u=n(79),l=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return"@media (min-width:"+("number"===typeof c[e]?c[e]:e)+d+")"}function n(e){var n=l.indexOf(e)+1,r=c[l[n]];return n===l.length?t("xs"):"@media (max-width:"+(("number"===typeof r&&n>0?r:e)-h/100)+d+")"}function r(e,n){var r=l.indexOf(n)+1;return r===l.length?t(e):"@media (min-width:"+c[e]+d+") and (max-width:"+(c[l[r]]-h/100)+d+")"}function i(e){return r(e,e)}function o(e){return c[e]}var s=e.values,c=void 0===s?{xs:0,sm:600,md:960,lg:1280,xl:1920}:s,f=e.unit,d=void 0===f?"px":f,p=e.step,h=void 0===p?5:p,v=(0,u.default)(e,["values","unit","step"]);return(0,a.default)({keys:l,values:c,up:t,down:n,between:r,only:i,width:o},v)}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=void 0;var o=n(4),a=r(o),s=n(8),u=r(s);t.default=i;var l=t.keys=["xs","sm","md","lg","xl"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,k.getContrastRatio)(e,w.default.black)<7?C.text.primary:x.text.primary}function o(e){var t=e.primary,n=void 0===t?p.default:t,r=e.secondary,o=void 0===r?v.default:r,a=e.error,s=void 0===a?b.default:a,l=e.type,c=void 0===l?"light":l,d=(0,u.default)(e,["primary","secondary","error","type"]),h={dark:C,light:x},y=(0,f.default)({common:w.default,type:c,primary:n,secondary:o,error:s,grey:m.default,shades:h,text:h[c].text,input:h[c].input,action:h[c].action,background:h[c].background,line:h[c].line,getContrastText:i},d,{clone:!1});return y}Object.defineProperty(t,"__esModule",{value:!0}),t.dark=t.light=void 0;var a=n(33),s=(r(a),n(8)),u=r(s);t.default=o;var l=n(17),c=(r(l),n(79)),f=r(c),d=n(336),p=r(d),h=n(337),v=r(h),y=n(338),m=r(y),g=n(165),b=r(g),_=n(339),w=r(_),k=n(80),x=t.light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)",icon:"rgba(0, 0, 0, 0.38)",divider:"rgba(0, 0, 0, 0.12)",lightDivider:"rgba(0, 0, 0, 0.075)"},input:{bottomLine:"rgba(0, 0, 0, 0.42)",helperText:"rgba(0, 0, 0, 0.54)",labelText:"rgba(0, 0, 0, 0.54)",inputText:"rgba(0, 0, 0, 0.87)",disabled:"rgba(0, 0, 0, 0.42)"},action:{active:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.26)"},background:{default:m.default[50],paper:w.default.white,appBar:m.default[100],contentFrame:m.default[200],chip:m.default[300]},line:{stepper:m.default[400]}},C=t.dark={text:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)",divider:"rgba(255, 255, 255, 0.12)",lightDivider:"rgba(255, 255, 255, 0.075)"},input:{bottomLine:"rgba(255, 255, 255, 0.7)",helperText:"rgba(255, 255, 255, 0.7)",labelText:"rgba(255, 255, 255, 0.7)",inputText:"rgba(255, 255, 255, 1)",disabled:"rgba(255, 255, 255, 0.5)"},action:{active:"rgba(255, 255, 255, 1)",disabled:"rgba(255, 255, 255, 0.3)"},background:{default:"#303030",paper:m.default[800],appBar:m.default[900],contentFrame:m.default[900],chip:m.default[800]},line:{stepper:m.default[400]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={black:"#000",white:"#fff",transparent:"rgba(0, 0, 0, 0)",fullBlack:"rgba(0, 0, 0, 1)",darkBlack:"rgba(0, 0, 0, 0.87)",lightBlack:"rgba(0, 0, 0, 0.54)",minBlack:"rgba(0, 0, 0, 0.26)",faintBlack:"rgba(0, 0, 0, 0.12)",fullWhite:"rgba(255, 255, 255, 1)",darkWhite:"rgba(255, 255, 255, 0.87)",lightWhite:"rgba(255, 255, 255, 0.54)"};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r;return(0,u.default)({gutters:function(n){return(0,u.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},n,(0,a.default)({},e.up("sm"),(0,u.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,a.default)(r,e.up("xs")+" and (orientation: landscape)",{minHeight:48}),(0,a.default)(r,e.up("sm"),{minHeight:64}),r)},n)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=r(o),s=n(4),u=r(s);t.default=i},function(e,t,n){"use strict";function r(){return[(arguments.length<=0?void 0:arguments[0])+"px "+(arguments.length<=1?void 0:arguments[1])+"px "+(arguments.length<=2?void 0:arguments[2])+"px "+(arguments.length<=3?void 0:arguments[3])+"px rgba(0, 0, 0, "+i+")",(arguments.length<=4?void 0:arguments[4])+"px "+(arguments.length<=5?void 0:arguments[5])+"px "+(arguments.length<=6?void 0:arguments[6])+"px "+(arguments.length<=7?void 0:arguments[7])+"px rgba(0, 0, 0, "+o+")",(arguments.length<=8?void 0:arguments[8])+"px "+(arguments.length<=9?void 0:arguments[9])+"px "+(arguments.length<=10?void 0:arguments[10])+"px "+(arguments.length<=11?void 0:arguments[11])+"px rgba(0, 0, 0, "+a+")"].join(",")}Object.defineProperty(t,"__esModule",{value:!0});var i=.2,o=.14,a=.12,s=["none",r(0,1,3,0,0,1,1,0,0,2,1,-1),r(0,1,5,0,0,2,2,0,0,3,1,-2),r(0,1,8,0,0,3,4,0,0,3,3,-2),r(0,2,4,-1,0,4,5,0,0,1,10,0),r(0,3,5,-1,0,5,8,0,0,1,14,0),r(0,3,5,-1,0,6,10,0,0,1,18,0),r(0,4,5,-2,0,7,10,1,0,2,16,1),r(0,5,5,-3,0,8,10,1,0,3,14,2),r(0,5,6,-3,0,9,12,1,0,3,16,2),r(0,6,6,-3,0,10,14,1,0,4,18,3),r(0,6,7,-4,0,11,15,1,0,4,20,3),r(0,7,8,-4,0,12,17,2,0,5,22,4),r(0,7,8,-4,0,13,19,2,0,5,24,4),r(0,7,9,-4,0,14,21,2,0,5,26,4),r(0,8,9,-5,0,15,22,2,0,6,28,5),r(0,8,10,-5,0,16,24,2,0,6,30,5),r(0,8,11,-5,0,17,26,2,0,6,32,5),r(0,9,11,-5,0,18,28,2,0,7,34,6),r(0,9,12,-6,0,19,29,2,0,7,36,6),r(0,10,13,-6,0,20,31,3,0,8,38,7),r(0,10,13,-6,0,21,33,3,0,8,40,7),r(0,10,14,-6,0,22,35,3,0,8,42,7),r(0,11,14,-7,0,23,36,3,0,9,44,8),r(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=s},function(e,t,n){e.exports={default:n(343),__esModule:!0}},function(e,t,n){n(344),e.exports=n(14).Number.isNaN},function(e,t,n){var r=n(16);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={unit:8}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t,r){var i=n?e(t):e;if(!t.overrides||!r||!t.overrides[r])return i;var o=t.overrides[r],s=(0,u.default)({},i);return(0,a.default)(o).forEach(function(e){s[e]=(0,f.default)(s[e],o[e])}),s}var n="function"===typeof e;return{create:t,options:{},themingEnabled:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),s=n(4),u=r(s),l=n(17),c=(r(l),n(79)),f=r(c);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(349);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"left"===e?"right":"right"===e?"left":"top"===e?"down":"up"}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(5),d=r(f),p=n(0),h=r(p),v=n(1),y=r(v),m=n(6),g=r(m),b=n(7),_=r(b),w=n(2),k=r(w),x=n(3),C=(r(x),n(11)),E=r(C),S=n(350),T=r(S),O=n(12),P=r(O),M=n(172),j=r(M),R=n(119),A=r(R),N=n(34),I=n(61),D=t.styles=function(e){return{docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100vh",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,"&:focus":{outline:"none"}},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100vh"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100vh"},paperAnchorDockedLeft:{borderRight:"1px solid "+e.palette.text.divider},paperAnchorDockedTop:{borderBottom:"1px solid "+e.palette.text.divider},paperAnchorDockedRight:{borderLeft:"1px solid "+e.palette.text.divider},paperAnchorDockedBottom:{borderTop:"1px solid "+e.palette.text.divider},modal:{}}},F=function(e){function t(){var e,n,r,i;(0,h.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,g.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(a))),r.state={firstMount:!0},i=n,(0,g.default)(r,i)}return(0,_.default)(t,e),(0,y.default)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({firstMount:!1})}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.children,r=e.classes,o=e.className,s=e.elevation,l=e.ModalProps,f=e.onClose,d=e.open,p=e.SlideProps,h=e.theme,v=e.transitionDuration,y=e.type,m=(0,c.default)(e,["anchor","children","classes","className","elevation","ModalProps","onClose","open","SlideProps","theme","transitionDuration","type"]),g=h&&"rtl"===h.direction,b=t;g&&["left","right"].includes(b)&&(b="left"===b?"right":"left");var _=k.default.createElement(A.default,{elevation:"temporary"===y?s:0,square:!0,className:(0,E.default)(r.paper,r["paperAnchor"+(0,N.capitalizeFirstLetter)(b)],(0,u.default)({},r["paperAnchorDocked"+(0,N.capitalizeFirstLetter)(b)],"temporary"!==y))},n);if("permanent"===y)return k.default.createElement("div",(0,a.default)({className:(0,E.default)(r.docked,o)},m),_);var w=k.default.createElement(j.default,(0,a.default)({in:d,direction:i(b),timeout:v,appear:!this.state.firstMount},p),_);return"persistent"===y?k.default.createElement("div",(0,a.default)({className:(0,E.default)(r.docked,o)},m),w):k.default.createElement(T.default,(0,a.default)({BackdropProps:{transitionDuration:v},className:(0,E.default)(r.modal,o),open:d,onClose:f},m,l),w)}}]),t}(k.default.Component);F.propTypes={},F.defaultProps={anchor:"left",elevation:16,open:!1,transitionDuration:{enter:I.duration.enteringScreen,exit:I.duration.leavingScreen},type:"temporary"},t.default=(0,P.default)(D,{flip:!1,withTheme:!0,name:"MuiDrawer"})(F)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(351);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}});var o=n(171);Object.defineProperty(t,"Backdrop",{enumerable:!0,get:function(){return r(o).default}});var a=n(169);Object.defineProperty(t,"ModalManager",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e="function"===typeof e?e():e,S.default.findDOMNode(e)||t}function o(e){return(0,B.default)(S.default.findDOMNode(e))}function a(e){return!!e.children&&e.children.props.hasOwnProperty("in")}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var s=n(4),u=r(s),l=n(10),c=r(l),f=n(8),d=r(f),p=n(5),h=r(p),v=n(0),y=r(v),m=n(1),g=r(m),b=n(6),_=r(b),w=n(7),k=r(w),x=n(2),C=r(x),E=n(27),S=r(E),T=n(3),O=(r(T),n(11)),P=r(O),M=n(17),j=(r(M),n(81)),R=r(j),A=n(352),N=r(A),I=n(167),D=r(I),F=n(82),L=r(F),U=n(62),B=r(U),H=n(353),z=r(H),q=n(354),W=r(q),V=n(168),K=r(V),G=n(34),$=n(12),Y=r($),X=n(169),J=r(X),Q=n(171),Z=r(Q),ee=t.styles=function(e){return{root:{display:"flex",width:"100%",height:"100%",position:"fixed",zIndex:e.zIndex.modal,top:0,left:0},hidden:{visibility:"hidden"}}},te=function(e){function t(e,n){(0,y.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e,n));return r.dialogNode=null,r.modalNode=null,r.mounted=!1,r.mountNode=null,r.handleRendered=function(){r.autoFocus(),r.props.onRendered&&r.props.onRendered()},r.handleOpen=function(){var e=o(r),t=i(r.props.container,e.body);r.props.manager.add(r,t),r.onDocumentKeydownListener=(0,K.default)(e,"keydown",r.handleDocumentKeyDown),r.onFocusinListener=(0,K.default)(document,"focus",r.enforceFocus,!0)},r.handleClose=function(){r.props.manager.remove(r),r.onDocumentKeydownListener.remove(),r.onFocusinListener.remove(),r.restoreLastFocus()},r.handleExited=function(){r.setState({exited:!0}),r.handleClose()},r.handleBackdropClick=function(e){e.target===e.currentTarget&&(r.props.onBackdropClick&&r.props.onBackdropClick(e),!r.props.disableBackdropClick&&r.props.onClose&&r.props.onClose(e,"backdropClick"))},r.handleDocumentKeyDown=function(e){r.isTopModal()&&"esc"===(0,R.default)(e)&&(r.props.onEscapeKeyDown&&r.props.onEscapeKeyDown(e),!r.props.disableEscapeKeyDown&&r.props.onClose&&r.props.onClose(e,"escapeKeyDown"))},r.checkForFocus=function(){L.default&&(r.lastFocus=(0,N.default)())},r.enforceFocus=function(){if(!r.props.disableEnforceFocus&&r.mounted&&r.isTopModal()){var e=r.getDialogElement(),t=(0,N.default)(o(r));e&&!(0,D.default)(e,t)&&e.focus()}},r.state={exited:!r.props.open},r}return(0,k.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.open&&this.handleOpen()}},{key:"componentWillReceiveProps",value:function(e){e.open?this.setState({exited:!1}):a(e)||this.setState({exited:!0})}},{key:"componentWillUpdate",value:function(e){!this.props.open&&e.open&&this.checkForFocus()}},{key:"componentDidUpdate",value:function(e){!e.open||this.props.open||a(this.props)?!e.open&&this.props.open&&this.handleOpen():this.handleClose()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,(this.props.open||a(this.props)&&!this.state.exited)&&this.handleClose()}},{key:"getDialogElement",value:function(){return S.default.findDOMNode(this.dialogNode)}},{key:"autoFocus",value:function(){if(!this.props.disableAutoFocus){var e=this.getDialogElement(),t=(0,N.default)(o(this));e&&!(0,D.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||e.setAttribute("tabIndex",-1),e.focus())}}},{key:"restoreLastFocus",value:function(){this.props.disableRestoreFocus||this.lastFocus&&(this.lastFocus.focus(),this.lastFocus=null)}},{key:"isTopModal",value:function(){return this.props.manager.isTopModal(this)}},{key:"render",value:function(){var e=this,t=this.props,n=t.BackdropComponent,r=t.BackdropProps,i=t.children,o=t.classes,s=t.className,l=t.container,f=(t.disableAutoFocus,t.disableBackdropClick,t.disableEnforceFocus,t.disableEscapeKeyDown,t.disableRestoreFocus,t.hideBackdrop),p=t.keepMounted,h=(t.onBackdropClick,t.onClose,t.onEscapeKeyDown,t.onRendered,t.open),v=(t.manager,(0,d.default)(t,["BackdropComponent","BackdropProps","children","classes","className","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disableRestoreFocus","hideBackdrop","keepMounted","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open","manager"])),y=this.state.exited,m=a(this.props),g={};return p||h||m&&!y?(m&&(g.onExited=(0,G.createChainedFunction)(this.handleExited,i.props.onExited)),void 0===i.props.role&&(g.role=i.props.role||"document"),void 0===i.props.tabIndex&&(g.tabIndex=i.props.tabIndex||"-1"),C.default.createElement(W.default,{ref:function(t){e.mountNode=t?t.getMountNode():t},container:l,onRendered:this.handleRendered},C.default.createElement("div",(0,u.default)({ref:function(t){e.modalNode=t},className:(0,P.default)(o.root,s,(0,c.default)({},o.hidden,y))},v),f?null:C.default.createElement(n,(0,u.default)({open:h,onClick:this.handleBackdropClick},r)),C.default.createElement(z.default,{ref:function(t){e.dialogNode=t}},C.default.cloneElement(i,g))))):null}}]),t}(C.default.Component);te.propTypes={},te.defaultProps={disableAutoFocus:!1,disableBackdropClick:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disableRestoreFocus:!1,hideBackdrop:!1,keepMounted:!1,manager:new J.default,BackdropComponent:Z.default},t.default=(0,Y.default)(ee,{flip:!1,name:"MuiModal"})(te)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return e.activeElement}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(62),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(6),f=r(c),d=n(7),p=r(d),h=n(2),v=r(h),y=n(3),m=(r(y),function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}}]),t}(v.default.Component));m.propTypes={},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=r(i),a=n(355),s=r(a),u=n(356),l=r(u);t.default=o.default.createPortal?s.default:l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e="function"===typeof e?e():e,b.default.findDOMNode(e)||t}function o(e){return(0,k.default)(b.default.findDOMNode(e))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(6),p=r(d),h=n(7),v=r(h),y=n(2),m=r(y),g=n(27),b=r(g),_=n(3),w=(r(_),n(62)),k=r(w),x=n(108),C=(r(x),function(e){function t(){var e,n,r,i;(0,l.default)(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(a))),r.getMountNode=function(){return r.mountNode},i=n,(0,p.default)(r,i)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered)}},{key:"componentWillReceiveProps",value:function(e){e.container!==this.props.container&&this.setContainer(e.container)}},{key:"componentWillUnmount",value:function(){this.mountNode=null}},{key:"setContainer",value:function(e){this.mountNode=i(e,o(this).body)}},{key:"render",value:function(){var e=this.props.children;return this.mountNode?b.default.createPortal(e,this.mountNode):null}}]),t}(m.default.Component));C.propTypes={},C.propTypes={},t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e="function"===typeof e?e():e,b.default.findDOMNode(e)||t}function o(e){return(0,k.default)(b.default.findDOMNode(e))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(6),p=r(d),h=n(7),v=r(h),y=n(2),m=r(y),g=n(27),b=r(g),_=n(3),w=(r(_),n(62)),k=r(w),x=n(108),C=(r(x),function(e){function t(){var e,n,r,a;(0,l.default)(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=r=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(c))),r.getMountNode=function(){return r.mountNode},r.mountOverlayTarget=function(){r.overlayTarget||(r.overlayTarget=document.createElement("div"),r.mountNode=i(r.props.container,o(r).body),r.mountNode.appendChild(r.overlayTarget))},r.unmountOverlayTarget=function(){r.overlayTarget&&(r.mountNode.removeChild(r.overlayTarget),r.overlayTarget=null),r.mountNode=null},r.unrenderOverlay=function(){r.overlayTarget&&(b.default.unmountComponentAtNode(r.overlayTarget),r.overlayInstance=null)},r.renderOverlay=function(){var e=r.props.children;r.mountOverlayTarget();var t=!r.overlayInstance;r.overlayInstance=b.default.unstable_renderSubtreeIntoContainer(r,e,r.overlayTarget,function(){t&&r.props.onRendered&&r.props.onRendered()})},a=n,(0,p.default)(r,a)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.renderOverlay()}},{key:"componentWillReceiveProps",value:function(e){this.overlayTarget&&e.container!==this.props.container&&(this.mountNode.removeChild(this.overlayTarget),this.mountNode=i(e.container,o(this).body),this.mountNode.appendChild(this.overlayTarget))}},{key:"componentDidUpdate",value:function(){this.renderOverlay()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unrenderOverlay(),this.unmountOverlayTarget()}},{key:"render",value:function(){return null}}]),t}(m.default.Component));C.propTypes={},C.propTypes={},t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r="",i="",o=t;if("string"===typeof t){if(void 0===n)return e.style[(0,a.default)(t)]||(0,c.default)(e).getPropertyValue((0,u.default)(t));(o={})[t]=n}Object.keys(o).forEach(function(t){var n=o[t];n||0===n?(0,v.default)(t)?i+=t+"("+n+") ":r+=(0,u.default)(t)+": "+n+";":(0,d.default)(e,(0,u.default)(t))}),i&&(r+=p.transform+": "+i+";"),e.style.cssText+=";"+r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(170),a=r(o),s=n(359),u=r(s),l=n(361),c=r(l),f=n(362),d=r(f),p=n(363),h=n(364),v=r(h);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";function r(e){return(0,o.default)(e).replace(a,"-ms-")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(360),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";function r(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),s.test(r)&&!a.test(t)){var i=n.left,u=e.runtimeStyle,l=u&&u.left;l&&(u.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,l&&(u.left=l)}return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(170),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r=n(82),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o="transform",a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,v=void 0,y=void 0;if(i.default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();a=m.prefix,t.transitionEnd=s=m.transitionEnd,t.animationEnd=u=m.animationEnd,t.transform=o=a+"-"+o,t.transitionProperty=l=a+"-transition-property",t.transitionDuration=c=a+"-transition-duration",t.transitionDelay=d=a+"-transition-delay",t.transitionTiming=f=a+"-transition-timing-function",t.animationName=p=a+"-animation-name",t.animationDuration=h=a+"-animation-duration",t.animationTiming=v=a+"-animation-delay",t.animationDelay=y=a+"-animation-timing-function"}t.transform=o,t.transitionProperty=l,t.transitionTiming=f,t.transitionDelay=d,t.transitionDuration=c,t.transitionEnd=s,t.animationName=p,t.animationDuration=h,t.animationTiming=v,t.animationDelay=y,t.animationEnd=u,t.default={transform:o,end:s,property:l,timing:f,delay:d,duration:c}},function(e,t,n){"use strict";function r(e){return!(!e||!i.test(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((!o&&0!==o||e)&&i.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o};var r=n(82),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=void 0;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e&&"body"===e.tagName.toLowerCase()}function o(e){var t=(0,l.default)(e),n=(0,s.default)(t);if(!n&&!i(e))return e.scrollHeight>e.clientHeight;var r=window.getComputedStyle(t.body),o=parseInt(r.getPropertyValue("margin-left"),10),a=parseInt(r.getPropertyValue("margin-right"),10);return o+t.body.clientWidth+a<n.innerWidth}Object.defineProperty(t,"__esModule",{value:!0}),t.isBody=i,t.default=o;var a=n(367),s=r(a),u=n(62),l=r(u)},function(e,t,n){"use strict";function r(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return 1===e.nodeType&&-1===u.indexOf(e.tagName.toLowerCase())}function i(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&r(e)&&n(e)})}function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function a(e,t){i(e,t,function(e){return o(!0,e)})}function s(e,t){i(e,t,function(e){return o(!1,e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.ariaHidden=o,t.hideSiblings=a,t.showSiblings=s;var u=["template","script","style"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(2),b=r(g),_=n(3),w=(r(_),n(118)),k=r(w),x=n(61),C=n(117),E=r(C),S=function(e){return e.scrollTop},T=function(e){function t(){var e,n,r,i;(0,f.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,v.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(a))),r.handleEnter=function(e){e.style.opacity="0",S(e),r.props.onEnter&&r.props.onEnter(e)},r.handleEntering=function(e){var t=r.props,n=t.theme,i=t.timeout;e.style.transition=n.transitions.create("opacity",{duration:"number"===typeof i?i:i.enter}),e.style.webkitTransition=n.transitions.create("opacity",{duration:"number"===typeof i?i:i.enter}),e.style.opacity="1",r.props.onEntering&&r.props.onEntering(e)},r.handleExit=function(e){var t=r.props,n=t.theme,i=t.timeout;e.style.transition=n.transitions.create("opacity",{duration:"number"===typeof i?i:i.exit}),e.style.webkitTransition=n.transitions.create("opacity",{duration:"number"===typeof i?i:i.exit}),e.style.opacity="0",r.props.onExit&&r.props.onExit(e)},i=n,(0,v.default)(r,i)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.appear,n=e.children,r=(e.onEnter,e.onEntering,e.onExit,e.style),i=(e.theme,(0,s.default)(e,["appear","children","onEnter","onEntering","onExit","style","theme"])),a=(0,o.default)({},r);return this.props.in&&!t||(a.opacity="0"),b.default.createElement(k.default,(0,o.default)({appear:t,style:a,onEnter:this.handleEnter,onEntering:this.handleEntering,onExit:this.handleExit},i),n)}}]),t}(b.default.Component);T.propTypes={},T.defaultProps={appear:!0,timeout:{enter:x.duration.enteringScreen,exit:x.duration.leavingScreen}},t.default=(0,E.default)()(T)},function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=r;var i=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.timeoutsShape=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]),t.classNamesShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,exit:o.default.string,exitActive:o.default.string})])},function(e,t,n){"use strict";function r(e,t,n){return(0,o.default)(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.passiveOption=void 0;var i=n(102),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.passiveOption=function(){var e=null;return function(){if(null!==e)return e;var t=!1;try{window.addEventListener("test",null,r({},"passive",{get:function(){t=!0}}))}catch(e){}return e=t,t}()}();t.default={}},function(e,t,n){var r=n(175),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(18))},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):u.test(e)?a:+e}var i=n(174),o=n(375),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(376),o=n(379),a="[object Symbol]";e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(176),o=n(377),a=n(378),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(176),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classes,n=e.className,r=e.component,i=e.square,o=e.elevation,s=(0,u.default)(e,["classes","className","component","square","elevation"]),l=(0,v.default)(t.root,t["shadow"+(o>=0?o:0)],(0,a.default)({},t.rounded,!i),n);return d.default.createElement(r,(0,c.default)({className:l},s))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(10),a=r(o),s=n(8),u=r(s),l=n(4),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(17),m=(r(y),n(12)),g=r(m),b=t.styles=function(e){var t={};return e.shadows.forEach(function(e,n){t["shadow"+n]={boxShadow:e}}),(0,c.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:2}},t)};i.propTypes={},i.defaultProps={component:"div",elevation:2,square:!1},t.default=(0,g.default)(b,{name:"MuiPaper"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(382);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.children,r=e.classes,i=e.className,o=e.color,s=e.position,l=(0,c.default)(e,["children","classes","className","color","position"]),f=(0,v.default)(r.root,r["position"+(0,g.capitalizeFirstLetter)(s)],(t={},(0,u.default)(t,r["color"+(0,g.capitalizeFirstLetter)(o)],"inherit"!==o),(0,u.default)(t,"mui-fixed","fixed"===s),t),i);return d.default.createElement(_.default,(0,a.default)({square:!0,component:"header",elevation:4,className:f},l),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(34),b=n(119),_=r(b),w=t.styles=function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionStatic:{position:"static",flexShrink:0},colorDefault:{backgroundColor:e.palette.background.appBar,color:e.palette.getContrastText(e.palette.background.appBar)},colorPrimary:{backgroundColor:e.palette.primary[500],color:e.palette.getContrastText(e.palette.primary[500])},colorAccent:{backgroundColor:e.palette.secondary.A200,color:e.palette.getContrastText(e.palette.secondary.A200)}}};i.propTypes={},i.defaultProps={color:"primary",position:"fixed"},t.default=(0,m.default)(w,{name:"MuiAppBar"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(384);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.classes,r=e.className,i=e.disableGutters,o=(0,u.default)(e,["children","classes","className","disableGutters"]),s=(0,v.default)(n.root,(0,a.default)({},n.gutters,!i),r);return d.default.createElement("div",(0,c.default)({className:s},o),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(10),a=r(o),s=n(8),u=r(s),l=n(4),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=t.styles=function(e){return{root:(0,c.default)({position:"relative",display:"flex",alignItems:"center"},e.mixins.toolbar),gutters:e.mixins.gutters({})}};i.propTypes={},i.defaultProps={disableGutters:!1},t.default=(0,m.default)(g,{name:"MuiToolbar"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.align,r=e.classes,i=e.className,o=e.component,s=e.color,l=e.gutterBottom,f=e.headlineMapping,p=e.noWrap,h=e.paragraph,y=e.type,m=(0,c.default)(e,["align","classes","className","component","color","gutterBottom","headlineMapping","noWrap","paragraph","type"]),b=(0,v.default)(r.root,r[y],(t={},(0,u.default)(t,r["color"+(0,g.capitalizeFirstLetter)(s)],"default"!==s),(0,u.default)(t,r.noWrap,p),(0,u.default)(t,r.gutterBottom,l),(0,u.default)(t,r.paragraph,h),(0,u.default)(t,r["align"+(0,g.capitalizeFirstLetter)(n)],"inherit"!==n),t),i),_=o||(h?"p":f[y])||"span";return d.default.createElement(_,(0,a.default)({className:b},m))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(34),b=t.styles=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:2*e.spacing.unit},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary[500]},colorSecondary:{color:e.palette.text.secondary},colorAccent:{color:e.palette.secondary.A400},colorError:{color:e.palette.error.A400}}};i.propTypes={},i.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:{display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3",body2:"aside",body1:"p"},noWrap:!1,paragraph:!1,type:"body1"},t.default=(0,m.default)(b,{name:"MuiTypography"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.absolute,r=e.classes,i=e.className,o=e.inset,s=e.light,l=(0,c.default)(e,["absolute","classes","className","inset","light"]),f=(0,v.default)(r.root,(t={},(0,u.default)(t,r.absolute,n),(0,u.default)(t,r.inset,o),(0,u.default)(t,s?r.light:r.default,!0),t),i);return d.default.createElement("hr",(0,a.default)({className:f},l))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=t.styles=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0},default:{backgroundColor:e.palette.text.divider},inset:{marginLeft:72},light:{backgroundColor:e.palette.text.lightDivider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"}}};i.propTypes={},i.defaultProps={absolute:!1,inset:!1,light:!1},t.default=(0,m.default)(g,{name:"MuiDivider"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.children,r=e.classes,i=e.className,o=e.color,s=e.dense,l=e.disabled,f=e.disableFocusRipple,p=e.fab,h=e.mini,y=e.raised,m=(0,u.default)(e,["children","classes","className","color","dense","disabled","disableFocusRipple","fab","mini","raised"]),g=!y&&!p,b=(0,v.default)(r.root,(t={},(0,a.default)(t,r.raised,y||p),(0,a.default)(t,r.fab,p),(0,a.default)(t,r.mini,p&&h),(0,a.default)(t,r.colorInherit,"inherit"===o),(0,a.default)(t,r.flatPrimary,g&&"primary"===o),(0,a.default)(t,r.flatAccent,g&&"accent"===o),(0,a.default)(t,r.flatContrast,g&&"contrast"===o),(0,a.default)(t,r.raisedPrimary,!g&&"primary"===o),(0,a.default)(t,r.raisedAccent,!g&&"accent"===o),(0,a.default)(t,r.raisedContrast,!g&&"contrast"===o),(0,a.default)(t,r.dense,s),(0,a.default)(t,r.disabled,l),t),i);return d.default.createElement(_.default,(0,c.default)({className:b,disabled:l,focusRipple:!f,keyboardFocusedClassName:r.keyboardFocused},m),d.default.createElement("span",{className:r.label},n))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(10),a=r(o),s=n(8),u=r(s),l=n(4),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(80),b=n(177),_=r(b),w=t.styles=function(e){return{root:(0,c.default)({},e.typography.button,{lineHeight:"1.4em",boxSizing:"border-box",minWidth:88,minHeight:36,padding:e.spacing.unit+"px "+2*e.spacing.unit+"px",borderRadius:2,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,g.fade)(e.palette.text.primary,.12),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),dense:{padding:e.spacing.unit-1+"px "+e.spacing.unit+"px",minWidth:64,minHeight:32,fontSize:e.typography.pxToRem(e.typography.fontSize-1)},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},flatPrimary:{color:e.palette.primary[500],"&:hover":{backgroundColor:(0,g.fade)(e.palette.primary[500],.12),"@media (hover: none)":{backgroundColor:"transparent"}}},flatAccent:{color:e.palette.secondary.A200,"&:hover":{backgroundColor:(0,g.fade)(e.palette.secondary.A200,.12),"@media (hover: none)":{backgroundColor:"transparent"}}},flatContrast:{color:e.palette.getContrastText(e.palette.primary[500]),"&:hover":{backgroundColor:(0,g.fade)(e.palette.getContrastText(e.palette.primary[500]),.12),"@media (hover: none)":{backgroundColor:"transparent"}}},colorInherit:{color:"inherit"},raised:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&$keyboardFocused":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{boxShadow:e.shadows[0],backgroundColor:e.palette.text.divider},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.text.divider,"@media (hover: none)":{backgroundColor:e.palette.grey[300]}}}},keyboardFocused:{},raisedPrimary:{color:e.palette.getContrastText(e.palette.primary[500]),backgroundColor:e.palette.primary[500],"&:hover":{backgroundColor:e.palette.primary[700],"@media (hover: none)":{backgroundColor:e.palette.primary[500]}}},raisedAccent:{color:e.palette.getContrastText(e.palette.secondary.A200),backgroundColor:e.palette.secondary.A200,"&:hover":{backgroundColor:e.palette.secondary.A400,"@media (hover: none)":{backgroundColor:e.palette.secondary.A200}}},raisedContrast:{color:e.palette.getContrastText(e.palette.primary[500])},disabled:{color:e.palette.action.disabled},fab:{borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]}},mini:{width:40,height:40}}};i.propTypes={},i.defaultProps={color:"default",dense:!1,disabled:!1,disableFocusRipple:!1,disableRipple:!1,fab:!1,mini:!1,raised:!1,type:"button"},t.default=(0,m.default)(w,{name:"MuiButton"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(4),o=r(i),a=n(10),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=(r(k),n(27)),C=n(11),E=r(C),S=n(81),T=r(S),O=n(12),P=r(O),M=n(389),j=n(390),R=r(j),A=n(398),N=r(A),I=t.styles=function(e){return{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:e.palette.common.transparent,backgroundColor:"transparent",outline:"none",border:0,borderRadius:0,cursor:"pointer",userSelect:"none",appearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},disabled:{pointerEvents:"none",cursor:"default"}}},D=function(e){function t(){var e,n,r,i;(0,p.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),r.state={keyboardFocused:!1},r.onKeyboardFocusHandler=function(e){r.keyDown=!1,r.setState({keyboardFocused:!0}),r.props.onKeyboardFocus&&r.props.onKeyboardFocus(e)},r.ripple=null,r.keyDown=!1,r.button=null,r.keyboardFocusTimeout=null,r.keyboardFocusCheckTime=50,r.keyboardFocusMaxCheckTimes=5,r.handleKeyDown=function(e){var t=r.props,n=t.component,i=t.focusRipple,o=t.onKeyDown,a=t.onClick,s=(0,T.default)(e);i&&!r.keyDown&&r.state.keyboardFocused&&"space"===s&&(r.keyDown=!0,e.persist(),r.ripple.stop(e,function(){r.ripple.start(e)})),o&&o(e),e.target===r.button&&a&&n&&"a"!==n&&"button"!==n&&("space"===s||"enter"===s)&&(e.preventDefault(),a(e))},r.handleKeyUp=function(e){r.props.focusRipple&&"space"===(0,T.default)(e)&&r.state.keyboardFocused&&(r.keyDown=!1,e.persist(),r.ripple.stop(e,function(){return r.ripple.pulsate(e)})),r.props.onKeyUp&&r.props.onKeyUp(e)},r.handleMouseDown=(0,N.default)(r,"MouseDown","start",function(){clearTimeout(r.keyboardFocusTimeout),(0,M.focusKeyPressed)(!1),r.state.keyboardFocused&&r.setState({keyboardFocused:!1})}),r.handleMouseUp=(0,N.default)(r,"MouseUp","stop"),r.handleMouseLeave=(0,N.default)(r,"MouseLeave","stop",function(e){r.state.keyboardFocused&&e.preventDefault()}),r.handleTouchStart=(0,N.default)(r,"TouchStart","start"),r.handleTouchEnd=(0,N.default)(r,"TouchEnd","stop"),r.handleTouchMove=(0,N.default)(r,"TouchEnd","stop"),r.handleBlur=(0,N.default)(r,"Blur","stop",function(){clearTimeout(r.keyboardFocusTimeout),(0,M.focusKeyPressed)(!1),r.setState({keyboardFocused:!1})}),r.handleFocus=function(e){if(!r.props.disabled){r.button||(r.button=e.currentTarget),e.persist();var t=r.onKeyboardFocusHandler.bind(r,e);(0,M.detectKeyboardFocus)(r,r.button,t),r.props.onFocus&&r.props.onFocus(e)}},i=n,(0,m.default)(r,i)}return(0,b.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.button=(0,x.findDOMNode)(this),(0,M.listenForFocusKeys)()}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.state.keyboardFocused&&this.setState({keyboardFocused:!1})}},{key:"componentWillUpdate",value:function(e,t){this.props.focusRipple&&t.keyboardFocused&&!this.state.keyboardFocused&&!this.props.disableRipple&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){this.button=null,clearTimeout(this.keyboardFocusTimeout)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.centerRipple,i=n.children,a=n.classes,u=n.className,c=n.component,f=n.disabled,d=n.disableRipple,p=(n.focusRipple,n.keyboardFocusedClassName),h=(n.onBlur,n.onFocus,n.onKeyboardFocus,n.onKeyDown,n.onKeyUp,n.onMouseDown,n.onMouseLeave,n.onMouseUp,n.onTouchEnd,n.onTouchMove,n.onTouchStart,n.rootRef),v=n.tabIndex,y=n.type,m=(0,l.default)(n,["centerRipple","children","classes","className","component","disabled","disableRipple","focusRipple","keyboardFocusedClassName","onBlur","onFocus","onKeyboardFocus","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","rootRef","tabIndex","type"]),g=(0,E.default)(a.root,(e={},(0,s.default)(e,a.disabled,f),(0,s.default)(e,p||"",this.state.keyboardFocused),e),u),b={},_=c;return _||(_=m.href?"a":"button"),"button"===_&&(b.type=y||"button"),"a"!==_&&(b.role=b.role||"button",b.disabled=f),w.default.createElement(_,(0,o.default)({onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,tabIndex:f?-1:v,className:g},b,{ref:h},m),i,d||f?null:w.default.createElement(R.default,{innerRef:function(e){t.ripple=e},center:r}))}}]),t}(w.default.Component);D.propTypes={},D.defaultProps={centerRipple:!1,disableRipple:!1,focusRipple:!1,tabIndex:0,type:"button"},t.default=(0,P.default)(I,{name:"MuiButtonBase"})(D)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"undefined"!==typeof e&&(v.focusKeyPressed=Boolean(e)),v.focusKeyPressed}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.keyboardFocusTimeout=setTimeout(function(){i()&&(document.activeElement===t||(0,d.default)(t,document.activeElement))?n():r<e.keyboardFocusMaxCheckTimes&&o(e,t,n,r+1)},e.keyboardFocusCheckTime)}function a(e){return-1!==y.indexOf((0,l.default)(e))}function s(){v.listening||((0,h.default)(window,"keyup",function(e){a(e)&&(v.focusKeyPressed=!0)}),v.listening=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.focusKeyPressed=i,t.detectKeyboardFocus=o,t.listenForFocusKeys=s;var u=n(81),l=r(u),c=n(17),f=(r(c),n(167)),d=r(f),p=n(168),h=r(p),v={listening:!1,focusKeyPressed:!1},y=["tab","enter","space","esc","up","down","left","right"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.DELAY_RIPPLE=void 0;var i=n(4),o=r(i),a=n(8),s=r(a),u=n(391),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=(r(k),n(27)),C=r(x),E=n(395),S=r(E),T=n(11),O=r(T),P=n(12),M=r(P),j=n(397),R=r(j),A=550,N=t.DELAY_RIPPLE=80,I=t.styles=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},wrapper:{opacity:1},wrapperLeaving:{opacity:0,animation:"mui-ripple-exit "+A+"ms "+e.transitions.easing.easeInOut},wrapperPulsating:{position:"absolute",left:0,top:0,display:"block",width:"100%",height:"100%",animation:"mui-ripple-pulsate 1500ms "+e.transitions.easing.easeInOut+" 200ms infinite",rippleVisible:{opacity:.2}},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)"},"100%":{transform:"scale(1)"}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute",borderRadius:"50%",background:"currentColor"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter "+A+"ms "+e.transitions.easing.easeInOut},rippleFast:{animationDuration:"200ms"}}},D=function(e){function t(){var e,n,r,i;(0,p.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),r.state={nextKey:0,ripples:[]},r.ignoringMouseDown=!1,r.startTimer=null,r.startTimerCommit=null,r.pulsate=function(){r.start({},{pulsate:!0})},r.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?r.props.center||t.pulsate:a,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&r.ignoringMouseDown)return void(r.ignoringMouseDown=!1);"touchstart"===e.type&&(r.ignoringMouseDown=!0);var c=l?null:C.default.findDOMNode(r),f=c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0},d=void 0,p=void 0,h=void 0;if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)d=Math.round(f.width/2),p=Math.round(f.height/2);else{var v=e.clientX?e.clientX:e.touches[0].clientX,y=e.clientY?e.clientY:e.touches[0].clientY;d=Math.round(v-f.left),p=Math.round(y-f.top)}if(s)(h=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(h+=1);else{var m=2*Math.max(Math.abs((c?c.clientWidth:0)-d),d)+2,g=2*Math.max(Math.abs((c?c.clientHeight:0)-p),p)+2;h=Math.sqrt(Math.pow(m,2)+Math.pow(g,2))}e.touches?(r.startTimerCommit=function(){r.startCommit({pulsate:o,rippleX:d,rippleY:p,rippleSize:h,cb:n})},r.startTimer=setTimeout(function(){r.startTimerCommit(),r.startTimerCommit=null},N)):r.startCommit({pulsate:o,rippleX:d,rippleY:p,rippleSize:h,cb:n})},r.startCommit=function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,o=e.rippleSize,a=e.cb,s=r.state.ripples;s=[].concat((0,l.default)(s),[w.default.createElement(R.default,{key:r.state.nextKey,classes:r.props.classes,timeout:{exit:A,enter:A},pulsate:t,rippleX:n,rippleY:i,rippleSize:o})]),r.setState({nextKey:r.state.nextKey+1,ripples:s},a)},r.stop=function(e,t){clearTimeout(r.startTimer);var n=r.state.ripples;if("touchend"===e.type&&r.startTimerCommit)return e.persist(),r.startTimerCommit(),r.startTimerCommit=null,void(r.startTimer=setTimeout(function(){r.stop(e,t)},0));r.startTimerCommit=null,n&&n.length&&r.setState({ripples:n.slice(1)},t)},i=n,(0,m.default)(r,i)}return(0,b.default)(t,e),(0,v.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),n=e.className,r=(0,s.default)(e,["center","classes","className"]);return w.default.createElement(S.default,(0,o.default)({component:"span",enter:!0,exit:!0,className:(0,O.default)(t.root,n)},r),this.state.ripples)}}]),t}(w.default.Component);D.propTypes={},D.defaultProps={center:!1},t.default=(0,M.default)(I,{flip:!1,name:"MuiTouchRipple"})(D)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(39),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){n(38),n(393),e.exports=n(14).Array.from},function(e,t,n){"use strict";var r=n(30),i=n(16),o=n(44),a=n(148),s=n(149),u=n(68),l=n(394),c=n(111);i(i.S+i.F*!n(178)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,y=void 0!==v,m=0,g=c(d);if(y&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=u(d.length),n=new p(t);t>m;m++)l(n,m,y?v(d[m],m):d[m]);else for(f=g.call(d),n=new p;!(i=f.next()).done;m++)l(n,m,y?a(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(24),i=n(54);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(3),c=r(l),f=n(2),d=r(f),p=n(396),h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},v=(c.default.any,c.default.node,c.default.bool,c.default.bool,c.default.bool,c.default.func,{component:"div",childFactory:function(e){return e}}),y=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.handleExited=function(e,t,n){var r=(0,p.getChildMapping)(i.props.children);e in r||(n&&n(t),i.setState(function(t){var n=u({},t.children);return delete n[e],{children:n}}))},i.state={children:(0,p.getChildMapping)(n.children,function(e){var t=function(t){i.handleExited(e.key,t,e.props.onExited)};return(0,f.cloneElement)(e,{onExited:t,in:!0,appear:i.getProp(e,"appear"),enter:i.getProp(e,"enter"),exit:i.getProp(e,"exit")})})},i}return s(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,r=(0,p.getChildMapping)(e.children),i=(0,p.mergeChildMappings)(n,r);Object.keys(i).forEach(function(o){var a=i[o];if((0,f.isValidElement)(a)){var s=function(e){t.handleExited(a.key,e,a.props.onExited)},u=o in n,l=o in r,c=n[o],d=(0,f.isValidElement)(c)&&!c.props.in;!l||u&&!d?l||!u||d?l&&u&&(0,f.isValidElement)(c)&&(i[o]=(0,f.cloneElement)(a,{onExited:s,in:c.props.in,exit:t.getProp(a,"exit",e),enter:t.getProp(a,"enter",e)})):i[o]=(0,f.cloneElement)(a,{in:!1}):i[o]=(0,f.cloneElement)(a,{onExited:s,in:!0,exit:t.getProp(a,"exit",e),enter:t.getProp(a,"enter",e)})}}),this.setState({children:i})},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=i(e,["component","childFactory"]),o=this.state.children;return delete r.appear,delete r.enter,delete r.exit,d.default.createElement(t,r,h(o).map(n))},t}(d.default.Component);y.childContextTypes={transitionGroup:c.default.object.isRequired},y.propTypes={},y.defaultProps=v,t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=function(e){return t&&(0,o.isValidElement)(e)?t(e):e},r=Object.create(null);return e&&o.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=n(e)}),r}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var o=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(10),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=(r(k),n(11)),C=r(x),E=n(118),S=r(E),T=function(e){function t(){var e,n,r,i;(0,p.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),r.state={rippleVisible:!1,rippleLeaving:!1},r.handleEnter=function(){r.setState({rippleVisible:!0})},r.handleExit=function(){r.setState({rippleLeaving:!0})},i=n,(0,m.default)(r,i)}return(0,b.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.classes,i=n.className,a=n.pulsate,u=n.rippleX,c=n.rippleY,f=n.rippleSize,d=(0,l.default)(n,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),p=this.state,h=p.rippleVisible,v=p.rippleLeaving,y=(0,C.default)(r.wrapper,(e={},(0,s.default)(e,r.wrapperLeaving,v),(0,s.default)(e,r.wrapperPulsating,a),e),i),m=(0,C.default)(r.ripple,(t={},(0,s.default)(t,r.rippleVisible,h),(0,s.default)(t,r.rippleFast,a),t)),g={width:f,height:f,top:-f/2+c,left:-f/2+u};return w.default.createElement(S.default,(0,o.default)({onEnter:this.handleEnter,onExit:this.handleExit},d),w.default.createElement("span",{className:y},w.default.createElement("span",{className:m,style:g})))}}]),t}(w.default.Component);T.propTypes={},T.defaultProps={pulsate:!1},t.default=T},function(e,t,n){"use strict";function r(e,t,n,r){return function(i){return r&&r.call(e,i),!i.defaultPrevented&&(e.ripple&&e.ripple[n](i),e.props&&"function"===typeof e.props["on"+t]&&e.props["on"+t](i),!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),u=n.n(s),l=n(400),c=n.n(l),f=n(52),d=(n.n(f),n(182)),p=n.n(d),h=n(407),v=n.n(h),y=n(165),m=n.n(y),g=n(183),b=n.n(g),_=n(35),w=n.n(_),k=n(84),x=n.n(k),C=n(221),E=n.n(C),S=n(222),T=n.n(S),O=n(120),P=n.n(O),M=n(519),j=n.n(M),R=n(520),A=(n.n(R),n(523)),N=n.n(A),I=n(524),D=n.n(I),F=n(527),L=n.n(F),U=n(529),B=n.n(U),H=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),z=n(90),q=function(e){return{chip:{margin:e.spacing.unit},svgIcon:{color:m.a[200]},row:{display:"flex",justifyContent:"center",flexWrap:"wrap"},button:{margin:e.spacing.unit-5,width:"40%"},container:{display:"flex",flexWrap:"wrap",width:240},input:{marginLeft:e.spacing.unit-20,marginRight:e.spacing.unit-20,width:100},progress:{margin:"0 "+2*e.spacing.unit+"px"},close:{width:10*e.spacing.unit,height:10*e.spacing.unit}}},W=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChannelDelete=function(e){return function(){var t=[].concat(r(n.state.contectList));t[t.indexOf(e)].delete().then(function(e){console.log("Deleted channel: "+e.uniqueName)})}},n.handleChannelSwitch=function(e){return function(){var t=n.props.changeChannel,i=[].concat(r(n.state.contectList)),o=i.indexOf(e);t(i[o]),i[o].join().catch(function(e){console.error(e)}),n.setState({currentChannel:i[o]}),n.setState({isChannelReady:!0}),console.log("joined channel: "+i[o].uniqueName)}},n.handleInvitationSnack=function(e,t){"clickaway"!==t&&n.setState({invitationSnackBarOpen:!1})},n.handleInviteSnack=function(e,t){"clickaway"!==t&&n.setState({invitateSnackBarOpen:!1})},n.state={contectList:[],invitationList:[],currentChannel:"",isContectListReady:!1,isInvitationListReady:!1,isChannelReady:!1,invitationSnackBarOpen:!1,snackInvitationmessage:"",invitateSnackBarOpen:!1,snakeInvitatemessage:"",error:null,chatClient:"",newChannlename:"",emailAdress:""},n.loadContectList=n.loadContectList.bind(n),n.hadnleNewChannleChange=n.hadnleNewChannleChange.bind(n),n.handleNewChannleSubmit=n.handleNewChannleSubmit.bind(n),n.handleInvitaionChange=n.handleInvitaionChange.bind(n),n.handleInvitationSubmit=n.handleInvitationSubmit.bind(n),n}return a(t,e),H(t,[{key:"componentDidMount",value:function(){this.loadContectList();var e=this.loadContectList.bind(this),t=this.setState.bind(this);z.get("/token").then(function(n){if(n.data.token){var r=n.data.token,i=new b.a(r);i.on("channelAdded",function(n){t({isContectListReady:!1}),e()}),i.on("channelRemoved",function(n){t({isContectListReady:!1}),e()}),i.on("channelInvited",function(e){var n="Invited to channel "+e.friendlyName;t({snackInvitationmessage:n}),t({invitationSnackBarOpen:!0})})}else console.log(n)}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){var e=this.state.chatClient;e.removeListener("channelAdded"),e.removeListener("channelRemoved"),e.removeListener("channelInvited")}},{key:"loadContectList",value:function(){var e=this.setState.bind(this);z.get("/token").then(function(t){if(t.data.token){var n=t.data.token,r=new b.a(n);r.getSubscribedChannels().then(function(t){var n=t.items.map(function(e){return e});e({contectList:n}),e({chatClient:r}),e({isContectListReady:!0})})}else console.log(t)}).catch(function(t){e({error:t})})}},{key:"hadnleNewChannleChange",value:function(e){this.setState({newChannlename:e.target.value})}},{key:"handleNewChannleSubmit",value:function(e){var t=this.state.chatClient,n=this.props,r=this.setState.bind(this);try{t.createChannel({uniqueName:"Private channel with "+this.state.newChannlename,friendlyName:this.state.newChannlename,isPrivate:!0}).then(function(e){e.join().catch(function(t){console.error("Couldn't join channel "+e.friendlyName+" because "+t)}),n.changeChannel(e),r({currentChannel:e}),r({isChannelReady:!0})})}catch(e){console.log(e.message)}this.setState({newChannlename:""}),e.preventDefault()}},{key:"handleInvitaionChange",value:function(e){this.setState({emailAdress:e.target.value})}},{key:"handleInvitationSubmit",value:function(e){var t=this.state.currentChannel,n=this.setState.bind(this);t.invite(this.state.emailAdress).then(function(){var e="Your friend has been invited to "+t.friendlyName;n({snakeInvitatemessage:e}),n({invitateSnackBarOpen:!0})}),this.setState({emailAdress:""}),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=n.error,i=n.isContectListReady,o=n.contectList,a=n.isLocked,s=n.isChannelReady;return r?u.a.createElement("div",{id:"error happens"},u.a.createElement(w.a,null,"Error: ",r.message)):i?u.a.createElement("div",null,a?u.a.createElement("div",{id:"contect list"},u.a.createElement(j.a,null,u.a.createElement("div",{id:"contects",className:t.row},o.map(function(n){return u.a.createElement(c.a,{avatar:u.a.createElement(p.a,null,u.a.createElement(v.a,{className:t.svgIcon})),label:n.uniqueName,key:n.sid,onDelete:e.handleChannelDelete(n),onClick:e.handleChannelSwitch(n),className:t.chip})})))):u.a.createElement("div",{id:"ChannelManager"},u.a.createElement("div",{id:"form for channel creator"},u.a.createElement("form",{onSubmit:this.handleNewChannleSubmit},u.a.createElement(T.a,{className:t.input,id:"Create a channel",onChange:this.hadnleNewChannleChange,placeholder:"Enter a name for channel "}),u.a.createElement(x.a,{fab:!0,mini:!0,dense:!0,color:"accent","aria-label":"add",className:t.button,type:"submit"},u.a.createElement(E.a,{color:"contrast"},"add_circle"))),u.a.createElement(P.a,null)),u.a.createElement("div",{id:"contect list"},u.a.createElement(w.a,{type:"body1",color:"default",children:"Contects",noWrap:!0}),u.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.invitationSnackBarOpen,autoHideDuration:3e3,onClose:this.handleInvitationSnack,message:this.state.snackInvitationmessage,action:[u.a.createElement(L.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleInvitationSnack},u.a.createElement(B.a,null))]}),u.a.createElement(j.a,null,u.a.createElement("div",{id:"contects",className:t.row},o.map(function(n){return u.a.createElement(c.a,{avatar:u.a.createElement(p.a,null,u.a.createElement(v.a,{className:t.svgIcon})),label:n.uniqueName,key:n.sid,onDelete:e.handleChannelDelete(n),onClick:e.handleChannelSwitch(n),className:t.chip})})))),u.a.createElement(P.a,null),u.a.createElement("div",{id:"invitation list"}),u.a.createElement("div",{id:"invitation form"},u.a.createElement("div",null,s?u.a.createElement("form",{id:"invitation creator form",onSubmit:this.handleInvitationSubmit},u.a.createElement("div",{id:"invitation creator container",className:t.container},u.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.invitateSnackBarOpen,autoHideDuration:3e3,onClose:this.handleInviteSnack,message:this.state.snakeInvitatemessage,action:[u.a.createElement(L.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleInviteSnack},u.a.createElement(B.a,null))]}),u.a.createElement(S.InputLabel,{htmlFor:"AddFriend"},u.a.createElement(w.a,{type:"body1",color:"default",children:"Add your friends here",noWrap:!0})),u.a.createElement(T.a,{className:t.input,id:"AddFriend",onChange:this.handleInvitaionChange,placeholder:"Enter your friends email",value:this.state.emailAdress}),u.a.createElement(x.a,{fab:!0,mini:!0,color:"accent","aria-label":"add",className:t.button,type:"submit"},u.a.createElement(E.a,{color:"defalut"},"add_circle")))):u.a.createElement("div",null))))):u.a.createElement("div",{id:"loding"},u.a.createElement(R.CircularProgress,{className:t.progress,style:{color:N.a[500]},thickness:7}))}}]),t}(u.a.Component);t.a=Object(f.withStyles)(q)(W)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(401);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(4),o=r(i),a=n(10),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=(r(k),n(11)),C=r(x),E=n(81),S=r(E),T=n(402),O=r(T),P=n(12),M=r(P),j=n(80);n(181);var R=t.styles=function(e){var t=e.palette.background.chip,n=(0,j.fade)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",width:"fit-content",transition:e.transitions.create(),cursor:"default",outline:"none",border:"none",padding:0},clickable:{WebkitTapHighlightColor:e.palette.common.transparent,cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,j.emphasize)(t,.08)},"&:active":{boxShadow:e.shadows[1],backgroundColor:(0,j.emphasize)(t,.12)}},deletable:{"&:focus":{backgroundColor:(0,j.emphasize)(t,.08)}},avatar:{marginRight:-4,width:32,height:32,fontSize:e.typography.pxToRem(16)},avatarChildren:{width:19,height:19},label:{display:"flex",alignItems:"center",paddingLeft:12,paddingRight:12,userSelect:"none",whiteSpace:"nowrap",cursor:"inherit"},deleteIcon:{WebkitTapHighlightColor:e.palette.common.transparent,color:n,cursor:"pointer",height:"auto",margin:"0 4px 0 -8px","&:hover":{color:(0,j.fade)(n,.4)}}}},A=function(e){function t(){var e,n,r,i;(0,p.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),r.chipRef=null,r.handleDeleteIconClick=function(e){e.stopPropagation();var t=r.props.onDelete;t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onClick,i=t.onDelete,o=t.onKeyDown,a=(0,S.default)(e);!n||"space"!==a&&"enter"!==a?i&&"backspace"===a?(e.preventDefault(),i(e)):"esc"===a&&(e.preventDefault(),r.chipRef&&r.chipRef.blur()):(e.preventDefault(),n(e)),o&&o(e)},i=n,(0,m.default)(r,i)}return(0,b.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.avatar,r=t.classes,i=t.className,a=t.deleteIcon,u=t.label,c=t.onClick,f=t.onDelete,d=(t.onKeyDown,t.tabIndex),p=(0,l.default)(t,["avatar","classes","className","deleteIcon","label","onClick","onDelete","onKeyDown","tabIndex"]),h=(0,C.default)(r.root,(0,s.default)({},r.clickable,c),(0,s.default)({},r.deletable,f),i),v=null;f&&a&&w.default.isValidElement(a)?v=w.default.cloneElement(a,{onClick:this.handleDeleteIconClick,className:(0,C.default)(r.deleteIcon,a.props.className)}):f&&(v=w.default.createElement(O.default,{className:r.deleteIcon,onClick:this.handleDeleteIconClick}));var y=null;n&&w.default.isValidElement(n)&&(y=w.default.cloneElement(n,{className:(0,C.default)(r.avatar,n.props.className),childrenClassName:(0,C.default)(r.avatarChildren,n.props.childrenClassName)}));var m=d;return m||(m=c||f?0:-1),w.default.createElement("div",(0,o.default)({role:"button",className:h,tabIndex:m,onClick:c,onKeyDown:this.handleKeyDown,ref:function(t){e.chipRef=t}},p),y,w.default.createElement("span",{className:r.label},u),v)}}]),t}(w.default.Component);A.propTypes={},t.default=(0,M.default)(R,{name:"MuiChip"})(A)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(85),s=r(a),u=n(63),l=r(u),c=o.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),f=function(e){return o.default.createElement(l.default,e,c)};f=(0,s.default)(f),f.muiName="SvgIcon",t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(2),u=n(179),l=(r(u),n(180)),c=(r(l),function(e){return function(t){var n=(0,s.createFactory)(t),r=function(t){function r(){return i(this,r),o(this,t.apply(this,arguments))}return a(r,t),r.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},r.prototype.render=function(){return n(this.props)},r}(s.Component);return r}});t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e,t){return function(n){return n[e]=t,n}};t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(92),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.classes,r=e.className,i=e.color,o=e.titleAccess,s=e.viewBox,l=(0,c.default)(e,["children","classes","className","color","titleAccess","viewBox"]),f=(0,v.default)(n.root,(0,u.default)({},n["color"+(0,g.capitalizeFirstLetter)(i)],"inherit"!==i),r);return d.default.createElement("svg",(0,a.default)({className:f,focusable:"false",viewBox:s,"aria-hidden":o?"false":"true"},l),o?d.default.createElement("title",null,o):null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(34),b=t.styles=function(e){return{root:{display:"inline-block",fill:"currentColor",height:24,width:24,userSelect:"none",flexShrink:0,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorAccent:{color:e.palette.secondary.A200},colorAction:{color:e.palette.action.active},colorContrast:{color:e.palette.getContrastText(e.palette.primary[500])},colorDisabled:{color:e.palette.action.disabled},colorError:{color:e.palette.error[500]},colorPrimary:{color:e.palette.primary[500]}}};i.propTypes={},i.defaultProps={color:"inherit",viewBox:"0 0 24 24"},i.muiName="SvgIcon",t.default=(0,m.default)(b,{name:"MuiSvgIcon"})(i)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(85),s=r(a),u=n(63),l=r(u),c=e.__MUI_SvgIcon__||l.default,f=o.default.createElement("path",{d:"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"}),d=function(e){return o.default.createElement(c,e,f)};d=(0,s.default)(d),d.muiName="SvgIcon",t.default=d}).call(t,n(18))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(4),s=r(a),u=n(5),l=r(u),c=n(1),f=r(c),d=n(6),p=r(d),h=n(7),v=r(h),y=n(0),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(15),k=n(26),x=n(417),C=n(188);t.User=C.User;var E=n(419),S=n(429),T=n(195),O=n(433),P=n(123),M=n(203),j=n(42),R=n(471),A=n(128),N=n(492),I=n(497),D=n(501),F=n(502),L=n(505),U=n(506),B=n(507),H=n(508);t.PushNotification=H.PushNotification;var z=n(40),q=k.Logger.scope(""),W=n(220).version,V="A valid Twilio token should be provided",K=function e(){(0,m.default)(this,e)},G=function(e){function t(e,n){(0,m.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));if(r.connectionState="connecting",r.sessionPromise=null,r.channelsPromise=null,r.version=W,r.parsePushNotification=t.parsePushNotification,r.options=n||{},r.options.logLevel=r.options.logLevel||"error",r.options.productId="ip_messaging",r.options.Sync=r.options.Sync||{},r.options.Sync.enableSessionStorage||(r.options.Sync.enableSessionStorage=!1),!e)throw new Error(V);return q.setLevel(r.options.logLevel),r.services=new K,r.config=new x.Configuration(null,r.options),r.options.twilsockClient=r.options.twilsockClient||new P(e,r.options),r.options.transport=r.options.transport||new j.Transport(r.options.twilsockClient,r.options),r.options.emsClient=r.options.emsClient||new A.EmsClient(r.options),r.options.notificationsClient=r.options.notificationsClient||new M(e,r.options),r.options.syncClient=r.options.syncClient||new R.SyncClient(e,r.options),r.services.emsClient=r.options.emsClient,r.services.syncClient=r.options.syncClient,r.services.transport=r.options.transport,r.services.twilsockClient=r.options.twilsockClient,r.services.notificationClient=r.options.notificationsClient,r.services.session=new I.Session(r.services,r.config),r.sessionPromise=r.services.session.initialize(e),r.services.network=new S.Network(r.config,r.services),r.services.users=new F.Users({session:r.services.session,network:r.services.network,syncClient:r.services.syncClient}),r.services.users.on("userSubscribed",r.emit.bind(r,"userSubscribed")),r.services.users.on("userUpdated",r.emit.bind(r,"userUpdated")),r.services.users.on("userUnsubscribed",r.emit.bind(r,"userUnsubscribed")),r.services.consumptionHorizon=new U.ConsumptionHorizon(r.services),r.services.typingIndicator=new L.TypingIndicator(r.config,{transport:r.services.transport,notificationClient:r.services.notificationClient},r.getChannelBySid.bind(r)),r.services.syncList=new O.SyncList(r.services),r.channels=new D.Channels(r.services),r.channelsPromise=r.sessionPromise.then(function(){return r.channels.on("channelAdded",r.emit.bind(r,"channelAdded")),r.channels.on("channelRemoved",r.emit.bind(r,"channelRemoved")),r.channels.on("channelInvited",r.emit.bind(r,"channelInvited")),r.channels.on("channelJoined",r.emit.bind(r,"channelJoined")),r.channels.on("channelLeft",r.emit.bind(r,"channelLeft")),r.channels.on("channelUpdated",r.emit.bind(r,"channelUpdated")),r.channels.on("memberJoined",r.emit.bind(r,"memberJoined")),r.channels.on("memberLeft",r.emit.bind(r,"memberLeft")),r.channels.on("memberUpdated",r.emit.bind(r,"memberUpdated")),r.channels.on("messageAdded",r.emit.bind(r,"messageAdded")),r.channels.on("messageUpdated",r.emit.bind(r,"messageUpdated")),r.channels.on("messageRemoved",r.emit.bind(r,"messageRemoved")),r.channels.on("typingStarted",r.emit.bind(r,"typingStarted")),r.channels.on("typingEnded",r.emit.bind(r,"typingEnded")),r.channels.fetchChannels()}).then(function(){return r.channels}),r.services.notificationClient.on("transportReady",function(e){if(e)r.connectionState="connected",r.services.session.syncToken().catch(function(e){q.error("Failed to sync session token",e)});else switch(r.services.twilsockClient.state){case"rejected":r.connectionState="denied";break;default:r.connectionState="connecting"}r.emit("connectionStateChanged",r.connectionState)}),r.fpaToken=e,r}return(0,v.default)(t,e),(0,f.default)(t,[{key:"subscribeToPushNotifications",value:function(e){var t=this;[T.NotificationTypes.NEW_MESSAGE,T.NotificationTypes.ADDED_TO_CHANNEL,T.NotificationTypes.INVITED_TO_CHANNEL,T.NotificationTypes.REMOVED_FROM_CHANNEL,T.NotificationTypes.TYPING_INDICATOR,T.NotificationTypes.CONSUMPTION_UPDATE].forEach(function(n){t.services.notificationClient.subscribe(n,e)})}},{key:"initialize",value:function(){return _(this,void 0,void 0,o.default.mark(function e(){var n,r,i,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.emsClient.setToken(this.fpaToken);case 2:return n=e.sent,this.config.updateToken(n.token),e.next=6,this.sessionPromise;case 6:return t.supportedPushChannels.forEach(function(e){return a.subscribeToPushNotifications(e)}),e.next=9,this.services.session.getSessionLinks();case 9:return r=e.sent,this.services.publicChannels=new E.PublicChannels(this,this.services,r.publicChannelsUrl),this.services.userChannels=new B.UserChannels(this,this.services,r.myChannelsUrl),i=(0,s.default)(this.options),i.transport=null,this.services.mcsClient=new N.McsClient(this.config.token,r.mediaServiceUrl,i),e.next=17,this.services.typingIndicator.initialize();case 17:case"end":return e.stop()}},e,this)}))}},{key:"shutdown",value:function(){return this.services.twilsockClient.disconnect()}},{key:"updateToken",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){var n=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(q.info("updateToken"),e){t.next=3;break}throw new Error(V);case 3:if(e!==this.fpaToken){t.next=5;break}return t.abrupt("return",this);case 5:return t.abrupt("return",this.services.emsClient.setToken(e).then(function(e){if("NEW"===e.status)throw q.error("Can't extend token:",e.reason),new Error("Can't extend token:"+e.reason);return e.token}).then(function(t){return n.services.twilsockClient.updateToken(e).then(function(){return n.services.syncClient.updateToken(e)}).then(function(){return n.services.notificationClient.updateToken(e)}).then(function(){return n.services.mcsClient.updateToken(e)}).then(function(){return n.sessionPromise}).then(function(){return n.services.session.updateToken(t)}).then(function(){return t})}).then(function(t){return n.config.updateToken(t),n.fpaToken=e,n}));case 6:case"end":return t.stop()}},t,this)}))}},{key:"getChannelBySid",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){var n=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"string"===typeof e){t.next=2;break}throw new Error("Client.getChannelBySid requires a <String>channelSid parameter");case 2:return t.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.channels.getChannel(e).then(function(t){return t||n.services.publicChannels.getChannelBySid(e).then(function(e){return n.channels.pushChannel(e)})})}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"getChannelByUniqueName",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){var n=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"string"===typeof e){t.next=2;break}throw new Error("Client.getChannelByUniqueName requires a <String>uniqueName parameter");case 2:return t.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.services.publicChannels.getChannelByUniqueName(e).then(function(e){return n.channels.pushChannel(e)})}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"getSubscribedChannels",value:function(e){return this.channelsPromise.then(function(t){return t.getChannels(e)})}},{key:"getPublicChannelDescriptors",value:function(){return this.services.publicChannels.getChannels()}},{key:"getUserChannelDescriptors",value:function(){return this.services.userChannels.getChannels()}},{key:"createChannel",value:function(e){return e=e||{},this.channelsPromise.then(function(t){return t.addChannel(e)})}},{key:"setPushRegistrationId",value:function(e,n){if(-1===t.supportedPushChannels.indexOf(e))throw new Error("Invalid or unsupported channelType: "+e);this.services.notificationClient.setPushRegistrationId(n,e)}},{key:"handlePushNotification",value:function(e){return _(this,void 0,void 0,o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:q.debug("handlePushNotification, notificationPayload=",e),this.emit("pushNotification",t.parsePushNotification(e));case 2:case"end":return n.stop()}},n,this)}))}},{key:"getUser",value:function(e){return this.services.users.getUser(e)}},{key:"getUserDescriptor",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.services.users.getUserDescriptor(e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getSubscribedUsers",value:function(){return _(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getSubscribedUsers());case 1:case"end":return e.stop()}},e,this)}))}},{key:"user",get:function(){return this.services.users.myself}},{key:"reachabilityEnabled",get:function(){return this.services.session.reachabilityEnabled}},{key:"token",get:function(){return this.config.token}}],[{key:"create",value:function(e,n){return _(this,void 0,void 0,o.default.mark(function r(){var i;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new t(e,n),r.next=3,i.initialize();case 3:return r.abrupt("return",i);case 4:case"end":return r.stop()}},r,this)}))}},{key:"parsePushNotificationChatData",value:function(e){var n={};for(var r in t.supportedPushDataFields)"undefined"!==typeof e[r]&&null!==e[r]&&("message_index"===r?null!==z.parseToNumber(e[r])&&(n[t.supportedPushDataFields[r]]=Number(e[r])):n[t.supportedPushDataFields[r]]=e[r]);return n}},{key:"parsePushNotification",value:function(e){if(q.debug("parsePushNotification, notificationPayload=",e),"undefined"===typeof e||null===e)throw new Error("Push notification payload should be provided");if("undefined"!==typeof e.aps){var n=null,r=null,i={};if("undefined"!==typeof e.data&&(i=t.parsePushNotificationChatData(e.data)),!e.type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var o=e.aps;"string"===typeof o.alert?n=o.alert||null:(n=o.alert.body||null,r=o.alert.title||null);var a=o.badge||null,s=o.sound||null,u=o.category||null;return new H.PushNotification({title:r,body:n,sound:s,badge:a,action:u,type:e.type,data:i})}if("undefined"!==typeof e.data){var l=e.data;if(l.twi_message_type){var c=t.parsePushNotificationChatData(e.data);return new H.PushNotification({title:l.twi_title||null,body:l.twi_body||null,sound:l.twi_sound||null,badge:null,action:l.twi_action||null,type:l.twi_message_type,data:c})}throw new Error("Provided push notification payload does not contain Programmable Chat push notification type")}throw new Error("Provided push notification payload is not Programmable Chat notification")}}]),t}(w.EventEmitter);G.version=W,G.supportedPushChannels=["fcm","apn","gcm"],G.supportedPushDataFields={channel_sid:"channelSid",message_sid:"messageSid",message_index:"messageIndex"},t.Client=G,t.default=G},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(410),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=l(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&g.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function l(e,t,n){var i=E;return function(o,a){if(i===T)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===P)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=T;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?O:S,l.arg===P)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=O,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,c(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,P;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,P):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,m=Object.prototype,g=m.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",x="object"===typeof e,C=t.regeneratorRuntime;if(C)return void(x&&(e.exports=C));C=t.regeneratorRuntime=x?e.exports:{},C.wrap=n;var E="suspendedStart",S="suspendedYield",T="executing",O="completed",P={},M={};M[_]=function(){return this};var j=Object.getPrototypeOf,R=j&&j(j(h([])));R&&R!==m&&g.call(R,_)&&(M=R);var A=a.prototype=i.prototype=Object.create(M);o.prototype=A.constructor=a,a.constructor=o,a[k]=o.displayName="GeneratorFunction",C.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(A),e},C.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},C.AsyncIterator=u,C.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return C.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(A),A[k]="Generator",A[_]=function(){return this},A.toString=function(){return"[object Generator]"},C.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},C.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,P):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),P}}}(function(){return this}()||Function("return this")())},function(e,t,n){n(74),n(38),n(46),n(412),n(415),n(416),e.exports=n(14).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(71),u=n(21),l=n(30),c=n(75),f=n(16),d=n(22),p=n(53),h=n(110),v=n(59),y=n(184),m=n(185).set,g=n(414)(),b=n(121),_=n(186),w=n(187),k=u.TypeError,x=u.process,C=u.Promise,E="process"==c(x),S=function(){},T=i=b.f,O=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(19)("species")]=function(e){e(S,S)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&A(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===t.promise?u(k("Promise-chain cycle")):(o=P(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){m.call(u,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=_(function(){E?x.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},A=function(e){m.call(u,function(){var t;E?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},I=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=P(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(I,r,1),l(N,r,1))}catch(e){N.call(r,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};O||(C=function(e){h(this,C,"Promise","_h"),p(e),r.call(this);try{e(l(I,this,1),l(N,this,1))}catch(e){N.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(109)(C.prototype,{then:function(e,t){var n=T(y(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(I,e,1),this.reject=l(N,e,1)},b.f=T=function(e){return e===C||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!O,{Promise:C}),n(58)(C,"Promise"),n(150)("Promise"),a=n(14).Promise,f(f.S+f.F*!O,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(e){return w(s&&this===a?C:this,e)}}),f(f.S+f.F*!(O&&n(178)(function(e){C.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(21),i=n(185).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(56)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(16),i=n(14),o=n(21),a=n(184),s=n(187);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(16),i=n(121),o=n(186);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u="https://aim.twilio.com",l=function(){function e(t,n){(0,o.default)(this,e),n=n||{},this.options=n.Chat||n.IPMessaging||n||{};var r=this.options.apiUri||this.options.typingUri||u;this.token=t,this.baseUrl=r}return(0,s.default)(e,[{key:"updateToken",value:function(e){this.token=e}},{key:"typingIndicatorUri",get:function(){return this.baseUrl+"/v1/typing"}},{key:"typingIndicatorTimeoutDefault",get:function(){return 5e3}},{key:"httpCacheIntervalDefault",get:function(){return"PT5S"}},{key:"consumptionReportIntervalDefault",get:function(){return"PT5S"}},{key:"userInfosToSubscribeDefault",get:function(){return 100}},{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"backoffConfigOverride",get:function(){return this.options.backoffConfigOverride}},{key:"retryWhenThrottledDefault",get:function(){return!0}},{key:"retryWhenThrottledOverride",get:function(){return this.options.retryWhenThrottledOverride}},{key:"typingIndicatorTimeoutOverride",get:function(){return this.options.typingIndicatorTimeoutOverride}},{key:"httpCacheIntervalOverride",get:function(){return this.options.httpCacheIntervalOverride}},{key:"consumptionReportIntervalOverride",get:function(){return this.options.consumptionReportIntervalOverride}},{key:"userInfosToSubscribeOverride",get:function(){return this.options.userInfosToSubscribeOverride}}]),e}();t.Configuration=l},function(e,t,n){var r=n(14),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(40),h=n(86),v=n(190),y=function(){function e(t,n,r){(0,s.default)(this,e),this.client=t,this.services=n,this.url=r}return(0,l.default)(e,[{key:"getChannels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,void 0,void 0,o.default.mark(function t(){var n,r,i=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.UriBuilder(this.url).arg("PageToken",e.pageToken).build(),t.next=3,this.services.network.get(n);case 3:return r=t.sent,t.abrupt("return",new h.RestPaginator(r.body.channels.map(function(e){return new v.ChannelDescriptor(i.client,e)}),function(e){return i.getChannels({pageToken:e})},r.body.meta.previous_token,r.body.meta.next_token));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getChannelBySid",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.UriBuilder(this.url).path(e).build(),t.next=3,this.services.network.get(n);case 3:return r=t.sent,t.abrupt("return",new v.ChannelDescriptor(this.client,r.body));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getChannelByUniqueName",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.UriBuilder(this.url).path(e).build(),t.next=3,this.services.network.get(n);case 3:return r=t.sent,t.abrupt("return",new v.ChannelDescriptor(this.client,r.body));case 5:case"end":return t.stop()}},t,this)}))}}]),e}();t.PublicChannels=y},function(e,t,n){n(46),n(38),e.exports=n(421)},function(e,t,n){var r=n(28),i=n(111);e.exports=n(14).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(423),e.exports=n(14).Number.isInteger},function(e,t,n){var r=n(16);r(r.S,"Number",{isInteger:n(424)})},function(e,t,n){var r=n(22),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(5),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(6),p=r(d),h=n(7),v=r(h),y=n(9),m=r(y),g=function(e,t,n,r){return new(n||(n=m.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var b=n(15),_=n(193),w=n(26),k=w.Logger.scope("Members"),x=function(e){function t(e,n,r){(0,l.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return i.services=n,i.channel=e,i.members=r,i}return(0,v.default)(t,e),(0,f.default)(t,[{key:"unsubscribe",value:function(){return g(this,void 0,void 0,o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rosterEntityPromise){e.next=6;break}return e.next=3,this.rosterEntityPromise;case 3:t=e.sent,t.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}},e,this)}))}},{key:"subscribe",value:function(e){var t=this;return this.rosterEntityPromise=this.rosterEntityPromise||this.services.syncClient.map({uniqueName:e,mode:"open"}).then(function(e){e.on("itemAdded",function(e){t.upsertMember(e.key,e.value).then(function(e){t.emit("memberJoined",e)})}),e.on("itemRemoved",function(e){if(t.members.has(e)){var n=t.members.get(e);t.members.delete(e),t.emit("memberLeft",n)}}),e.on("itemUpdated",function(e){t.upsertMember(e.key,e.value)});var n=[];return e.forEach(function(e){n.push(t.upsertMember(e.key,e.value))}).then(function(){return m.default.all(n)}).then(function(){return e})}).catch(function(e){throw t.rosterEntityPromise=null,k.error("Failed to get roster object for channel",t.channel.sid,e),e})}},{key:"upsertMember",value:function(e,t){return g(this,void 0,void 0,o.default.mark(function n(){var r,i=this;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.members.get(e))){n.next=3;break}return n.abrupt("return",r._update(t));case 3:return r=new _.Member(this.services,this.channel,t,e),this.members.set(e,r),r.on("updated",function(){return i.emit("memberUpdated",r)}),n.abrupt("return",r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"getMembers",value:function(){var e=this;return this.rosterEntityPromise.then(function(){var t=[];return e.members.forEach(function(e){return t.push(e)}),t})}},{key:"add",value:function(e){return this.services.session.addCommand("addMemberV2",{channelSid:this.channel.sid,username:e})}},{key:"invite",value:function(e){return this.services.session.addCommand("inviteMember",{channelSid:this.channel.sid,username:e})}},{key:"remove",value:function(e){return this.services.session.addCommand("removeMember",{channelSid:this.channel.sid,username:e})}}]),t}(b.EventEmitter);t.Members=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(29),o=r(i),a=n(13),s=r(a),u=n(20),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(9),w=r(_),k=function(e,t,n,r){return new(n||(n=w.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var x=n(15),C=n(26),E=n(427),S=n(194),T=C.Logger.scope(""),O=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return r.channel=e,r.services=n,r.messagesByIndex=new l.default,r.messagesListPromise=null,r}return(0,b.default)(t,e),(0,v.default)(t,[{key:"subscribe",value:function(e){var t=this;return this.messagesListPromise=this.messagesListPromise||this.services.syncClient.list({uniqueName:e,mode:"open"}).then(function(e){return e.on("itemAdded",function(e){var n=new E.Message(t.channel,t.services,e.index,e.value);if(t.messagesByIndex.has(n.index))return void T.debug("Message arrived, but already known and ignored",t.channel.sid,n.index);t.messagesByIndex.set(n.index,n),n.on("updated",function(){return t.emit("messageUpdated",n)}),t.emit("messageAdded",n)}),e.on("itemRemoved",function(e){if(t.messagesByIndex.has(e)){var n=t.messagesByIndex.get(e);t.messagesByIndex.delete(n.index),n.removeAllListeners("updated"),t.emit("messageRemoved",n)}}),e.on("itemUpdated",function(e){var n=t.messagesByIndex.get(e.index);n&&n._update(e.value)}),e}).catch(function(e){throw t.messagesListPromise=null,T.error("Failed to get messages object for channel",t.channel.sid,e),e})}},{key:"unsubscribe",value:function(){return k(this,void 0,void 0,s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messagesListPromise){e.next=6;break}return e.next=3,this.messagesListPromise;case 3:t=e.sent,t.close(),this.messagesListPromise=null;case 6:case"end":return e.stop()}},e,this)}))}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(this,void 0,void 0,s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(T.debug("Sending text message",e,t),t.constructor===Object){n.next=3;break}throw new Error("Attributes must be a valid JSON object");case 3:return n.abrupt("return",this.services.session.addCommand("sendMessage",{channelSid:this.channel.sid,text:e,attributes:(0,o.default)(t)}));case 4:case"end":return n.stop()}},n,this)}))}},{key:"sendMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(this,void 0,void 0,s.default.mark(function n(){var r,i;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(T.debug("Sending media message",e,t),t.constructor===Object){n.next=3;break}throw new Error("Attributes must be a valid JSON object");case 3:if(r=void 0,!(e instanceof S)){n.next=11;break}return T.debug("Sending media message as FormData",e,t),n.next=8,this.services.mcsClient.postFormData(e);case 8:r=n.sent,n.next=18;break;case 11:if(T.debug("Sending media message as SendMediaOptions",e,t),i=e,i.contentType&&i.media){n.next=15;break}throw new Error("Media content <Channel#SendMediaOptions> must contain non-empty contentType and media");case 15:return n.next=17,this.services.mcsClient.post(i.contentType,i.media);case 17:r=n.sent;case 18:return n.abrupt("return",this.services.session.addCommand("sendMediaMessage",{channelSid:this.channel.sid,mediaSid:r.sid,attributes:(0,o.default)(t)}));case 19:case"end":return n.stop()}},n,this)}))}},{key:"getMessages",value:function(e,t,n){return t="undefined"!==typeof t?t:"end",n=n||"backwards",this._getMessages(e,t,n)}},{key:"wrapPaginator",value:function(e,t,n){var r=this,i="desc"===e,o=function(){return t.nextPage().then(function(t){return r.wrapPaginator(e,t,n)})},a=function(){return t.prevPage().then(function(t){return r.wrapPaginator(e,t,n)})};return n(t.items).then(function(e){return{items:e.sort(function(e,t){return e.index-t.index}),hasPrevPage:i?t.hasNextPage:t.hasPrevPage,hasNextPage:i?t.hasPrevPage:t.hasNextPage,prevPage:i?o:a,nextPage:i?a:o}})}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i=new E.Message(this.channel,this.services,e,t);return this.messagesByIndex.set(i.index,i),i.on("updated",function(){return n.emit("messageUpdated",i)}),i}},{key:"_getMessages",value:function(e,t,n){var r=this;t="undefined"!==typeof t?t:"end",e=e||30;var i="backwards"===n?"desc":"asc";return this.messagesListPromise.then(function(n){return n.getItems({from:"end"!==t?t:void 0,pageSize:e,order:i})}).then(function(e){return r.wrapPaginator(i,e,function(e){return w.default.all(e.map(function(e){return r._upsertMessage(e.index,e.value)}))})})}}]),t}(x.EventEmitter);t.Messages=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){try{return t?JSON.parse(t):{}}catch(t){return S.warn("Got malformed attributes for the message",e),{}}}var o=n(29),a=r(o),s=n(13),u=r(s),l=n(5),c=r(l),f=n(0),d=r(f),p=n(1),h=r(p),v=n(6),y=r(v),m=n(7),g=r(m),b=n(9),_=r(b),w=function(e,t,n,r){return new(n||(n=_.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var k=n(15),x=n(40),C=n(26),E=n(428),S=new C.Logger,T=function(e){function t(e,n,r,o){(0,d.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return a.channel=e,a.services=n,a.state={sid:o.sid,index:r,author:o.author,body:o.text,timestamp:o.timestamp?new Date(o.timestamp):null,dateUpdated:o.dateUpdated?new Date(o.dateUpdated):null,lastUpdatedBy:o.lastUpdatedBy?o.lastUpdatedBy:null,attributes:i(o.sid,o.attributes),type:o.type?o.type:"text",media:o.type&&"media"===o.type&&o.media?new E.Media(o.media,a.services):null},a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"_update",value:function(e){var t=!1;!e.text&&"string"!==typeof e.text||e.text===this.state.body||(this.state.body=e.text,t=!0),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t=!0),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t=!0),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t=!0);var n=i(this.sid,e.attributes);x.isDeepEqual(this.state.attributes,n)||(this.state.attributes=n,t=!0),t&&this.emit("updated",this)}},{key:"remove",value:function(){return w(this,void 0,void 0,u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("deleteMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString()});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}))}},{key:"updateBody",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"===typeof e){t.next=2;break}throw new Error("Body <String> is a required parameter for updateBody");case 2:return t.next=4,this.services.session.addCommand("editMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString(),text:e});case 4:return t.abrupt("return",this);case 5:case"end":return t.stop()}},t,this)}))}},{key:"updateAttributes",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof e){t.next=4;break}throw new Error("Attributes is a required parameter for updateAttributes");case 4:if(e.constructor===Object){t.next=6;break}throw new Error("Attributes must be a valid JSON object");case 6:return t.next=8,this.services.session.addCommand("editMessageAttributes",{channelSid:this.channel.sid,messageIdx:this.index,attributes:(0,a.default)(e)});case 8:return t.abrupt("return",this);case 9:case"end":return t.stop()}},t,this)}))}},{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"body",get:function(){return this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"timestamp",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}}]),t}(k.EventEmitter);t.Message=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(t,n){(0,s.default)(this,e),this.mcsMedia=null,this.services=n,this.state={sid:t.sid,filename:t.filename,contentType:t.contentType,size:t.size}}return(0,l.default)(e,[{key:"getContentUrl",value:function(){return d(this,void 0,void 0,o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mcsMedia){e.next=8;break}if(!this.services.mcsClient){e.next=7;break}return e.next=4,this.services.mcsClient.get(this.state.sid);case 4:this.mcsMedia=e.sent,e.next=8;break;case 7:throw new Error("Media Content Service is unavailable");case 8:return e.abrupt("return",this.mcsMedia.getContentUrl());case 9:case"end":return e.stop()}},e,this)}))}},{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}}]),e}();t.Media=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(122),s=r(a),u=n(49),l=r(u),c=n(4),f=r(c),d=n(20),p=r(d),h=n(0),v=r(h),y=n(1),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(87),k=function(){function e(t,n){var r=this;(0,v.default)(this,e),this.config=t,this.services=n,this.cache=new p.default,this.cacheLifetime=0,this.services.session.getHttpCacheInterval().then(function(e){r.cacheLifetime=1e3*e.seconds,r.cleanupCache()})}return(0,m.default)(e,[{key:"backoffConfig",value:function(){return(0,f.default)(this.config.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return"undefined"!==typeof this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:"undefined"!==typeof this.config.retryWhenThrottledDefault&&this.config.retryWhenThrottledDefault}},{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,l.default)(this.cache);!(e=(r=i.next()).done);e=!0){var o=(0,s.default)(r.value,2),a=o[0],u=o[1];this.isExpired(u.timestamp)&&this.cache.delete(a)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval(function(){return e.cleanupCache()},2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new b.default(function(r,i){var o=[502,503,504];n&&o.push(429);var a=new w.default(t.backoffConfig());a.on("attempt",function(){e().then(function(e){return a.succeeded(e)}).catch(function(e){o.indexOf(e.status)>-1?a.failed(e):"Twilsock disconnected"===e.message?a.failed(e):(a.removeAllListeners(),a.cancel(),i(e))})}),a.on("succeeded",function(e){r(e)}),a.on("cancelled",function(e){return i(e)}),a.on("failed",function(e){return i(e)}),a.start()})}},{key:"get",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){var n,r,i,a=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this.cache.get(e))||this.isExpired(n.timestamp)){t.next=3;break}return t.abrupt("return",n.response);case 3:return r={"X-Twilio-Token":this.config.token},t.next=6,this.executeWithRetry(function(){return a.services.transport.get(e,r)},this.retryWhenThrottled());case 6:return i=t.sent,this.cache.set(e,{response:i,timestamp:Date.now()}),this.pokeTimer(),t.abrupt("return",i);case 10:case"end":return t.stop()}},t,this)}))}}]),e}();t.Network=k},function(e,t,n){e.exports={default:n(431),__esModule:!0}},function(e,t,n){n(46),n(38),e.exports=n(432)},function(e,t,n){var r=n(75),i=n(19)("iterator"),o=n(45);e.exports=n(14).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(40),h=n(86),v=n(434),y=function(){function e(t){(0,s.default)(this,e),this.services=t}return(0,l.default)(e,[{key:"getPage",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n,r,i,a=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},t.next=3,this.services.session.getSessionLinks();case 3:return n=t.sent,r=new p.UriBuilder(n.syncListUrl).arg("PageToken",e.pageToken).build(),t.next=7,this.services.network.get(r);case 7:return i=t.sent,t.abrupt("return",new h.RestPaginator(i.body.channels.map(function(e){return new v.SyncListDescriptor(e)}),function(e){return a.getPage({pageToken:e})},i.body.meta.previous_token,i.body.meta.next_token));case 9:case"end":return t.stop()}},t,this)}))}}]),e}();t.SyncList=y},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){(0,i.default)(this,e),this.descriptor=t,this.channel_sid=t.channel_sid,this.status=t.status,this.channel=t.channel,this.messages=t.messages,this.roster=t.roster,this.lastConsumedMessageIndex=t.last_consumed_message_index,this.status=t.status};t.SyncListDescriptor=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(50),o=r(i),a=n(88),s=r(a),u=n(9),l=r(u),c=n(20),f=r(c),d=n(31),p=r(d),h=n(5),v=r(h),y=n(0),m=r(y),g=n(1),b=r(g),_=n(6),w=r(_),k=n(7),x=r(k),C=n(15),E=r(C),S=n(124),T=r(S),O=n(64),P=r(O),M=n(446),j=r(M),R=n(447),A=r(R),N=n(455),I=r(N),D=function(e){function t(e,n){(0,m.default)(this,t);var r=(0,w.default)(this,(t.__proto__||(0,v.default)(t)).call(this));n=n||{},n.logLevel=n.logLevel||"error",T.default.setLevel(n.logLevel);var i=new j.default(e,n),o=new A.default(i),a=new I.default(o);return(0,p.default)(r,{_config:{value:i},_socket:{value:o},_packet:{value:a},_registrations:{value:new f.default},_registrationsInProgress:{value:new f.default},isConnected:{get:function(){return r._socket.isConnected}},connected:{get:function(){return r._socket.isConnected}},state:{get:function(){return r._socket.state}}}),r._socket.on("message",function(e,t){return setTimeout(function(){r.emit("message",e,t)},0)}),r._socket.on("connected",function(){return r._updateRegistrations()}),r._socket.on("connected",function(){return r.emit("connected")}),r._socket.on("disconnected",function(){return r.emit("disconnected")}),r._socket.on("stateChanged",function(e){return r.emit("stateChanged",e)}),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&window.addEventListener("online",function(){T.default.debug("Got online"),o.isRetrying()&&o.reconnect()}),r}return(0,x.default)(t,e),(0,b.default)(t,[{key:"send",value:function(e){return this._packet.send(e.to,e.headers,e.body)}},{key:"updateToken",value:function(e){return T.default.info("updateToken"),this._config.token===e?l.default.resolve():(this._config.updateToken(e),this._socket.updateToken(),l.default.resolve())}},{key:"_updateRegistration",value:function(e,t){var n=this;T.default.info("update registration for context",e);var r=this._registrationsInProgress.get(e);r||(r=new s.default,this._registrationsInProgress.set(e,r));var i=P.default.v4();return r.add(i),this._packet.putNotificationContext(e,t).then(function(){T.default.info("registration attempt succeeded for context",t),r.delete(i),0===("undefined"!==typeof r.size?r.size:(r._c||{}).size)&&(n._registrationsInProgress.delete(e),n.emit("registered",e))}).catch(function(o){T.default.info("registration attempt failed for context",t),T.default.debug(o),r.delete(i),0===("undefined"!==typeof r.size?r.size:(r._c||{}).size)&&(n._registrationsInProgress.delete(e),n.emit("registrationFailed",e,o))})}},{key:"_updateRegistrations",value:function(){var e=this;T.default.info("refreshing all registrations"),this._registrations.forEach(function(t,n){e._updateRegistration(n,t)})}},{key:"setNotificationsContext",value:function(e,t){if(!e||!t)throw new Error("Invalid arguments provided");this._registrations.set(e,t),this._socket.isConnected&&this._updateRegistration(e,t)}},{key:"removeNotificationsContext",value:function(e){this._registrations.has(e)&&(this._registrations.delete(e),this._socket.isConnected&&this._packet.deleteNotificationContext(e))}},{key:"connect",value:function(){return this._socket.connect()}},{key:"disconnect",value:function(){return this._socket.disconnect()}}]),t}(E.default);t.default=D,(0,o.default)(D),e.exports=t.default},function(e,t,n){n(437),e.exports=n(14).Object.freeze},function(e,t,n){var r=n(22),i=n(73).onFreeze;n(103)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){n(74),n(38),n(46),n(439),n(440),n(441),n(442),e.exports=n(14).Set},function(e,t,n){"use strict";var r=n(147),i=n(112);e.exports=n(151)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(152)("Set")})},function(e,t,n){n(153)("Set")},function(e,t,n){n(154)("Set")},function(e,t,n){n(444);var r=n(14).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(25),"Object",{defineProperties:n(141)})},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:u,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:c+1,p=f-l+(d-c)/1e4;if(p<0&&void 0===e.clockseq&&(a=a+1&16383),(p<0||f>l)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,c=d,u=a,f+=122192928e5;var h=(1e4*(268435455&f)+d)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var v=f/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var y=e.node||s,m=0;m<6;++m)i[r+m]=y[m];return t||o(i)}var i=n(196),o=n(197),a=i(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],u=16383&(a[6]<<8|a[7]),l=0,c=0;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c="wss://tsock.twilio.com",f="/v3/wsconnect",d=function(){function e(t,n){var r=this;(0,s.default)(this,e),n=n||{};var i=n.Twilsock||{},a=i.uri||n.wsServer||c;(0,o.default)(this,{_twilsockWsHost:{value:a+f},_token:{value:t,writable:!0},twilsockUri:{get:function(){return r._twilsockWsHost}},token:{get:function(){return r._token}}})}return(0,l.default)(e,[{key:"updateToken",value:function(e){this._token=e}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";(function(r){function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}).length}function a(e){var t=encodeURIComponent(e),n=t.replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),r=new Uint8Array(n.length);return Array.prototype.forEach.call(n,function(e,t){r[t]=e.charCodeAt(0)}),r}function s(e){var t=Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join(""),n=t.replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(n)}function u(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}function l(e){switch("undefined"===typeof e?"undefined":(0,D.default)(e)){case"undefined":return"";case"object":return(0,N.default)(e);default:return e}}function c(e){var t=s(e);try{return JSON.parse(t)}catch(e){throw B.default.error("failed to parse input: ",t),e}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(50),d=i(f),p=n(9),h=i(p),v=n(122),y=i(v),m=n(49),g=i(m),b=n(20),_=i(b),w=n(31),k=i(w),x=n(5),C=i(x),E=n(0),S=i(E),T=n(1),O=i(T),P=n(6),M=i(P),j=n(7),R=i(j),A=n(29),N=i(A),I=n(57),D=i(I),F=n(15),L=i(F),U=n(124),B=i(U),H=n(64),z=i(H),q=n(125),W=i(q),V=n(202),K=i(V),G=r.WebSocket||r.MozWebSocket||n(454),$=function(e){function t(e){(0,S.default)(this,t);var n=(0,M.default)(this,(t.__proto__||(0,C.default)(t)).call(this));e.logLevel&&B.default.setLevel(e.logLevel);var r=W.default.exponential({randomisationFactor:.2,initialDelay:2e3,maxDelay:12e4});return r.on("ready",function(){n._retry()}),n.on("reply",function(e){n._processReply(e)}),(0,k.default)(n,{_config:{value:e},_transportReady:{value:!1,writable:!0},_disconnectedPromiseResolve:{value:null,writable:!0},_backoffDefault:{value:r},_backoff:{value:r,writable:!0},_fsm:{value:null,writable:!0},_watchTimer:{value:null,writable:!0},_timestamp:{value:0,writable:!0},_socket:{value:null,writable:!0},_activeToken:{value:null,writable:!0},activeToken:{enumerable:!0,get:function(){return n._activeToken}},state:{enumberable:!0,get:function(){return n._getState()}},isConnected:{enumberable:!0,get:function(){return n._isConnected()}},_activeRequests:{value:new _.default},_disconnectingTimer:{value:null,writable:!0},_isDeferredUpdate:{value:!1,writable:!0}}),n._fsm=K.default.create({initial:"disconnected",events:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"}],callbacks:{onconnecting:function(){n._startWatchdogTimer(),n._setupSocket(),n.emit("connecting")},onenterinitialising:function(){n._sendInit()},onleaveinitialising:function(){n._cancelInit()},onenterupdating:function(){n._sendUpdate()},onleaveupdating:function(){n._cancelUpdate()},onenterretrying:function(){n._initRetry(),n.emit("connecting")},onenterconnected:function(){n._resetBackoff(),n._onConnected()},onuserUpdateToken:function(){n._resetBackoff()},ontokenRejected:function(){n._resetBackoff(),n._closeSocket(),n._finalizeSocket()},onuserDisconnect:function(){n._closeSocket()},onenterdisconnecting:function(){n._startDisconnectTimer()},onleavedisconnecting:function(){n._cancelDisconnectTimer()},onenterwaitSocketClosed:function(){n._startDisconnectTimer()},onleavewaitSocketClosed:function(){n._cancelDisconnectTimer()},onenterwaitOffloadSocketClosed:function(){n._startDisconnectTimer()},onleavewaitOffloadSocketClosed:function(){n._cancelDisconnectTimer()},ondisconnected:function(){n._resetBackoff(),n._finalizeSocket()},onreceiveClose:function(e,t,r,i){B.default.debug("onreceiveClose: ",i),n._onCloseReceived(i)},onreceiveOffload:function(e,t,r,i){B.default.debug("onreceiveoffload: ",i),n._modifyBackoff(i.body),n._onCloseReceived(i.status)},onunsupported:function(){n._closeSocket(),n._finalizeSocket()},onerror:function(){n._closeSocket(),n._finalizeSocket()},onenterstate:function(e,t,r){n._changeState(e,t,r)}},error:function(){B.default.warn("FSM: unexpected transition",arguments)}}),n}return(0,R.default)(t,e),(0,O.default)(t,[{key:"_changeState",value:function(e,t,n){var r=this;B.default.debug("FSM: ",e,": ",t,">>",n),this.emit("stateChanged",this.state),this._isDeferredUpdate&&(this._isDeferredUpdate=!1,setTimeout(function(){r.updateToken()},0))}},{key:"_resetBackoff",value:function(){B.default.trace("_resetBackoff"),this._backoff=this._backoffDefault,this._backoff.reset()}},{key:"_modifyBackoff",value:function(e){var t=this;B.default.trace("_modifyBackoff",e);var n=e?e.backoff_policy:null;if(n){var r=n.reconnect_min_ms||2e3,i=n.reconnect_max_ms||12e4;B.default.debug("new backoff policy",r,i),this._backoff=W.default.exponential({randomisationFactor:.2,initialDelay:r,maxDelay:i}),this._backoff.on("ready",function(){t._retry()})}}},{key:"_startDisconnectTimer",value:function(){var e=this;B.default.trace("_startDisconnectTimer"),this._disconnectingTimer&&(clearTimeout(this._disconnectingTimer),this._disconnectingTimer=null),this._disconnectingTimer=setTimeout(function(){B.default.debug("disconnecting is timed out"),e._closeSocket()},3e3)}},{key:"_cancelDisconnectTimer",value:function(){B.default.trace("_cancelDisconnectTimer"),this._disconnectingTimer&&(clearTimeout(this._disconnectingTimer),this._disconnectingTimer=null)}},{key:"_processReply",value:function(e){B.default.debug("receive reply:",e);var t=this._activeRequests.get(e.id);if(t)switch(clearTimeout(t.timeout),this._activeRequests.delete(e.id),t.reqType){case"init":e.status.code>=200&&e.status.code<300?this._fsm.initSuccess(e.body):401===e.status.code||403===e.status.code?this._fsm.tokenRejected(e.status):429===e.status.code?(this._modifyBackoff(e.body),this._fsm.initError(e.status)):this._fsm.initError(e.status);break;case"update":e.status.code>=200&&e.status.code<300?this._fsm.updateSuccess(e.body):401===e.status.code||403===e.status.code?this._fsm.tokenRejected(e.status):429===e.status.code?(this._modifyBackoff(e.body),this._fsm.updateError(e.status)):this._fsm.updateError(e.status);break;default:B.default.error("unexpected reply")}}},{key:"_storeRequest",value:function(e,t,n){var r=this;B.default.trace("_storeRequest");var i={reqType:t,timeout:setTimeout(function(){B.default.debug("request",t,": ",e,"is timed out"),"init"!==t&&"update"!==t&&B.default.error("unknown request type",t),r._closeSocket()},n)};this._activeRequests.set(e,i)}},{key:"_isConnected",value:function(){return this.state===t.state.CONNECTED&&this._socket&&1===this._socket.readyState}},{key:"_getState",value:function(){if(!this._fsm)return t.state.DISCONNECTED;switch(this._fsm.current){case"connecting":case"initialising":case"retrying":case"error":return t.state.CONNECTING;case"updating":case"connected":return t.state.CONNECTED;case"rejected":return t.state.REJECTED;case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return t.state.DISCONNECTING;case"disconnected":default:return t.state.DISCONNECTED}}},{key:"_initRetry",value:function(){B.default.trace("_initRetry"),this._backoff.backoff()}},{key:"_retry",value:function(){B.default.trace("_retry"),this._socket=null,this._activeToken=null,this._fsm.userRetry()}},{key:"_onConnected",value:function(){this.emit("connected")}},{key:"_finalizeSocket",value:function(){if(B.default.trace("_finalizeSocket"),this._stopWatchdogTimer(),this._onDisconnected(),this._disconnectedPromiseResolve){var e=this._disconnectedPromiseResolve;this._disconnectedPromiseResolve=null,e()}}},{key:"_onDisconnected",value:function(){this._socket=null,this._activeToken=null,this.emit("disconnected")}},{key:"_setupSocket",value:function(){B.default.trace("_setupSocket:",this._config.token);var e=this,t=this._config.twilsockUri;B.default.debug("try to connect to:",t);var n=new G(t);n.binaryType="arraybuffer",n.onopen=function(){B.default.info("socket opened"),e._fsm.socketConnected()},n.onclose=function(t){B.default.info("socket closed",t),e._fsm.socketClosed()},n.onerror=function(e){B.default.error("error: ",e)},n.onmessage=function(t){B.default.trace("data: ",t.data);var n=new Uint8Array(t.data),r=u(n);if("TWILSOCK"!==r.protocol||"V3.0"!==r.version)return B.default.error("unsupported protocol: "+r.protocol+" ver "+r.version),void e._fsm.unsupportedProtocol();var i=null;try{i=c(n.subarray(r.size,r.size+r.headerSize))}catch(n){return B.default.error("failed to parse message header",n,t),void e._fsm.protocolError()}B.default.trace("message received: ",i);var o=null;if(i.payload_size>0){var a=2+r.size+r.headerSize,l=i.payload_size;if(i.hasOwnProperty("payload_type")&&0!==i.payload_type.indexOf("application/json"))0===i.payload_type.indexOf("text/plain")&&(o=s(n.subarray(a,a+l)));else try{o=c(n.subarray(a,a+l))}catch(n){return B.default.error("failed to parse message body",n,t),void e._fsm.protocolError()}}e._updateActivityTimestamp(),"notification"===i.method?(e._confirmReceiving(i),e.emit("message",i.message_type,o)):"reply"===i.method?e.emit("reply",{id:i.id,status:i.status,header:i,body:o}):"ping"===i.method?e._confirmReceiving(i):"close"===i.method&&(B.default.trace("connection close initated by server"),e._confirmReceiving(i),308===i.status.code?(B.default.info("connection has been offloaded"),e._fsm.receiveOffload({status:i.status.status,body:o})):406===i.status.code?(B.default.error("connection has been rejected because server can not parse protocol"),e._fsm.receiveFatalClose()):417===i.status.code?(B.default.info("connection has been rejected because server could not understand client`s reply"),e._fsm.receiveFatalClose(i.status.status)):410===i.status.code?(B.default.info("connection has expired"),e._fsm.receiveClose(i.status.status)):401===i.status.code?(B.default.info("connection is not authenticate"),e._fsm.receiveClose(i.status.status)):(B.default.error("unexpected close: ",i.status),e._fsm.receiveOffload({status:i.status.status,body:null})))},this._activeToken=this._config.token,this._socket=n}},{key:"_sendInit",value:function(){B.default.trace("_sendInit");var e={id:z.default.v4(),method:"init",token:this._activeToken};this._sendPacket(e),this._storeRequest(e.id,"init",5e3)}},{key:"_sendUpdate",value:function(){B.default.trace("_sendUpdate");var e={id:z.default.v4(),method:"update",token:this._activeToken};this._sendPacket(e),this._storeRequest(e.id,"update",5e3)}},{key:"_cancelInit",value:function(){B.default.trace("_cancelInit");var e=!0,t=!1,n=void 0;try{for(var r,i=(0,g.default)(this._activeRequests);!(e=(r=i.next()).done);e=!0){var o=(0,y.default)(r.value,2),a=o[0],s=o[1];s&&"init"===s.reqType&&(clearTimeout(s.timeout),this._activeRequests.delete(a))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_cancelUpdate",value:function(){B.default.trace("_cancelUpdate");var e=!0,t=!1,n=void 0;try{for(var r,i=(0,g.default)(this._activeRequests);!(e=(r=i.next()).done);e=!0){var o=(0,y.default)(r.value,2),a=o[0],s=o[1];s&&"update"===s.reqType&&(clearTimeout(s.timeout),this._activeRequests.delete(a))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_confirmReceiving",value:function(e){B.default.trace("_confirmReceiving");var t={method:"reply",id:e.id,payload_type:"application/json",status:{code:200,status:"OK"}};try{this._sendPacket(t)}catch(e){B.default.debug("failed to confirm packet receiving",e)}}},{key:"_sendPacket",value:function(e,t){var n=l(t);e.payload_size=o(n);var r=(0,N.default)(e)+"\r\n",i="TWILSOCK V3.0 "+(o(r)-2)+"\r\n";B.default.debug("send request:",i+r+n);var s=a(i+r+n);try{this._socket.send(s.buffer)}catch(t){throw B.default.info("failed to send ",e,t),B.default.info(t.stack),t}}},{key:"_closeSocket",value:function(){B.default.trace("_closeSocket"),this._socket&&(this._socket.onopen=null,this._socket.onclose=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.close()),this._fsm.socketClosed()}},{key:"connect",value:function(){B.default.trace("connect"),this._fsm.userConnect()}},{key:"reconnect",value:function(){B.default.trace("reconnect"),this._resetBackoff(),this._fsm.userRetry()}},{key:"isRetrying",value:function(){return"retrying"===this._fsm.current}},{key:"disconnect",value:function(){var e=this;return B.default.trace("disconnect"),this._fsm.is("disconnected")?h.default.resolve():new h.default(function(t){e._disconnectedPromiseResolve=t,e._fsm.userDisconnect()})}},{key:"updateToken",value:function(){if(B.default.trace("updateToken:",this._config.token),"initialising"===this._fsm.current||"updating"===this._fsm.current||"waitSocketClosed"===this._fsm.current||"waitOffloadSocketClosed"===this._fsm.current)return B.default.debug("defer updateToken because of",this._fsm.current,"is in progress"),void(this._isDeferredUpdate=!0);this._isDeferredUpdate=!1,this._activeToken=this._config.token,this._fsm.userUpdateToken()}},{key:"sendUpstreamMessage",value:function(e,t,n){var r=z.default.v4(),i={host:e.host,path:e.path,method:e.method};e.hasOwnProperty("params")&&(i.params=e.params);var o={method:"message",id:r,http_request:i};return t&&(o.http_request.headers=t),t&&t.hasOwnProperty("Content-Type")&&(o.payload_type=t["Content-Type"]),this._sendPacket(o,n),r}},{key:"send",value:function(e,t){return e.id=e.id||z.default.v4(),this._sendPacket(e,t),e.id}},{key:"_onCloseReceived",value:function(e){B.default.trace("_onCloseReceived"),B.default.info("connection closed by server, reason is",e),this._socket&&(this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null)}},{key:"_startWatchdogTimer",value:function(){var e=this;B.default.trace("_startWatchdogTimer"),this._timestamp=Date.now(),this._watchTimer=setInterval(function(){Date.now()-e._timestamp>43e3&&e._socket&&e._socket.close()},5e3)}},{key:"_stopWatchdogTimer",value:function(){B.default.trace("_stopWatchdogTimer"),clearInterval(this._watchTimer)}},{key:"_updateActivityTimestamp",value:function(){B.default.trace("_updateActivityTimestamp"),this._timestamp=Date.now()}}]),t}(L.default);t.default=$,$.state={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",ERROR:"error",REJECTED:"rejected"},(0,d.default)($.state),(0,d.default)($),e.exports=t.default}).call(t,n(18))},function(e,t,n){function r(e,t,n,r){n=n||"";var i=u.format.apply(this,[n].concat(r)),o=new e(i);throw Error.captureStackTrace(o,t),o}function i(e,t,n){r(l.IllegalArgumentError,e,t,n)}function o(e,t,n){r(l.IllegalStateError,e,t,n)}function a(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function s(e){return function(t,n){var r=a(t);if(r==e)return t;i(arguments.callee,n||'Expected "'+e+'" but got "'+r+'".',Array.prototype.slice.call(arguments,2))}}var u=n(41),l=e.exports=n(451);e.exports.checkArgument=function(e,t){e||i(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||o(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;i(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;i(arguments.callee,t||'Expected value to be defined and not null but got "'+a(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=s("string"),e.exports.checkIsArray=s("array"),e.exports.checkIsNumber=s("number"),e.exports.checkIsBoolean=s("boolean"),e.exports.checkIsFunction=s("function"),e.exports.checkIsObject=s("object")},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function r(e){Error.call(this,e),this.message=e}function i(e){Error.call(this,e),this.message=e}var o=n(41);o.inherits(r,Error),r.prototype.name="IllegalArgumentError",o.inherits(i,Error),i.prototype.name="IllegalStateError",e.exports.IllegalStateError=i,e.exports.IllegalArgumentError=r},function(e,t,n){function r(e){a.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=r.DEFAULT_FACTOR,e&&void 0!==e.factor&&(o.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}var i=n(41),o=n(126),a=n(200);i.inherits(r,a),r.DEFAULT_FACTOR=2,r.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},r.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=r},function(e,t,n){function r(e,t,n){i.EventEmitter.call(this),o.checkIsFunction(e,"Expected fn to be a function."),o.checkIsArray(t,"Expected args to be an array."),o.checkIsFunction(n,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=n,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=r.DEFAULT_RETRY_PREDICATE_,this.state_=r.State_.PENDING}var i=n(15),o=n(126),a=n(41),s=n(199),u=n(201);a.inherits(r,i.EventEmitter),r.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},r.DEFAULT_RETRY_PREDICATE_=function(e){return!0},r.prototype.isPending=function(){return this.state_==r.State_.PENDING},r.prototype.isRunning=function(){return this.state_==r.State_.RUNNING},r.prototype.isCompleted=function(){return this.state_==r.State_.COMPLETED},r.prototype.isAborted=function(){return this.state_==r.State_.ABORTED},r.prototype.setStrategy=function(e){return o.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},r.prototype.retryIf=function(e){return o.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},r.prototype.getLastResult=function(){return this.lastResult_.concat()},r.prototype.getNumRetries=function(){return this.numRetries_},r.prototype.failAfter=function(e){return o.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},r.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=r.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},r.prototype.start=function(e){o.checkState(!this.isAborted(),"FunctionCall is aborted."),o.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new u;this.backoff_=e?e(t):new s(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=r.State_.RUNNING,this.doCall_(!1)},r.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);i.EventEmitter.prototype.emit.apply(this,t);var n=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(n))},r.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},r.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,i.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=r.State_.COMPLETED,this.doCallback_())}},r.prototype.handleBackoff_=function(e,t,n){this.emit("backoff",e,t,n)},e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e>=200&&e<300}function o(e){return e&&e.header&&e.header.http_status}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=r(a),u=n(20),l=r(u),c=n(31),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(124),m=r(y),g=function(){function e(t){var n=this;(0,p.default)(this,e),(0,f.default)(this,{_activeRequests:{value:new l.default},_socket:{value:t}}),this._socket.on("reply",this._processReply.bind(this)),this._socket.on("disconnected",function(){n._activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new Error("Twilsock disconnected"))}),n._activeRequests.clear()})}return(0,v.default)(e,[{key:"_processReply",value:function(e){var t=this._activeRequests.get(e.id);t&&(clearTimeout(t.timeout),this._activeRequests.delete(e.id),setTimeout(function(){i(e.status.code)?o(e)&&!i(e.header.http_status.code)?t.reject({status:e.header.http_status.code,description:e.header.http_status.status,body:e.body}):t.resolve(e):t.reject(new Error("Transport failure: "+e.status.status))},0))}},{key:"_storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout(function(){m.default.debug("request",e,"is timed out"),n(new Error("Twilsock: request timeout: "+e))},3e4)};this._activeRequests.set(e,r)}},{key:"send",value:function(e,t,n){var r=this;return new s.default(function(i,o){r._socket.isConnected||(m.default.info("Can not send upstream message. Twilsock is not in connected state"),o(new Error("Twilsock is not connected")));var a=r._socket.sendUpstreamMessage(e,t,n);m.default.trace("message sent: ",{id:a,address:e,headers:t,body:n}),r._storeRequest(a,i,o)})}},{key:"putNotificationContext",value:function(e,t){var n=this;return new s.default(function(r,i){n._socket.isConnected||(m.default.info("Can not send put notification context. Twilsock is not in connected state"),i(new Error("Twilsock is not connected")));var o={method:"put_notification_ctx",notification_ctx_id:e},a=n._socket.send(o,t);n._storeRequest(a,r,i)})}},{key:"deleteNotificationContext",value:function(e){var t=this;return new s.default(function(n,r){t._socket.isConnected||(m.default.info("Can not send delete notification context. Twilsock is not in connected state"),r(new Error("Twilsock is not connected")));var i={method:"delete_notification_ctx",notification_ctx_id:e},o=t._socket.send(i);t._storeRequest(o,n,r)})}},{key:"shutdown",value:function(){this._activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new Error("Twilsock: request cancelled by user"))}),this._activeRequests.clear()}}]),e}();t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=new S.default(t,n,1,S.default.strategy.LEAK);return function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),r.schedule.apply(r,t)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=r(o),s=n(31),u=r(s),l=n(5),c=r(l),f=n(0),d=r(f),p=n(1),h=r(p),v=n(6),y=r(v),m=n(7),g=r(m),b=n(457),_=r(b),w=n(15),k=r(w),x=n(127),C=r(x),E=n(458),S=r(E),T=n(464),O=r(T),P=n(123),M=r(P),j=n(42),R=r(j),A=n(128),N=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this));if(!e)throw new Error("Token is required for Notifications client");n=n||{},n.logLevel=n.logLevel||"error",C.default.setLevel(n.logLevel);var o=n.minTokenRefreshInterval||1e4,a=n.productId||"notifications";n.twilsockClient=n.twilsockClient||new M.default(e,n),n.transport=n.transport||new R.default(n.twilsockClient),n.emsClient=n.emsClient||new A.EMSClient(n);var s=n.twilsockClient,l=n.transport,f={overall:!1,transport:!1,registration:!1,lastEmitted:null},p=new _.default(null,n);return(0,u.default)(r,{_config:{value:p},_emsClient:{value:n.emsClient},_registrar:{value:new O.default(a,l,s,p)},_twilsock:{value:s},_reliableTransportState:{value:f},updateToken:{value:i(r._updateToken.bind(r),1,o),enumerable:!0},connectionState:{get:function(){return"disconnected"===r._twilsock.state?"disconnected":"disconnecting"===r._twilsock.state?"disconnecting":"connected"===r._twilsock.state&&r._reliableTransportState.registration?"connected":"rejected"===r._twilsock.state?"denied":"connecting"}}}),r._emsClient.setToken(e).then(function(e){r._config.updateToken(e.token),r._registrar.updateToken()}).catch(function(e){C.default.warn("Failed to set token",e)}),r._onTransportStateChange(r._twilsock.connected),r._registrar.on("transportReady",function(e){r._onRegistrationStateChange(e?"registered":"")}),r._registrar.on("stateChanged",function(e){r._onRegistrationStateChange(e)}),r._registrar.on("needReliableTransport",r._onNeedReliableTransport.bind(r)),r._twilsock.on("message",function(e,t){return r._routeMessage(e,t)}),r._twilsock.on("connected",function(e){r._onTransportStateChange(!0),r._registrar.setNotificationId("twilsock",e)}),r._twilsock.on("disconnected",function(){r._onTransportStateChange(!1)}),r}return(0,g.default)(t,e),(0,h.default)(t,[{key:"_routeMessage",value:function(e,t){C.default.trace("Message arrived: ",e,t),this.emit("message",e,t)}},{key:"_onNeedReliableTransport",value:function(e){e?this._twilsock.connect():this._twilsock.disconnect()}},{key:"_onRegistrationStateChange",value:function(e){this._reliableTransportState.registration="registered"===e,this._updateTransportState()}},{key:"_onTransportStateChange",value:function(e){this._reliableTransportState.transport=e,this._updateTransportState()}},{key:"_updateTransportState",value:function(){var e=this._reliableTransportState.transport&&this._reliableTransportState.registration;this._reliableTransportState.overall!==e&&(this._reliableTransportState.overall=e,C.default.info("Transport ready "+e),this.emit("transportReady",e)),this._reliableTransportState.lastEmitted!==this.connectionState&&(this._reliableTransportState.lastEmitted=this.connectionState,this.emit("connectionStateChanged",this.connectionState))}},{key:"subscribe",value:function(e,t){return t=t||"twilsock",C.default.trace("Add subscriptions for message type: ",e,t),this._registrar.subscribe(e,t)}},{key:"unsubscribe",value:function(e,t){return t=t||"twilsock",C.default.trace("Remove subscriptions for message type: ",e,t),this._registrar.unsubscribe(e,t)}},{key:"handlePushNotification",value:function(e){C.default.warn("Push message passed, but no functionality implemented yet: "+e)}},{key:"setPushRegistrationId",value:function(e,t){this._registrar.setNotificationId(t||"gcm",e)}},{key:"_updateToken",value:function(e){var t=this;return C.default.info("authTokenUpdated"),this._fpaToken===e?a.default.resolve():(this._twilsock.updateToken(e),this._emsClient.setToken(e).then(function(e){return e.token}).then(function(e){t._config.updateToken(e),t._registrar.updateToken()}))}}]),t}(k.default);t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c="https://ers.twilio.com",f="/v1/registrations",d=function(){function e(t,n){var r=this;(0,s.default)(this,e),n=(n||{}).Notification||{};var i=n.ersUri||c;(0,o.default)(this,{_registrarUri:{value:i+f},_token:{value:t,writable:!0},registrarUri:{get:function(){return r._registrarUri}},token:{get:function(){return r._token}}})}return(0,l.default)(e,[{key:"updateToken",value:function(e){this._token=e}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){(function(t){(function(){e.exports=n(204),null!=t.window&&(t.window.Bottleneck=e.exports)}).call(this)}).call(t,n(18))},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=function(){function e(e,t,r,i,o){this.maxNb=e,this.minTime=t,this.highWater=r,this.strategy=i,this.rejectOnDrop=o,this.limiters={},this.Bottleneck=n(204),this.timeout=3e5,this.startAutoCleanup()}return e.prototype.key=function(e){var t;return null==e&&(e=""),null!=(t=this.limiters[e])?t:this.limiters[e]=new this.Bottleneck(this.maxNb,this.minTime,this.highWater,this.strategy,this.rejectOnDrop)},e.prototype.deleteKey=function(e){return null==e&&(e=""),delete this.limiters[e]},e.prototype.all=function(e){var t,n,i,o;n=this.limiters,i=[];for(t in n)r.call(n,t)&&(o=n[t],i.push(e(o)));return i},e.prototype.keys=function(){return Object.keys(this.limiters)},e.prototype.startAutoCleanup=function(){var e;return this.stopAutoCleanup(),"function"===typeof(e=this.interval=setInterval(function(e){return function(){var t,n,r,i,o;i=Date.now(),n=e.limiters,r=[];for(t in n)o=n[t],o._nextRequest+e.timeout<i?r.push(e.deleteKey(t)):r.push(void 0);return r}}(this),this.timeout/10)).unref?e.unref():void 0},e.prototype.stopAutoCleanup=function(){return clearInterval(this.interval)},e.prototype.changeTimeout=function(e){return this.timeout=e,this.startAutoCleanup()},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this._first=null,this._last=null,this.length=0}return e.prototype.push=function(e){var t;this.length++,t={value:e,next:null},null!=this._last?(this._last.next=t,this._last=t):this._first=this._last=t},e.prototype.shift=function(){var e,t;if(null!=this._first)return this.length--,t=this._first.value,this._first=null!=(e=this._first.next)?e:this._last=null,t},e.prototype.getArray=function(){var e,t,n;for(e=this._first,n=[];null!=e;)n.push((t=e,e=e.next,t.value));return n},e}(),e.exports=t}).call(this)},function(e,t,n){(function(t,n,r){!function(t){e.exports=t()}(function(){var e,i,o;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function a(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var u;try{throw new Error}catch(e){u=e}var l=e("./schedule"),c=e("./queue"),f=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!==typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"===typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new e(t);c._propagateFrom(this,1);var f=this._target();if(c._setBoundTo(l),l instanceof e){var d={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:l};f._then(t,a,void 0,c,d),l._then(s,u,void 0,c,d),c._setOnCancel(l)}else c._resolveCallback(f);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!==typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!==typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){return n(e,this.pop()).apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),u=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"===typeof e;if(n)t=o;else if(u){var r=a(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"===typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(u){var l=s._boundValue();e:for(var c=0;c<e.length;++c){var f=e[c];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(l,u)}else if("function"===typeof f){var d=o(f).call(l,u);if(d===a)return d;if(d)return o(n).call(l,u)}else if(r.isObject(u)){for(var p=i(f),h=0;h<p.length;++h){var v=p[h];if(f[v]!=u[v])continue e}return o(n).call(l,u)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,n,r){"use strict";n.exports=function(n,r){function i(e,t){return{promise:t}}function o(){return!1}function a(e,t,n){var r=this;try{e(t,n,function(e){if("function"!==typeof e)throw new TypeError("onCancel must be a function, got: "+U.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?U.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new R(this._peekContext())}function v(e,t){if(B(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=C(e);U.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),U.notEnumerableProp(e,"__stackCleaned__",!0)}}}function y(e,t,n,r,i){if(void 0===e&&null!==t&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),u=k(s),l=u.length-1;l>=0;--l){var c=u[l];if(!z.test(c)){var f=c.match(q);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var d=u[0],l=0;l<s.length;++l)if(s[l]===d){l>0&&(a="\n"+s[l-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,t)}}function m(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),g(n)}function g(e,t,r){if(ae.warnings){var i,o=new L(e);if(t)r._attachExtraTrace(o);else if(ae.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=C(o);o.stack=a.message+"\n"+a.stack.join("\n")}te("warning",o)||E(o,"",!0)}}function b(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function _(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(t[i]!==u)break;t.pop(),i--}t=r}}function k(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||W.test(r),o=i&&re(r);i&&!o&&(K&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||W.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function C(e){var t=e.stack,n=e.toString();return t="string"===typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:k(t)}}function E(e,t,n){if("undefined"!==typeof console){var r;if(U.isObject(e)){var i=e.stack;r=t+V(i,e)}else r=t+String(e);"function"===typeof I?I(r,n):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(r)}}function S(e,t,n,r){var i=!1;try{"function"===typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){F.throwLater(e)}"unhandledRejection"===e?te(e,n,r)||i||E(n,"Unhandled rejection "):te(e,r)}function T(e){var t;if("function"===typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"===typeof e.toString?e.toString():U.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+O(t)+">, no stack trace)"}function O(e){return e.length<41?e:e.substr(0,38)+"..."}function P(){return"function"===typeof oe}function M(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function j(e,t){if(P()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var l=M(i[u]);if(l){n=l.fileName,a=l.line;break}}for(var u=0;u<o.length;++u){var l=M(o[u]);if(l){r=l.fileName,s=l.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(re=function(e){if(H.test(e))return!0;var t=M(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function R(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,R),t>32&&this.uncycle()}var A,N,I,D=n._getDomain,F=n._async,L=e("./errors").Warning,U=e("./util"),B=U.canAttachTrace,H=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,q=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,W=null,V=null,K=!1,G=!(0==U.env("BLUEBIRD_DEBUG")),$=!(0==U.env("BLUEBIRD_WARNINGS")||!G&&!U.env("BLUEBIRD_WARNINGS")),Y=!(0==U.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!U.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=U.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&($||!!U.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){S("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),S("unhandledRejection",N,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return g(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=D();N="function"===typeof e?null===t?e:U.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=D();A="function"===typeof e?null===t?e:U.domainBind(t,e):void 0};var J=function(){};n.longStackTraces=function(){if(F.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ae.longStackTraces&&P()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;ae.longStackTraces=!0,J=function(){if(F.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),F.enableTrampoline(),ae.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),F.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ae.longStackTraces&&P()};var Q=function(){try{if("function"===typeof CustomEvent){var e=new CustomEvent("CustomEvent");return U.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!U.global.dispatchEvent(n)}}if("function"===typeof Event){var e=new Event("CustomEvent");return U.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!U.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),U.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!U.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return U.isNode?function(){return t.emit.apply(t,arguments)}:U.global?function(e){var t="on"+e.toLowerCase(),n=U.global[t];return!!n&&(n.apply(U.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},te=function(e){var t=!1;try{t=Z.apply(null,arguments)}catch(e){F.throwLater(e),t=!0}var n=!1;try{n=Q(e,ee[e].apply(null,arguments))}catch(e){F.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in e){var t=e.warnings;ae.warnings=!!t,X=ae.warnings,U.isObject(t)&&"wForgottenReturn"in t&&(X=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ae.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=c,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=l,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,ne=f,ae.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!ae.monitoring?(ae.monitoring=!0,n.prototype._fireEvent=te):!e.monitoring&&ae.monitoring&&(ae.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var ne=d,re=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;U.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;s<e-1?(u._parent=t[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=r-2;c>=0;--c)t[c]._length=l,l++;return}}}},R.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=C(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(k(i.stack.split("\n"))),i=i._parent;w(r),_(r),U.notEnumerableProp(e,"stack",b(n,r)),U.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"===typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():T(t)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=6,W=e,V=t;var n=Error.captureStackTrace;return re=function(e){return H.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"===typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return W=/@/,V=t,K=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!==typeof Error.stackTraceLimit?(V=function(e,t){return"string"===typeof e?e:"object"!==typeof t&&"function"!==typeof t||void 0===t.name||void 0===t.message?T(t):t.toString()},null):(W=e,V=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!==typeof console&&"undefined"!==typeof console.warn&&(I=function(e){console.warn(e)},U.isNode&&t.stderr.isTTY?I=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:U.isNode||"string"!==typeof(new Error).stack||(I=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ae={warnings:$,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&n.longStackTraces(),{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return p},checkForgottenReturns:y,setBounds:j,warn:g,deprecated:m,CapturedTrace:R,fireDomEvent:Q,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){if(!(this instanceof n))return new n(r);f(this,"message","string"===typeof r?r:t),f(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(n,Error),n}function i(e){if(!(this instanceof i))return new i(e);f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=e("./es5"),u=s.freeze,l=e("./util"),c=l.inherits,f=l.notEnumerableProp,d=r("Warning","warning"),p=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"===typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var e=Array(4*g+1).join(" "),t="\n"+e+"AggregateError of:\n";g++,e=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return g--,t},c(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:p,TimeoutError:h,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},d=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:d,keys:s,names:s,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return l.call(this,this.promise._target()._settledValue())}function u(e){if(!a(this,e))return d.e=e,d}function l(e){var i=this.promise,l=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?l.call(i._boundValue()):l.call(i._boundValue(),e);if(c===r)return c;if(void 0!==c){i._setReturnedNonUndefined();var p=n(c,i);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new f("late cancellation observer");return i._attachExtraTrace(h),d.e=h,d}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(s,u,void 0,this,void 0)}}}return i.isRejected()?(a(this),d.e=e,d):(a(this),e)}var c=e("./util"),f=t.CancellationError,d=c.errorObj,p=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!==typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,l);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!c.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+c.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(p(i,s,this),1,void 0,l)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(e);if(r._popContext(),a===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var u=i(a,r);if(u instanceof t)return u}return null}function u(e,n,i,o){if(a.cancellation()){var s=new t(r),u=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(r))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"===typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var l=e("./errors"),c=l.TypeError,f=e("./util"),d=f.errorObj,p=f.tryCatch,h=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!==typeof this._generator.return;if(n)this._promise._pushContext(),e=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!==typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=u,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!==typeof e)throw new c("expecting a function but got "+f.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!==typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"===typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=l();this._callback=null===i?t:c.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(e,n,i,o){if("function"!==typeof n)return r("expecting a function but got "+c.classString(n));var a=0;if(void 0!==i){if("object"!==typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+c.classString(i)));if("number"!==typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(i.concurrency)));a=i.concurrency}return a="number"===typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var l=t._getDomain,c=e("./util"),f=c.tryCatch,d=c.errorObj,p=t._async;c.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=-1*n-1,r[n]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var l=this._promise,c=this._callback,p=l._boundValue();l._pushContext();var h=f(c).call(p,e,n,o),v=l._popContext();if(a.checkForgottenReturns(h,v,null!==s?"Promise.filter":"Promise.map",l),h===d)return this._reject(h.e),!0;var y=i(h,this._promise);if(y instanceof t){y=y._target();var m=y._bitField;if(0===(50397184&m))return u>=1&&this._inFlight++,r[n]=y,y._proxy(this,-1*(n+1)),!1;if(0===(33554432&m))return 0!==(16777216&m)?(this._reject(y._reason()),!0):(this._cancel(),!0);h=y._value()}r[n]=h}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return u(this,e,t,null)},t.map=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!==typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!==typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];u=a.isArray(l)?s(e).apply(c,l):s(e).call(c,l)}else u=s(e)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,u=e("./errors"),l=u.OperationalError,c=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=s(t).apply(n._boundValue(),[null].concat(e));i===u&&a.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?s(t).call(r,null):s(t).call(r,null,e);i===u&&a.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(n._boundValue(),e);i===u&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,r){"use strict";n.exports=function(){function r(){}function i(e,t){if(null==e||e.constructor!==o)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!==typeof t)throw new b("expecting a function but got "+h.classString(t))}function o(e){e!==w&&i(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function u(e){var t=new o(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,c=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},d=function(e){return o.reject(new b(e))},p={},h=e("./util");l=h.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(o,"_getDomain",l);var v=e("./es5"),y=e("./async"),m=new y;v.defineProperty(o,"_async",{value:m});var g=e("./errors"),b=o.TypeError=g.TypeError;o.RangeError=g.RangeError;var _=o.CancellationError=g.CancellationError;o.TimeoutError=g.TimeoutError,o.OperationalError=g.OperationalError,o.RejectionError=g.OperationalError,o.AggregateError=g.AggregateError;var w=function(){},k={},x={},C=e("./thenables")(o,w),E=e("./promise_array")(o,w,C,d,r),S=e("./context")(o),T=S.create,O=e("./debuggability")(o,S),P=(O.CapturedTrace,e("./finally")(o,C,x)),M=e("./catch_filter")(x),j=e("./nodeback"),R=h.errorObj,A=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return d("Catch statement predicate: expecting an object but got "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,M(r,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(e,t){if(O.warnings()&&arguments.length>0&&"function"!==typeof e&&"function"!==typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(e){return"function"!==typeof e?d("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,k,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},o.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(e)(j(t,n));return r===R&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new E(e).promise()},o.cast=function(e){var t=C(e);return t instanceof o||(t=new o(w),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!==typeof e)throw new b("expecting a function but got "+h.classString(e));return m.setScheduler(e)},o.prototype._then=function(e,t,n,r,i){var a=void 0!==i,s=a?i:new o(w),u=this._target(),c=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=l();if(0!==(50397184&c)){var d,p,v=u._settlePromiseCtx;0!==(33554432&c)?(p=u._rejectionHandler0,d=e):0!==(16777216&c)?(p=u._fulfillmentHandler0,d=t,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,p=new _("late cancellation observer"),u._attachExtraTrace(p),d=t),m.invoke(v,u,{handler:null===f?d:"function"===typeof d&&h.domainBind(f,d),promise:s,receiver:r,value:p})}else u._addCallbacks(e,t,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==p)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(t,n,r,i,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"===typeof e&&(this._fulfillmentHandler0=null===i?e:h.domainBind(i,e)),"function"===typeof t&&(this._rejectionHandler0=null===i?t:h.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"===typeof e&&(this[a+0]=null===i?e:h.domainBind(i,e)),"function"===typeof t&&(this[a+1]=null===i?t:h.domainBind(i,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=C(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new _("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&O.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==w){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===k?n&&"number"===typeof n.length?o=A(e).apply(this._boundValue(),n):(o=R,o.e=new b("cannot .spread() a non-array: "+h.classString(n))):o=A(e).call(t,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===R?r._rejectCallback(o.e,!1):(O.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,i){var a=e instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof P&&n.isFinallyHandler()?(n.cancelPromise=e,A(t).call(n,i)===R&&e._reject(R.e)):t===f?e._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(e):a||e instanceof E?e._cancel():n.cancel()):"function"===typeof t?a?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):a&&(u&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(i):e._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"===typeof t?n instanceof o?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():m.settlePromises(this))}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return m.fatalError(e,h.isNode);(65535&t)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){return O.deprecated("Promise.defer","new Promise"),{promise:new o(w),resolve:a,reject:s}},h.notEnumerableProp(o,"_makeSelfResolutionError",c),e("./method")(o,w,C,d,O),e("./bind")(o,w,C,O),e("./cancel")(o,E,d,O),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,E,C,w,m,l),o.Promise=o,o.version="3.5.1",e("./map.js")(o,E,d,C,w,O),e("./call_get.js")(o),e("./using.js")(o,d,C,T,w,O),e("./timers.js")(o,w,O),e("./generators.js")(o,d,w,C,r,O),e("./nodeify.js")(o),e("./promisify.js")(o,w),e("./props.js")(o,E,C,d),e("./race.js")(o,w,C,d),e("./reduce.js")(o,E,d,C,w,O),e("./settle.js")(o,E,O),e("./some.js")(o,E,d),e("./filter.js")(o,w),e("./each.js")(o,w),e("./any.js")(o),h.toFastProperties(o),h.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),O.setBounds(y.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var l=s._bitField;if(this._values=s,0===(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0===(33554432&l))return 0!==(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=u.asArray(s))){var c=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(c,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(a(o)));this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(e[s],i);u instanceof t?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!w.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var r=p.getDataPropertyOrDefault(e,t+n,b);return!!r&&i(r)}function a(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=p.inheritedDataKeys(e),u=[],l=0;l<s.length;++l){var c=s[l],f=e[c],d=r===k||k(c,f,e);"function"!==typeof f||i(f)||o(e,c,t)||!r(c,f,e,d)||u.push(c,f)}return a(u,t,n),u}function u(e,r,i,o,a,s){function u(){var i=r;r===d&&(i=this);var o=new t(n);o._captureStackTrace();var a="string"===typeof c&&this!==l?this[c]:e,u=h(o,s);try{a.apply(i,v(arguments,u))}catch(e){o._rejectCallback(y(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),c=e;return"string"===typeof c&&(e=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function l(e,t,n,r,i){for(var o=new RegExp(x(t)+"$"),a=s(e,t,o,n),u=0,l=a.length;u<l;u+=2){var c=a[u],f=a[u+1],h=c+t;if(r===C)e[h]=C(c,d,c,f,t,i);else{var v=r(f,function(){return C(c,d,c,f,t,i)});p.notEnumerableProp(v,"__isPromisified__",!0),e[h]=v}}return p.toFastProperties(e),e}function c(e,t,n){return C(e,t,void 0,e,null,n)}var f,d={},p=e("./util"),h=e("./nodeback"),v=p.withAppended,y=p.maybeWrapAsError,m=p.canEvaluate,g=e("./errors").TypeError,b={__isPromisified__:!0},_=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+_.join("|")+")$"),k=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},x=function(e){return e.replace(/([$])/,"\\$")},C=m?f:u;t.promisify=function(e,t){if("function"!==typeof e)throw new g("expecting a function but got "+p.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?d:t.context,o=!!t.multiArgs,a=c(e,n,o);return p.copyDescriptors(e,a,r),a},t.promisifyAll=function(e,t){if("function"!==typeof e&&"object"!==typeof e)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!==typeof r&&(r="Async");var i=t.filter;"function"!==typeof i&&(i=k);var o=t.promisifier;if("function"!==typeof o&&(o=C),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(e),s=0;s<a.length;++s){var u=e[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(l(u.prototype,r,i,o,n),l(u,r,i,o,n))}return l(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=f(e),n=!0;else{var r=c.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return l(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=e("./util"),l=u.isObject,c=e("./es5");"function"===typeof Map&&(s=Map);var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),d=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=d(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var u=r(e);if(u instanceof t)return s(u);if(null===(e=a.asArray(e)))return i("expecting an array or an iterable object but got "+a.classString(e));var l=new t(n);void 0!==o&&l._propagateFrom(o,3);for(var c=l._fulfill,f=l._reject,d=0,p=e.length;d<p;++d){var h=e[d];(void 0!==h||d in e)&&t.cast(h)._then(c,f,void 0,l,null)}return l}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=d();this._fn=null===a?n:p.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function l(e,t,n,i){return"function"!==typeof t?r("expecting a function but got "+p.classString(t)):new s(e,t,n,i).promise()}function c(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var o;(o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var d=t._getDomain,p=e("./util"),h=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,n,r){return l(e,t,n,r)}}},{"./util":36}],29:[function(e,i,o){"use strict";var a,s=e("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},l=s.getNativePromise();if(s.isNode&&"undefined"===typeof MutationObserver){var c=n.setImmediate,f=t.nextTick;a=s.isRecentNode?function(e){c.call(n,e)}:function(e){f.call(t,e)}}else if("function"===typeof l&&"function"===typeof l.resolve){var d=l.resolve();a=function(e){d.then(e)}}else a="undefined"===typeof MutationObserver||"undefined"!==typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!==typeof r?function(e){r(e)}:"undefined"!==typeof setTimeout?function(e){setTimeout(e,0)}:u:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}}();i.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(i,n),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,u=e("./errors").AggregateError,l=a.isArray,c={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new u,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(c(e)){if(e instanceof t)return e;var i=o(e);if(i===l){r&&r._pushContext();var u=t.reject(i.e);return r&&r._popContext(),u}if("function"===typeof i){if(a(e)){var u=new t(n);return e._then(u._fulfill,u._reject,void 0,u,null),u}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return l.e=e,l}}function a(e){try{return f.call(e,"_promise0")}catch(e){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),c=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,d=u.tryCatch(r).call(e,o,a);return f=!1,s&&d===l&&(s._rejectCallback(d.e,!0,!0),s=null),c}var u=e("./util"),l=u.errorObj,c=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),u=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(l,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return c(e,this)};var f=function(e,t,n){var r;r="string"!==typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,u=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e){setTimeout(function(){throw e},0)}function u(e){var t=r(e);return t!==e&&"function"===typeof e._isDisposable&&"function"===typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function l(e,n){function i(){if(a>=l)return c._fulfill();var o=u(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,l=e.length,c=new t(o);return i(),c}function c(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function d(e){return c.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function p(e){this.length=e,this.promise=null,this[e-1]=null}var h=e("./util"),v=e("./errors").TypeError,y=e("./util").inherits,m=h.errorObj,g=h.tryCatch,b={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},c.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},c.isDisposer=function(e){return null!=e&&"function"===typeof e.resource&&"function"===typeof e.tryDispose},y(f,c),f.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},p.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!==typeof i)return n("expecting a function but got "+h.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var u=new p(e),f=0;f<e;++f){var v=o[f];if(c.isDisposer(v)){var y=v;v=v.promise(),v._setDisposable(y)}else{var b=r(v);b instanceof t&&(v=b._then(d,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var _=new Array(u.length),f=0;f<_.length;++f)_[f]=t.resolve(u[f]).reflect();var w=t.all(_).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return m.e=n.error(),m;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}k._pushContext(),i=g(i);var r=s?i.apply(void 0,e):i(e),o=k._popContext();return a.checkForgottenReturns(r,o,"Promise.using",k),r}),k=w.lastly(function(){var e=new t.PromiseInspection(w);return l(u,e)});return u.promise=k,k._setOnCancel(u),k},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"===typeof e)return new f(e,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(e,r,i){"use strict";function o(){try{var e=j;return j=null,e.apply(this,arguments)}catch(e){return M.e=e,M}}function a(e){return j=e,o}function s(e){return null==e||!0===e||!1===e||"string"===typeof e||"number"===typeof e}function u(e){return"function"===typeof e||"object"===typeof e&&null!==e}function l(e){return s(e)?new Error(g(e)):e}function c(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function f(e,t,n){if(!O.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function d(e,t,n){if(s(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return O.defineProperty(e,t,r),e}function p(e){throw e}function h(e){try{if("function"===typeof e){var t=O.names(e.prototype),n=O.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=I.test(e+"")&&O.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function v(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function y(e){return D.test(e)}function m(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(e){return"[no string representation]"}}function b(e){return e instanceof Error||null!==e&&"object"===typeof e&&"string"===typeof e.message&&"string"===typeof e.name}function _(e){try{d(e,"isOperational",!0)}catch(e){}}function w(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function k(e){return b(e)&&O.propertyIsWritable(e,"stack")}function x(e){return{}.toString.call(e)}function C(e,t,n){for(var r=O.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{O.defineProperty(t,o,O.getDescriptor(e,o))}catch(e){}}}function E(e){return H?Object({NODE_ENV:"production",PUBLIC_URL:""})[e]:void 0}function S(){if("function"===typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function T(e,t){return e.bind(t)}var O=e("./es5"),P="undefined"==typeof navigator,M={e:{}},j,R="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n?n:void 0!==this?this:null,A=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},N=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(O.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(e,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}e=O.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),I=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(e){return k(e)?e:new Error(g(e))}:function(e){if(k(e))return e;try{throw new Error(g(e))}catch(e){return e}}}(),L=function(e){return O.isArray(e)?e:null};if("undefined"!==typeof Symbol&&Symbol.iterator){var U="function"===typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};L=function(e){return O.isArray(e)?e:null!=e&&"function"===typeof e[Symbol.iterator]?U(e):null}}var B="undefined"!==typeof t&&"[object process]"===x(t).toLowerCase(),H="undefined"!==typeof t&&!0,z={isClass:h,isIdentifier:y,inheritedDataKeys:N,getDataPropertyOrDefault:f,thrower:p,isArray:O.isArray,asArray:L,notEnumerableProp:d,isPrimitive:s,isObject:u,isError:b,canEvaluate:P,errorObj:M,tryCatch:a,inherits:A,withAppended:c,maybeWrapAsError:l,toFastProperties:v,filledRange:m,toString:g,canAttachTrace:k,ensureErrorObject:F,originatesFromRejection:w,markAsOriginatingFromRejection:_,classString:x,copyDescriptors:C,hasDevTools:"undefined"!==typeof chrome&&chrome&&"function"===typeof chrome.loadTimes,isNode:B,hasEnvVariables:H,env:E,global:R,getNativePromise:S,domainBind:T};z.isRecentNode=z.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),z.isNode&&z.toFastProperties(t);try{throw new Error}catch(e){z.lastLineError=e}r.exports=z},{"./es5":13}]},{},[4])(4)}),"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(65),n(18),n(462).setImmediate)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(463),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(t,n(18),n(65))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(50),o=r(i),a=n(20),s=r(a),u=n(31),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(15),w=r(_),k=n(465),x=r(k),C=n(466),E=r(C),S=function(e){function t(e,n,r,i){(0,p.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this));(0,l.default)(o,{_conf:{value:i},_connectors:{value:new s.default}});var a=o._detectPlatform();return o._connectors.set("twilsock",new E.default({productId:e,platform:a},r,i)),o._connectors.set("gcm",new x.default({productId:e,platform:a},n,i,"gcm")),o._connectors.set("fcm",new x.default({productId:e,platform:a},n,i,"fcm")),o._connectors.set("apn",new x.default({productId:e,platform:a},n,i,"apn")),o._connectors.get("twilsock").on("transportReady",function(e){return o.emit("transportReady",e)}),o}return(0,b.default)(t,e),(0,v.default)(t,[{key:"setNotificationId",value:function(e,t){this._connector(e).setNotificationId(t)}},{key:"hasSubscription",value:function(e,t){this._connector(t).has(e)}},{key:"subscribe",value:function(e,t){this._connector(t).subscribe(e)}},{key:"unsubscribe",value:function(e,t){this._connector(t).unsubscribe(e)}},{key:"updateToken",value:function(){this._connectors.forEach(function(e){return e.updateToken()})}},{key:"_connector",value:function(e){var t=this._connectors.get(e);if(!t)throw new Error("Unknown channel type: "+e);return t}},{key:"_detectPlatform",value:function(){var e="";return"undefined"!==typeof navigator?(e="unknown","undefined"!==typeof navigator.product&&(e=navigator.product),"undefined"!==typeof navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),t}(w.default);t.default=S,(0,o.default)(S),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=r(o),s=n(9),u=r(s),l=n(88),c=r(l),f=n(31),d=r(f),p=n(5),h=r(p),v=n(0),y=r(v),m=n(1),g=r(m),b=n(6),_=r(b),w=n(7),k=r(w),x=n(15),C=r(x),E=n(127),S=r(E),T=n(202),O=r(T),P=n(125),M=r(P),j=function(e){function t(e,n,r,i){(0,y.default)(this,t);var o=(0,_.default)(this,(t.__proto__||(0,h.default)(t)).call(this)),a=O.default.create({initial:{state:"unregistered",event:"init",defer:!0},events:[{name:"userUpdate",from:["unregistered"],to:"registering"},{name:"userUpdate",from:["registered"],to:"unregistering"},{name:"registered",from:["registering","retrying"],to:"registered"},{name:"unregistered",from:["unregistering"],to:"unregistered"},{name:"retry",from:["retrying"],to:"retrying"},{name:"failure",from:["registering"],to:"retrying"},{name:"failure",from:["retrying"],to:"retrying"},{name:"failure",from:["unregistering"],to:"unregistered"}],callbacks:{onregistering:function(e,t,n,r){return o._register(r)},onunregistering:function(){return o._unregister()},onregistered:function(){return o._onRegistered()},onunregistered:function(){return o._onUnregistered()},onretrying:function(e,t,n,r){return o._initRetry(r)},onfailure:function(e,t,n,r){"retrying"===t&&o._initRetry(r)}}}),s=M.default.exponential({randomisationFactor:.2,initialDelay:2e3,maxDelay:12e4});return s.on("ready",function(){o._retry()}),(0,d.default)(o,{_transport:{value:n},_context:{value:e},_url:{value:r.registrarUri,writable:!1},_config:{value:r},_fsm:{value:a},_backoff:{value:s},_channelType:{value:i},_registrationId:{value:!1,writable:!0},_notificationId:{value:!1,writable:!0},_messageTypes:{value:new c.default,writable:!0},_pendingUpdate:{value:null,writable:!0}}),a.init(),o}return(0,k.default)(t,e),(0,g.default)(t,[{key:"setNotificationId",value:function(e){this._notificationId!==e&&(this._notificationId=e,this._updateRegistration())}},{key:"updateToken",value:function(){return this._updateRegistration()}},{key:"has",value:function(e){return this._messageTypes.has(e)}},{key:"subscribe",value:function(e){return this._messageTypes.has(e)?(S.default.debug("Message type already registered ",e),!1):(this._messageTypes.add(e),this._updateRegistration(),!0)}},{key:"unsubscribe",value:function(e){return!!this._messageTypes.has(e)&&(this._messageTypes.delete(e),this._messageTypes.size>0?this._updateRegistration():this._removeRegistration(),!0)}},{key:"_updateRegistration",value:function(){this._notificationId&&this._update(this._notificationId,i(this._messageTypes))}},{key:"_removeRegistration",value:function(){this._notificationId&&this._update(this._notificationId,i(this._messageTypes))}},{key:"_update",value:function(e,t){var n={notificationId:e,messageTypes:t};this._fsm.is("unregistered")?n.notificationId&&n.messageTypes.length>0&&this._fsm.userUpdate(n):this._fsm.is("registered")?(this._fsm.userUpdate(n),this._setPendingUpdate(n)):this._setPendingUpdate(n)}},{key:"_setPendingUpdate",value:function(e){this._pendingUpdate=e}},{key:"_checkPendingUpdate",value:function(){if(this._pendingUpdate){var e=this._pendingUpdate;this._pendingUpdate=null,this._updateRegistration(e.notificationId,e.messageTypes)}}},{key:"_initRetry",value:function(e){this._pendingUpdate||this._setPendingUpdate(e),this._backoff.backoff()}},{key:"_retry",value:function(){if(this._pendingUpdate){var e=this._pendingUpdate;this._pendingUpdate=null,this._register(e)}}},{key:"_onRegistered",value:function(){this._backoff.reset(),this.emit("stateChanged","registered"),this._checkPendingUpdate()}},{key:"_onUnregistered",value:function(){this._backoff.reset(),this.emit("stateChanged","unregistered"),this._checkPendingUpdate()}},{key:"_register",value:function(e){var t=this,n={endpoint_platform:this._context.platform,channel_type:this._channelType,version:"2",message_types:e.messageTypes,data:{},ttl:"PT24H"};"twilsock"===this._channelType?n.data.url=e.notificationId:n.data.registration_id=e.notificationId;var r=this._url+"?productId="+this._context.productId,i={"Content-Type":"application/json","X-Twilio-Token":this._config.token};return S.default.trace("Creating registration for channel ",this._channelType),this._transport.post(r,i,n).then(function(n){t._registrationId=n.body.id,t._registrationData=e,S.default.debug("Registration created: ",n),t._fsm.registered()}).catch(function(n){return S.default.error("Registration failed: ",n),t._fsm.failure(e),n})}},{key:"_unregister",value:function(){var e=this;if(!this._registrationId)return u.default.resolve();var t=this._url+"/"+this._registrationId+"?productId="+this._context.productId,n={"Content-Type":"application/json","X-Twilio-Token":this._config.token};return S.default.trace("Removing registration for ",this._channelType),this._transport.delete(t,n).then(function(){S.default.debug("Registration removed for ",e._channelType),e._registrationId=!1,e._fsm.unregistered()}).catch(function(t){return S.default.error("Failed to remove of registration ",e.channelType,t),e._fsm.failure(),t})}}]),t}(C.default);t.default=j,(0,a.default)(j),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=r(o),s=n(88),u=r(s),l=n(31),c=r(l),f=n(5),d=r(f),p=n(0),h=r(p),v=n(1),y=r(v),m=n(6),g=r(m),b=n(7),_=r(b),w=n(64),k=r(w),x=n(127),C=r(x),E=n(15),S=r(E),T=function(e){function t(e,n,r){(0,h.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return e.id=k.default.v4(),(0,c.default)(i,{_twilsock:{value:n},_messageTypes:{value:new u.default},config:{value:r},context:{value:e}}),n.on("stateChanged",function(e){"connected"!==e&&i.emit("transportReady",!1)}),n.on("registered",function(t){e&&t===e.id&&"connected"===n.state&&i.emit("transportReady",!0)}),i}return(0,_.default)(t,e),(0,y.default)(t,[{key:"setNotificationId",value:function(){return!1}},{key:"updateToken",value:function(){this._twilsock.removeNotificationsContext(this.context.id),this.context.id=k.default.v4(),this._updateContext()}},{key:"has",value:function(e){return this._messageTypes.has(e)}},{key:"subscribe",value:function(e){return this._messageTypes.has(e)?(C.default.trace("Message type already registered ",e),!1):(this._messageTypes.add(e),this._updateContext(),!0)}},{key:"unsubscribe",value:function(e){return!!this._messageTypes.has(e)&&(this._messageTypes.delete(e),this._messageTypes.size>0?this._updateContext():this._twilsock.removeNotificationsContext(this.context.id),!0)}},{key:"_updateContext",value:function(){if(this.config.token){var e=i(this._messageTypes),t={product_id:this.context.productId,notification_protocol_version:4,endpoint_platform:this.context.platform,ttl:172800,token:this.config.token,message_types:e};this.emit("transportReady",!1),this._twilsock.setNotificationsContext(this.context.id,t)}}}]),t}(S.default);t.default=T,(0,a.default)(T),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e?e.split("\r\n").map(function(e){return e.split(": ")}).filter(function(e){return 2===e.length&&e[1].length>0}).reduce(function(e,t){return e[t[0]]=t[1],e},{}):{}}function o(e){var t=e.getResponseHeader("Content-Type");if(!t||0!==t.indexOf("application/json")||0===e.responseText.length)return e.responseText;try{return JSON.parse(e.responseText)}catch(t){return e.responseText}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="undefined"===typeof XMLHttpRequest?n(468).XMLHttpRequest:XMLHttpRequest,u=function(){function e(){r(this,e)}return a(e,null,[{key:"request",value:function(e,t){return new Promise(function(n,r){var a=new s;a.open(e,t.url,!0),a.onreadystatechange=function(){if(4===a.readyState){var e=i(a.getAllResponseHeaders()),t=o(a);200<=a.status&&a.status<300?n({status:a.status,headers:e,body:t}):r({status:a.status,description:a.statusText,headers:e,body:t})}};for(var u in t.headers)a.setRequestHeader(u,t.headers[u]),"Content-Type"===u&&"application/json"===t.headers[u]&&(t.body=JSON.stringify(t.body));a.send(t.body)})}},{key:"get",value:function(e){return this.request("GET",e)}},{key:"post",value:function(e){return this.request("POST",e)}},{key:"put",value:function(e){return this.request("PUT",e)}},{key:"delete",value:function(e){return this.request("DELETE",e)}}]),e}();t.default=u,e.exports=u,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){(0,i.default)(this,e);var n=t.emsClient||{},r=t.realm||"us1",o="https://ems."+r+".twilio.com",a=n.url||n.emsUri||n.emsUrl||o+"/v1/token";this.url=a};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(205),l=function(){function e(){(0,o.default)(this,e),this.cachedContinuationToken=null,this.myInstanceNumber=this.initializeInstanceId()}return(0,s.default)(e,[{key:"initializeInstanceId",value:function(){var t=function(){try{if(sessionStorage)return parseInt(sessionStorage.getItem("Twilio::RTD::EmsClient::InstanceId"))||0}catch(e){return 0}}();t>e.instancesCounter&&(e.instancesCounter=t);var n=e.instancesCounter++;try{sessionStorage&&(sessionStorage.setItem("Twilio::RTD::EmsClient::InstanceId",e.instancesCounter.toString()),window&&window.addEventListener("beforeunload",function(){sessionStorage.removeItem("Twilio::RTD::EmsClient::InstanceId")}))}catch(e){}return n}},{key:"shouldUsePersistentToken",get:function(){return 0===this.myInstanceNumber}},{key:"continuationToken",get:function(){if(this.cachedContinuationToken)return this.cachedContinuationToken;try{if(this.shouldUsePersistentToken&&sessionStorage)return this.cachedContinuationToken=sessionStorage.getItem("Twilio::RTD::EndpointId"),this.cachedContinuationToken}catch(e){u.default.info("Can't access persistent storage",e.message)}return null},set:function(e){this.cachedContinuationToken=e;try{this.shouldUsePersistentToken&&sessionStorage&&sessionStorage.setItem("Twilio::RTD::EndpointId",e)}catch(e){u.default.info("Can't access persistent storage",e.message)}}}]),e}();l.instancesCounter=0,t.PersistentState=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(472);t.SyncClient=r.SyncClient;var i=n(208);t.SyncDocument=i.SyncDocument;var o=n(209);t.SyncList=o.SyncList;var a=n(210);t.SyncListItem=a.ListItem;var s=n(213);t.SyncMap=s.SyncMap;var u=n(214);t.SyncMapItem=u.MapItem,t.default=r.SyncClient,e.exports=r.SyncClient,e.exports.SyncClient=r.SyncClient},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e._subscribe(),e}function o(e,t,n,r){return{unique_name:e,purpose:t,context:n,data:r}}function a(e){return e?"string"===typeof e?{id:e,purpose:null,data:null,context:null,mode:null,optimistic:!1}:{id:e.uniqueName||e.sid||e.id,purpose:e.purpose,data:e.data,context:e.context,mode:e.mode,optimistic:!!e.optimistic}:{id:null,purpose:null,data:null,context:null,mode:null,optimistic:!1}}var s=n(13),u=r(s),l=n(5),c=r(l),f=n(0),d=r(f),p=n(1),h=r(p),v=n(6),y=r(v),m=n(7),g=r(m),b=n(9),_=r(b),w=function(e,t,n,r){return new(n||(n=_.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var k=n(15),x=n(473),C=n(123),E=n(42),S=n(128),T=n(203),O=n(66),P=n(51),M=n(481),j=n(482),R=n(483),A=n(484),N=n(208),I=n(209),D=n(213),F=n(487),L=n(488),U=n(489),B=n(66),H=n(490),z=n(89),q="data_sync",W=n(491).version,V=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,d.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this));if(!e)throw new Error("Sync library needs a valid Twilio token to be passed");n.hasOwnProperty("logLevel")&&P.default.setLevel(n.logLevel),r.productId=n.productId=n.productId||q;var i=n.twilsockClient=n.twilsockClient||new C(e,n),o=n.transport=n.transport||new E.Transport(n.twilsockClient,{concurrentHttpRequestLimit:20}),a=n.emsClient=n.emsClient||new S.EmsClient(n),s=n.notificationsClient=n.notificationsClient||new T(e,n),u=new M.Configuration(null,n),l=new A.Network(r.productId,new F.ClientInfo(W),u,o),f=new U.SessionStorage(u);r.localStorageId=null,r.fpaToken=e,r.authData=new H.Deferred,r.authData.promise.then(function(e){return r.handleEmsResponse(e)}),a.once("response",function(e){return r.authData.update(e)}),a.setToken(e).catch(function(e){P.default.warn("Failed to set token",e)}),i.connect(),r.services={config:u,twilsock:i,notifications:s,network:l,emsClient:a,storage:f,router:null,subscriptions:null};var p=new j.Subscriptions(r.services),h=new R.Router({config:u,subscriptions:p,notifications:s});return r.services.router=h,r.services.subscriptions=p,r.entities=new L.EntitiesCache,s.on("connectionStateChanged",function(){r.emit("connectionStateChanged",r.services.notifications.connectionState)}),r}return(0,g.default)(t,e),(0,h.default)(t,[{key:"handleEmsResponse",value:function(e){this.services.config.updateToken(e.token);try{var t=e.identity,n=e.serviceSids[this.productId],r=x.h64().update("TW::"+t+"::"+n).digest().toString(16);this.services.storage.updateStorageId(r)}catch(e){P.default.error("Failed to initialize persistent storage",e)}}},{key:"ensureReady",value:function(){return w(this,void 0,void 0,u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authData.promise;case 2:case"end":return e.stop()}},e,this)}))}},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=B.deepClone(n);e!==I.SyncList.type&&e!==D.SyncMap.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w(this,void 0,void 0,u.default.mark(function r(){var i,o;return u.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",null);case 2:return i=new O.UriBuilder(e).pathSegment(t).queryParam("Include",n?"items":void 0).build(),r.prev=3,r.next=6,this.services.network.get(i);case 6:return o=r.sent,r.abrupt("return",o.body);case 10:if(r.prev=10,r.t0=r.catch(3),404!==r.t0.status){r.next=14;break}return r.abrupt("return",null);case 14:throw r.t0;case 15:case"end":return r.stop()}},r,this,[[3,10]])}))}},{key:"_createDocument",value:function(e,t){var n={unique_name:e,data:t};return this.services.network.post(this.services.config.documentsUri,n).then(function(e){return e.body})}},{key:"_getDocument",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.readRootFromSessionCache(N.SyncDocument.type,e)||this._get(this.services.config.documentsUri,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"_createList",value:function(e,t,n){var r=o(e,t,n);return this.services.network.post(this.services.config.listsUri,r).then(function(e){return e.body})}},{key:"_getList",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.readRootFromSessionCache(I.SyncList.type,e)||this._get(this.services.config.listsUri,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"_createMap",value:function(e){var t={unique_name:e};return this.services.network.post(this.services.config.mapsUri,t).then(function(e){return e.body})}},{key:"_getMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return w(this,void 0,void 0,u.default.mark(function n(){return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.readRootFromSessionCache(D.SyncMap.type,e)||this._get(this.services.config.mapsUri,e,t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"getCached",value:function(e,t){return e?this.entities.get(e,t)||null:null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){var n,r,o,s,l,c,f,d=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureReady();case 2:if(n=a(e),r=n.id,o=n.data,s=n.mode,!(l=this.getCached(r,"document"))){t.next=8;break}return t.abrupt("return",l);case 8:return t.next=10,this._getDocument(r);case 10:if(c=t.sent){t.next=29;break}if("open"!==s){t.next=16;break}throw new z.default("Not found",404);case 16:return t.prev=16,t.next=19,this._createDocument(r,o);case 19:c=t.sent,t.next=29;break;case 22:if(t.prev=22,t.t0=t.catch(16),409!==t.t0.status){t.next=28;break}return t.abrupt("return",this.document(e));case 28:throw t.t0;case 29:return this.storeRootInSessionCache(N.SyncDocument.type,r,c),f=new N.SyncDocument(this.services,c,function(e,t,n){return d.removeFromCacheAndSession(e,t,n)}),f=this.entities.store(f),t.abrupt("return",i(f));case 33:case"end":return t.stop()}},t,this,[[16,22]])}))}},{key:"map",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){var n,r,o,s,l,c,f,d=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureReady();case 2:if(n=a(e),r=n.id,o=n.mode,s=n.optimistic,!(l=this.getCached(r,"map"))){t.next=8;break}return t.abrupt("return",l);case 8:return t.next=10,this._getMap(r,s);case 10:if(c=t.sent){t.next=29;break}if("open"!==o){t.next=16;break}throw new z.default("Not found",404);case 16:return t.prev=16,t.next=19,this._createMap(r);case 19:c=t.sent,t.next=29;break;case 22:if(t.prev=22,t.t0=t.catch(16),409!==t.t0.status){t.next=28;break}return t.abrupt("return",this.map(e));case 28:throw t.t0;case 29:return this.storeRootInSessionCache(D.SyncMap.type,r,c),f=new D.SyncMap(this.services,c,function(e,t,n){return d.removeFromCacheAndSession(e,t,n)}),f=this.entities.store(f),t.abrupt("return",i(f));case 33:case"end":return t.stop()}},t,this,[[16,22]])}))}},{key:"list",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){var n,r,o,s,l,c,f,d,p=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureReady();case 2:if(n=a(e),r=n.id,o=n.purpose,s=n.context,l=n.mode,!(c=this.getCached(r,"list"))){t.next=8;break}return t.abrupt("return",c);case 8:return t.next=10,this._getList(r);case 10:if(f=t.sent){t.next=29;break}if("open"!==l){t.next=16;break}throw new z.default("Not found",404);case 16:return t.prev=16,t.next=19,this._createList(r,o,s);case 19:f=t.sent,t.next=29;break;case 22:if(t.prev=22,t.t0=t.catch(16),409!==t.t0.status){t.next=28;break}return t.abrupt("return",this.list(e));case 28:throw t.t0;case 29:return this.storeRootInSessionCache(I.SyncList.type,r,f),d=new I.SyncList(this.services,f,function(e,t,n){return p.removeFromCacheAndSession(e,t,n)}),d=this.entities.store(d),t.abrupt("return",i(d));case 33:case"end":return t.stop()}},t,this,[[16,22]])}))}},{key:"shutdown",value:function(){return w(this,void 0,void 0,u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.subscriptions.shutdown();case 2:return e.next=4,this.services.twilsock.disconnect();case 4:case"end":return e.stop()}},e,this)}))}},{key:"updateToken",value:function(e){return w(this,void 0,void 0,u.default.mark(function t(){var n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.emsClient.setToken(e);case 2:return n=t.sent,this.services.config.updateToken(n.token),t.next=6,_.default.all([this.services.notifications.updateToken(e),this.services.twilsock.updateToken(e)]);case 6:this.fpaToken=e;case 7:case"end":return t.stop()}},t,this)}))}},{key:"connectionState",get:function(){return this.services.notifications.connectionState}}],[{key:"version",get:function(){return W}}]),t}(k.EventEmitter);t.SyncClient=V,t.Client=V,t.default=V},function(e,t,n){e.exports={h32:n(474),h64:n(480)}},function(e,t,n){(function(t){function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}function i(){return 2==arguments.length?new i(arguments[1]).update(arguments[0]).digest():this instanceof i?void o.call(this,arguments[0]):new i(arguments[0])}function o(e){return this.seed=e instanceof a?e.clone():a(e),this.v1=this.seed.clone().add(s).add(u),this.v2=this.seed.clone().add(u),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(s),this.total_len=0,this.memsize=0,this.memory=null,this}var a=n(207).UINT32;a.prototype.xxh_update=function(e,t){var n,r,i=u._low,o=u._high;r=e*i,n=r>>>16,n+=t*i,n&=65535,n+=e*o;var a=this._low+(65535&r),l=a>>>16;l+=this._high+(65535&n);var c=l<<16|65535&a;c=c<<13|c>>>19,a=65535&c,l=c>>>16,i=s._low,o=s._high,r=a*i,n=r>>>16,n+=l*i,n&=65535,n+=a*o,this._low=65535&r,this._high=65535&n};var s=a("2654435761"),u=a("2246822519"),l=a("3266489917"),c=a("668265263"),f=a("374761393");i.prototype.init=o,i.prototype.update=function(e){var n,i="string"==typeof e;i&&(e=r(e),i=!1,n=!0),"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer&&(n=!0,e=new Uint8Array(e));var o=0,a=e.length,s=o+a;if(0==a)return this;if(this.total_len+=a,0==this.memsize&&(this.memory=i?"":n?new Uint8Array(16):new t(16)),this.memsize+a<16)return i?this.memory+=e:n?this.memory.set(e.subarray(0,a),this.memsize):e.copy(this.memory,this.memsize,0,a),this.memsize+=a,this;if(this.memsize>0){i?this.memory+=e.slice(0,16-this.memsize):n?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize);var u=0;i?(this.v1.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v2.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v3.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v4.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2))):(this.v1.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v2.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v3.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v4.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2])),o+=16-this.memsize,this.memsize=0,i&&(this.memory="")}if(o<=s-16){var l=s-16;do{i?(this.v1.xxh_update(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2)),o+=4,this.v2.xxh_update(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2)),o+=4,this.v3.xxh_update(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2)),o+=4,this.v4.xxh_update(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2))):(this.v1.xxh_update(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2]),o+=4,this.v2.xxh_update(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2]),o+=4,this.v3.xxh_update(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2]),o+=4,this.v4.xxh_update(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2])),o+=4}while(o<=l)}return o<s&&(i?this.memory+=e.slice(o):n?this.memory.set(e.subarray(o,s),this.memsize):e.copy(this.memory,this.memsize,o,s),this.memsize=s-o),this},i.prototype.digest=function(){var e,t,n=this.memory,r="string"==typeof n,i=0,o=this.memsize,d=new a;for(e=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(f),e.add(d.fromNumber(this.total_len));i<=o-4;)r?d.fromBits(n.charCodeAt(i+1)<<8|n.charCodeAt(i),n.charCodeAt(i+3)<<8|n.charCodeAt(i+2)):d.fromBits(n[i+1]<<8|n[i],n[i+3]<<8|n[i+2]),e.add(d.multiply(l)).rotl(17).multiply(c),i+=4;for(;i<o;)d.fromBits(r?n.charCodeAt(i++):n[i++],0),e.add(d.multiply(f)).rotl(11).multiply(s);return t=e.clone().shiftRight(15),e.xor(t).multiply(u),t=e.clone().shiftRight(13),e.xor(t).multiply(l),t=e.clone().shiftRight(16),e.xor(t),this.init(this.seed),e},e.exports=i}).call(t,n(206).Buffer)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=u;for(var l=[],c=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)l[p]=d[p],c[d.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r,i;!function(n){function o(e,t){return this instanceof o?(this._low=0,this._high=0,this.remainder=null,"undefined"==typeof t?s.call(this,e):"string"==typeof e?u.call(this,e,t):void a.call(this,e,t)):new o(e,t)}function a(e,t){return this._low=0|e,this._high=0|t,this}function s(e){return this._low=65535&e,this._high=e>>>16,this}function u(e,t){var n=parseInt(e,t||10);return this._low=65535&n,this._high=n>>>16,this}o(Math.pow(36,5)),o(Math.pow(16,7)),o(Math.pow(10,9)),o(Math.pow(2,30)),o(36),o(16),o(10),o(2);o.prototype.fromBits=a,o.prototype.fromNumber=s,o.prototype.fromString=u,o.prototype.toNumber=function(){return 65536*this._high+this._low},o.prototype.toString=function(e){return this.toNumber().toString(e||10)},o.prototype.add=function(e){var t=this._low+e._low,n=t>>>16;return n+=this._high+e._high,this._low=65535&t,this._high=65535&n,this},o.prototype.subtract=function(e){return this.add(e.clone().negate())},o.prototype.multiply=function(e){var t,n,r=this._high,i=this._low,o=e._high,a=e._low;return n=i*a,t=n>>>16,t+=r*a,t&=65535,t+=i*o,this._low=65535&n,this._high=65535&t,this},o.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)return this.remainder=new o(0),this;if(e.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(e))return this.remainder=new o(0),this._low=1,this._high=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},o.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},o.prototype.greaterThan=o.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},o.prototype.lessThan=o.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},o.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},o.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},o.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},o.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},o.prototype.shiftRight=o.prototype.shiftr=function(e){return e>16?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},o.prototype.shiftLeft=o.prototype.shiftl=function(e,t){return e>16?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},o.prototype.rotateLeft=o.prototype.rotl=function(e){var t=this._high<<16|this._low;return t=t<<e|t>>>32-e,this._low=65535&t,this._high=t>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(e){var t=this._high<<16|this._low;return t=t>>>e|t<<32-e,this._low=65535&t,this._high=t>>>16,this},o.prototype.clone=function(){return new o(this._low,this._high)},r=[],void 0!==(i=function(){return o}.apply(t,r))&&(e.exports=i)}()},function(e,t,n){var r,i;!function(n){function o(e,t,n,r){return this instanceof o?(this.remainder=null,"string"==typeof e?u.call(this,e,t):"undefined"==typeof t?s.call(this,e):void a.apply(this,arguments)):new o(e,t,n,r)}function a(e,t,n,r){return"undefined"==typeof n?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16,this):(this._a00=0|e,this._a16=0|t,this._a32=0|n,this._a48=0|r,this)}function s(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function u(e,t){t=t||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=l[t]||new o(Math.pow(t,5)),r=0,i=e.length;r<i;r+=5){var a=Math.min(5,i-r),s=parseInt(e.slice(r,r+a),t);this.multiply(a<5?new o(Math.pow(t,a)):n).add(new o(s))}return this}var l={16:o(Math.pow(16,5)),10:o(Math.pow(10,5)),2:o(Math.pow(2,5))},c={16:o(16),10:o(10),2:o(2)};o.prototype.fromBits=a,o.prototype.fromNumber=s,o.prototype.fromString=u,o.prototype.toNumber=function(){return 65536*this._a16+this._a00},o.prototype.toString=function(e){e=e||10;var t=c[e]||new o(e);if(!this.gt(t))return this.toNumber().toString(e);for(var n=this.clone(),r=new Array(64),i=63;i>=0&&(n.div(t),r[i]=n.remainder.toNumber().toString(e),n.gt(t));i--);return r[i-1]=n.toNumber().toString(e),r.join("")},o.prototype.add=function(e){var t=this._a00+e._a00,n=t>>>16;n+=this._a16+e._a16;var r=n>>>16;r+=this._a32+e._a32;var i=r>>>16;return i+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},o.prototype.subtract=function(e){return this.add(e.clone().negate())},o.prototype.multiply=function(e){var t=this._a00,n=this._a16,r=this._a32,i=this._a48,o=e._a00,a=e._a16,s=e._a32,u=e._a48,l=t*o,c=l>>>16;c+=t*a;var f=c>>>16;c&=65535,c+=n*o,f+=c>>>16,f+=t*s;var d=f>>>16;return f&=65535,f+=n*a,d+=f>>>16,f&=65535,f+=r*o,d+=f>>>16,d+=t*u,d&=65535,d+=n*s,d&=65535,d+=r*a,d&=65535,d+=i*o,this._a00=65535&l,this._a16=65535&c,this._a32=65535&f,this._a48=65535&d,this},o.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=new o(0),this}if(e.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(e))return this.remainder=new o(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},o.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},o.prototype.greaterThan=o.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},o.prototype.lessThan=o.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},o.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},o.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},o.prototype.xor=function(e){return this._a00^=e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},o.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},o.prototype.shiftRight=o.prototype.shiftr=function(e){return e%=64,e>=48?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):e>=32?(e-=32,this._a00=65535&(this._a32>>e|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):e>=16?(e-=16,this._a00=65535&(this._a16>>e|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},o.prototype.shiftLeft=o.prototype.shiftl=function(e,t){return e%=64,e>=48?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):e>=32?(e-=32,this._a48=this._a16<<e|this._a00>>16-e,this._a32=this._a00<<e&65535,this._a16=0,this._a00=0):e>=16?(e-=16,this._a48=this._a32<<e|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},o.prototype.rotateLeft=o.prototype.rotl=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>e|r<<32-e,o=r>>>e|n<<32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},o.prototype.clone=function(){return new o(this._a00,this._a16,this._a32,this._a48)},r=[],void 0!==(i=function(){return o}.apply(t,r))&&(e.exports=i)}()},function(e,t,n){(function(t){function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}function i(){return 2==arguments.length?new i(arguments[1]).update(arguments[0]).digest():this instanceof i?void o.call(this,arguments[0]):new i(arguments[0])}function o(e){return this.seed=e instanceof a?e.clone():a(e),this.v1=this.seed.clone().add(s).add(u),this.v2=this.seed.clone().add(u),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(s),this.total_len=0,this.memsize=0,this.memory=null,this}var a=n(207).UINT64,s=a("11400714785074694791"),u=a("14029467366897019727"),l=a("1609587929392839161"),c=a("9650029242287828579"),f=a("2870177450012600261");i.prototype.init=o,i.prototype.update=function(e){var n,i="string"==typeof e;i&&(e=r(e),i=!1,n=!0),"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer&&(n=!0,e=new Uint8Array(e));var o=0,l=e.length,c=o+l;if(0==l)return this;if(this.total_len+=l,0==this.memsize&&(this.memory=i?"":n?new Uint8Array(32):new t(32)),this.memsize+l<32)return i?this.memory+=e:n?this.memory.set(e.subarray(0,l),this.memsize):e.copy(this.memory,this.memsize,0,l),this.memsize+=l,this;if(this.memsize>0){i?this.memory+=e.slice(0,32-this.memsize):n?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize);var f=0;if(i){var d;d=a(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v1.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v2.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v3.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v4.add(d.multiply(u)).rotl(31).multiply(s)}else{var d;d=a(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v1.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v2.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v3.add(d.multiply(u)).rotl(31).multiply(s),f+=8,d=a(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v4.add(d.multiply(u)).rotl(31).multiply(s)}o+=32-this.memsize,this.memsize=0,i&&(this.memory="")}if(o<=c-32){var p=c-32;do{if(i){var d;d=a(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v1.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v2.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v3.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v4.add(d.multiply(u)).rotl(31).multiply(s)}else{var d;d=a(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v1.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v2.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v3.add(d.multiply(u)).rotl(31).multiply(s),o+=8,d=a(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v4.add(d.multiply(u)).rotl(31).multiply(s)}o+=8}while(o<=p)}return o<c&&(i?this.memory+=e.slice(o):n?this.memory.set(e.subarray(o,c),this.memsize):e.copy(this.memory,this.memsize,o,c),this.memsize=c-o),this},i.prototype.digest=function(){var e,t,n=this.memory,r="string"==typeof n,i=0,o=this.memsize,d=new a;for(this.total_len>=32?(e=this.v1.clone().rotl(1),e.add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(u).rotl(31).multiply(s)),e.multiply(s).add(c),e.xor(this.v2.multiply(u).rotl(31).multiply(s)),e.multiply(s).add(c),e.xor(this.v3.multiply(u).rotl(31).multiply(s)),e.multiply(s).add(c),e.xor(this.v4.multiply(u).rotl(31).multiply(s)),e.multiply(s).add(c)):e=this.seed.clone().add(f),e.add(d.fromNumber(this.total_len));i<=o-8;)r?d.fromBits(n.charCodeAt(i+1)<<8|n.charCodeAt(i),n.charCodeAt(i+3)<<8|n.charCodeAt(i+2),n.charCodeAt(i+5)<<8|n.charCodeAt(i+4),n.charCodeAt(i+7)<<8|n.charCodeAt(i+6)):d.fromBits(n[i+1]<<8|n[i],n[i+3]<<8|n[i+2],n[i+5]<<8|n[i+4],n[i+7]<<8|n[i+6]),d.multiply(u).rotl(31).multiply(s),e.xor(d).rotl(27).multiply(s).add(c),i+=8;for(i+4<=o&&(r?d.fromBits(n.charCodeAt(i+1)<<8|n.charCodeAt(i),n.charCodeAt(i+3)<<8|n.charCodeAt(i+2),0,0):d.fromBits(n[i+1]<<8|n[i],n[i+3]<<8|n[i+2],0,0),e.xor(d.multiply(s)).rotl(23).multiply(u).add(l),i+=4);i<o;)d.fromBits(r?n.charCodeAt(i++):n[i++],0,0,0),e.xor(d.multiply(f)).rotl(11).multiply(s);return t=e.clone().shiftRight(33),e.xor(t).multiply(u),t=e.clone().shiftRight(29),e.xor(t).multiply(l),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},e.exports=i}).call(t,n(206).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return e&&"undefined"!==typeof e[t]?e[t]:n}var o=n(0),a=r(o),s=n(1),u=r(s);Object.defineProperty(t,"__esModule",{value:!0});var l="https://cds.twilio.com",c="/v4/Subscriptions",f="/v3/Maps",d="/v3/Lists",p="/v3/Documents",h=function(){function e(t,n){(0,a.default)(this,e),n=n||{},n=n.Sync||n.DataSync||{};var r=n.cdsUri||l;this._token=t,this.settings={subscriptionsUri:r+c,documentsUri:r+p,listsUri:r+d,mapsUri:r+f,sessionStorageEnabled:i(n,"enableSessionStorage",!0)}}return(0,u.default)(e,[{key:"updateToken",value:function(e){this._token=e}},{key:"token",get:function(){return this._token}},{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}}]),e}();t.Configuration=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(122),s=r(a),u=n(49),l=r(u),c=n(4),f=r(c),d=n(20),p=r(d),h=n(0),v=r(h),y=n(1),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(125),k=n(51),x=n(89),C=n(42),E=function(){function e(t){(0,v.default)(this,e),this.localObject=t,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}return(0,m.default)(e,[{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.localObject._setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new x.SyncError("Failed to subscribe on service events: "+e.error.message,e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"isEstablished",get:function(){return this.established}}]),e}(),S=function(){function e(t){var n=this;(0,v.default)(this,e),this.isConnected=!1,this.maxBatchSize=100,this.subscriptionTtlTimer=null,this.pendingPokeReason=null,this.services=t,this.subscriptions=new p.default,this.persisted=new p.default,this.latestPokeResponseArrivalTimestampByCorrelationId=new p.default;var r={randomisationFactor:.2,initialDelay:100,maxDelay:12e4};this.backoff=w.exponential((0,f.default)(r,this.services.config.backoffConfig)),this.backoff.on("ready",function(){var e=n.getSubscriptionUpdateBatch(),t=e.action,r=e.subscriptions;t?n.applyNewSubscriptionUpdateBatch(t,r):(n.backoff.reset(),k.default.info("All subscriptions resolved."))})}return(0,m.default)(e,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i=[],o=!0,a=!1,u=void 0;try{for(var c,f=(0,l.default)(e);!(o=(c=f.next()).done);o=!0){var d=(0,s.default)(c.value,2),p=d[0],h=d[1];if(!t.get(p)&&n!==h.pendingAction&&!h.rejectedWithError&&(i.push(h),r&&i.length>=r))break}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}return i}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(t.length>0)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return n.length>0?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){try{this.backoff.backoff()}catch(e){}}},{key:"applyNewSubscriptionUpdateBatch",value:function(e,t){return _(this,void 0,void 0,o.default.mark(function n(){var r,i,a,s,u,c,f,d,p,h,v,y,m,g,b,_,w,x,E,S,T,O,P=this;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isConnected){n.next=4;break}return k.default.debug("Twilsock connection (required for subscription) not ready; waiting\u2026"),this.backoff.reset(),n.abrupt("return");case 4:for(t=this.processLocalActions(e,t),r=(new Date).getTime(),i=!0,a=!1,s=void 0,n.prev=9,u=(0,l.default)(t);!(i=(c=u.next()).done);i=!0)f=c.value,this.recordActionAttemptOn(f,e,r);n.next=17;break;case 13:n.prev=13,n.t0=n.catch(9),a=!0,s=n.t0;case 17:n.prev=17,n.prev=18,!i&&u.return&&u.return();case 20:if(n.prev=20,!a){n.next=23;break}throw s;case 23:return n.finish(20);case 24:return n.finish(17);case 25:return d=this.pendingPokeReason,this.pendingPokeReason=null,n.prev=27,n.next=30,this.request(e,r,d,t);case 30:p=n.sent,h=p.body.max_batch_size,!isNaN(parseInt(h))&&isFinite(h)&&h>0&&(this.maxBatchSize=h),this.subscriptionTtlTimer||(v=p.body.ttl_in_s,y=!isNaN(parseFloat(v))&&isFinite(v),(m=y&&v>0)&&(this.subscriptionTtlTimer=setTimeout(function(){return P.onSubscriptionTtlElapsed()},1e3*v))),"establish"===e&&(g=p.body.estimated_delivery_in_ms,b=!isNaN(parseFloat(g))&&isFinite(g),_=b&&g>0,_?setTimeout(function(){return P.verifyPokeDelivery(r,g,t)},g):k.default.error("Invalid timeout: "+g),t.filter(function(e){return e.pendingCorrelationId===r}).forEach(function(e){return e.localObject._setSubscriptionState("response_in_flight")})),this.backoff.reset(),n.next=60;break;case 38:for(n.prev=38,n.t1=n.catch(27),w=!0,x=!1,E=void 0,n.prev=43,S=(0,l.default)(t);!(w=(T=S.next()).done);w=!0)O=T.value,this.recordActionFailureOn(O,e);n.next=51;break;case 47:n.prev=47,n.t2=n.catch(43),x=!0,E=n.t2;case 51:n.prev=51,n.prev=52,!w&&S.return&&S.return();case 54:if(n.prev=54,!x){n.next=57;break}throw E;case 57:return n.finish(54);case 58:return n.finish(51);case 59:n.t1 instanceof C.TwilsockUnavailableError?(k.default.debug("Twilsock connection (required for subscription) not ready (c:"+r+"); waiting\u2026"),this.backoff.reset()):(k.default.debug("Failed an attempt to "+e+" subscriptions (c:"+r+"); retrying",n.t1),this.persist());case 60:case"end":return n.stop()}},n,this,[[9,13,17,25],[18,,20,24],[27,38],[43,47,51,59],[52,,54,58]])}))}},{key:"verifyPokeDelivery",value:function(e,t,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(e),o=i?(new Date).getTime()-i:t;if(o>=t)n.filter(function(t){return t.pendingCorrelationId===e}).forEach(function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)}),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(e);else{var a=t-o;setTimeout(function(){return r.verifyPokeDelivery(e,t,n)},a)}}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter(function(e){return!e.rejectedWithError}):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.localObject._setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.localObject._setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(e,t,n,r){var i=r.map(function(t){return{object_sid:t.sid,object_type:t.type,last_event_id:"establish"===e?t.lastEventId:void 0}}),o=r.filter(function(e){return e.retryCount>0}).length;k.default.debug("Attempting '"+e+"' request (c:"+t+"):",i);var a={event_protocol_version:3,action:e,correlation_id:t,retried_requests:o,ttl_in_s:-1,requests:i};return"ttl"===n&&(a.reason=n),this.services.network.post(this.services.config.subscriptionsUri,a,null,!0)}},{key:"add",value:function(e,t){k.default.debug("Establishing intent to subscribe to "+e);var n=this.subscriptions.get(e);n&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new E(t)),this.persist())}},{key:"remove",value:function(e){k.default.debug("Establishing intent to unsubscribe from "+e),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){switch(k.default.trace("Subscriptions received",e),e.correlation_id&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(e.correlation_id,(new Date).getTime()),e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(e.event,e.correlation_id);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(e.event,e.correlation_id);break;case"subscription_failed":this.applySubscriptionFailedMessage(e.event,e.correlation_id);break;case(e.event_type.match(/^(?:map|list|document)_/)||{}).input:;this.applyEventToSubscribedEntity(function(){return e.event_type.match(/^map_/)?e.event.map_sid:e.event_type.match(/^list_/)?e.event.list_sid:e.event_type.match(/^document_/)?e.event.document_sid:void 0}(),e,t);break;default:k.default.debug("Dropping unknown message type "+e.event_type)}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(k.default.debug("Event Replay for subscription to "+n+" (c:"+t+") interrupted; continuing eagerly."),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(k.default.debug("Event Replay for subscription to "+n+" (c:"+t+") completed. Subscription is ready."),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.localObject._setSubscriptionState("established"),this.backoff.reset()):k.default.debug("Late message for "+e.object_sid+" (c:"+t+") dropped."),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.localObject._setSubscriptionState("none"),this.persisted.delete(e.object_sid)):k.default.debug("Late message for "+e.object_sid+" (c:"+t+") dropped."),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(k.default.error("Failed to subscribe on "+i.sid,e.error),i.markAsFailed(e),i.localObject._setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.localObject._setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n){var r=this;if(e){n=n||function(){var t=r.persisted.get(e);return t&&t.isEstablished}();var i=this.subscriptions.get(e);i?(t.event.type=t.event_type,i.update(t.event,n)):k.default.debug("Message dropped for SID '"+e+"', for which there is no subscription.")}}},{key:"onConnectionStateChanged",value:function(e){this.isConnected=e,e&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){k.default.info("Triggering event replay for all subscriptions, reason="+e),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,l.default)(this.persisted.values());!(n=(o=a.next()).done);n=!0){var s=o.value;s.reset(),s.rejectedWithError&&t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.persisted.clear();var u=!0,c=!1,f=void 0;try{for(var d,p=(0,l.default)(t);!(u=(d=p.next()).done);u=!0){var h=d.value;this.persisted.set(h.sid,h)}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),e}();t.Subscriptions=S,t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(51),h="com.twilio.rtd.cds.document",v="com.twilio.rtd.cds.list",y="com.twilio.rtd.cds.map",m="twilio.sync.event",g=function(){function e(t){var n=this;(0,s.default)(this,e),this.config=t.config,this.subscriptions=t.subscriptions,this.notifications=t.notifications,this.notifications.subscribe(m),this.notifications.subscribe(h),this.notifications.subscribe(v),this.notifications.subscribe(y),this.notifications.on("message",function(e,t){return n.onMessage(e,t)}),this.notifications.on("transportReady",function(e){return n.onConnectionStateChanged(e)})}return(0,l.default)(e,[{key:"onMessage",value:function(e,t){switch(p.default.trace("Notification type:",e,"content:",t),e){case h:case v:case y:this.subscriptions.acceptMessage(t,!1);break;case m:this.subscriptions.acceptMessage(t,!0)}}},{key:"subscribe",value:function(e,t){return d(this,void 0,void 0,o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.subscriptions.add(e,t);case 2:case"end":return n.stop()}},n,this)}))}},{key:"unsubscribe",value:function(e,t){return d(this,void 0,void 0,o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.subscriptions.remove(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"onConnectionStateChanged",value:function(e){this.subscriptions.onConnectionStateChanged(e)}}]),e}();t.Router=g,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function o(e){return e.body?e.body.code:0}function a(e){return 409===e.status?new _.SyncNetworkError(i(e),e.status,o(e),e.body):e.status?new b.SyncError(i(e),e.status,o(e)):e instanceof k.TwilsockUnavailableError?e:new b.SyncError(e.message,0,0)}var s=n(9),u=r(s),l=n(4),c=r(l),f=n(29),d=r(f),p=n(0),h=r(p),v=n(1),y=r(v);Object.defineProperty(t,"__esModule",{value:!0});var m=n(64),g=n(51),b=n(89),_=n(485),w=n(87),k=n(42),x=function(){function e(t,n,r,i){(0,h.default)(this,e),this.productId=t,this.clientInfo=n,this.config=r,this.transport=i}return(0,y.default)(e,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":(0,d.default)(this.clientInfo),"Twilio-Request-Id":"RQ"+m.v4().replace(/-/g,""),"X-Twilio-Product-Id":this.productId,"X-Twilio-Token":this.config.token}}},{key:"backoffConfig",value:function(){return(0,c.default)({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new u.default(function(r,i){var o=[502,503,504];n&&o.push(429);var s=new w.default(t.backoffConfig());s.on("attempt",function(){e().then(function(e){return s.succeeded(e)}).catch(function(e){if(-1!==o.indexOf(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);s.failed(a(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?s.failed(a(e)):(s.removeAllListeners(),s.cancel(),i(a(e)))})}),s.on("succeeded",function(e){r(e)}),s.on("cancelled",function(e){return i(a(e))}),s.on("failed",function(e){return i(a(e))}),s.start()})}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return g.default.debug("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.get(e,n)},!0)}},{key:"post",value:function(e,t,n,r){var i=this,o=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(o["If-Match"]=n),g.default.debug("POST",e,"ID:",o["Twilio-Request-Id"]),this.executeWithRetry(function(){return i.transport.post(e,o,t,r)},!1)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(i["If-Match"]=n),g.default.debug("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry(function(){return r.transport.put(e,i,t)},!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return g.default.debug("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.delete(e,n)},!1)}}]),e}();t.Network=x,t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a=n(0),s=r(a),u=n(6),l=r(u),c=n(7),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=n(89),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments[3];(0,s.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n,r));return a.body=i,a}return(0,f.default)(t,e),t}(d.SyncError);t.SyncNetworkError=p,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(49),s=r(a),u=n(139),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(t,n){(0,f.default)(this,e),this.balanceFactor=0,this.key=t,this.value=n,this.parent=null,this.left=null,this.right=null}return(0,p.default)(e,[{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}},{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}}]),e}(),v=function(){function e(t,n){(0,f.default)(this,e),this.isLessThan=t||function(e,t){return e<t},this.isEqual=n||function(e,t){return e===t},this.root=null,this.count=null}return(0,p.default)(e,[{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new h(e,t);if(this.count++,!this.root)return void(this.root=n);for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,o=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(o))break;if(i.balanceFactor<-1||i.balanceFactor>1){this.rebalance(i);break}r=i}}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!==!!i){var o=r||i;n||o?n&&!o?this.root=o:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var a=t.left;a.right;)a=a.right;if(t.left===a)t.isRoot?(this.root=a,a.parent=null):(t.isLeftChild?t.parent.left=a:t.parent.right=a,a.parent=t.parent),a.right=t.right,a.right.parent=a,a.balanceFactor=t.balanceFactor,t={parent:a,isLeftChild:!0};else{var s=a.parent,u=a.left;s.right=u,u&&(u.parent=s),t.isRoot?(this.root=a,a.parent=null):(t.isLeftChild?t.parent.left=a:t.parent.right=a,a.parent=t.parent),a.right=t.right,a.right.parent=a,a.left=t.left,a.left.parent=a,a.balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var l=t.parent,c=l.balanceFactor;if(t.isLeftChild?l.balanceFactor-=1:l.balanceFactor+=1,Math.abs(l.balanceFactor)>Math.abs(c)){if(!(l.balanceFactor<-1||l.balanceFactor>1))break;if(this.rebalance(l),0!==l.parent.balanceFactor)break;t=l.parent}else t=l}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?e.right.balanceFactor>0?(this.rotateRight(e.right),this.rotateLeft(e)):this.rotateLeft(e):e.balanceFactor>0&&(e.left.balanceFactor<0?(this.rotateLeft(e.left),this.rotateRight(e)):this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.left=e,e.parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.right=e,e.parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:l.default,value:o.default.mark(function e(){var t,n,r,i,a,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=(0,s.default)(this.getIterator());case 5:if(t=(a=i.next()).done){e.next=12;break}return u=a.value,e.next=9,u;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&i.return&&i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"getIterator",value:o.default.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.root;case 1:if(!t){e.next=7;break}if(!this.isEqual(r,t.key)&&(null!==r||t.left)){e.next=4;break}return e.abrupt("break",7);case 4:t=this.isLessThan(r,t.key)||null===r?t.left:t.right,e.next=1;break;case 7:if(t){e.next=9;break}return e.abrupt("return",null);case 9:n=!0;case 10:if(!n){e.next=28;break}return e.next=13,[t.key,t.value];case 13:if(n=!1,!t.right){e.next=20;break}for(t=t.right;t.left;)t=t.left;n=!0,e.next=26;break;case 20:if(!t.parent){e.next=25;break}n=t.parent.left===t,t=t.parent,e.next=26;break;case 25:return e.abrupt("break",36);case 26:e.next=34;break;case 28:if(!t.parent){e.next=33;break}n=t.parent.left===t,t=t.parent,e.next=34;break;case 33:return e.abrupt("break",36);case 34:e.next=10;break;case 36:return e.abrupt("return",null);case 37:case"end":return e.stop()}},e,this)})},{key:"getReverseIterator",value:o.default.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.root;case 1:if(!t){e.next=7;break}if(!this.isEqual(r,t.key)&&(null!==r||t.right)){e.next=4;break}return e.abrupt("break",7);case 4:t=this.isLessThan(r,t.key)&&null!==r?t.left:t.right,e.next=1;break;case 7:if(t){e.next=9;break}return e.abrupt("return",null);case 9:n=!0;case 10:if(!n){e.next=28;break}return e.next=13,[t.key,t.value];case 13:if(n=!1,!t.left){e.next=20;break}for(t=t.left;t.right;)t=t.right;n=!0,e.next=26;break;case 20:if(!t.parent){e.next=25;break}n=t.parent.right===t,t=t.parent,e.next=26;break;case 25:return e.abrupt("break",36);case 26:e.next=34;break;case 28:if(!t.parent){e.next=33;break}n=t.parent.right===t,t=t.parent,e.next=34;break;case 33:return e.abrupt("break",36);case 34:e.next=10;break;case 36:return e.abrupt("return",null);case 37:case"end":return e.stop()}},e,this)})},{key:"size",get:function(){return this.count}}]),e}();t.TreeMap=v},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(215),a=function e(t){(0,i.default)(this,e),this.sdk="js",this.sdkVer=t,this.os=o.os.family,this.osVer=o.os.version,this.pl=o.name,this.plVer=o.version};t.ClientInfo=a,t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(20),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u);Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){(0,s.default)(this,e),this.names=new o.default,this.entities=new o.default}return(0,l.default)(e,[{key:"store",value:function(e){var t=this.entities.get(e.sid);return t||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),e}();t.EntitiesCache=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(29),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(t,n){(0,l.default)(this,e),this.config=t,this.storageId=null;try{this.storage=n||sessionStorage}catch(e){}}return(0,f.default)(e,[{key:"storageKey",value:function(e,t){return this.storageId+"::"+e+"::"+t}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(e){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,(0,s.default)(t))}catch(e){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,(0,o.default)(n,t))}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}}]),e}();t.SessionStorage=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(9),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u);Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){var t=this;(0,s.default)(this,e),this._promise=new o.default(function(e,n){t._resolve=e,t._reject=n})}return(0,l.default)(e,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),e}();t.Deferred=c},function(e,t){e.exports={_from:"twilio-sync@^0.5.10",_id:"twilio-sync@0.5.11",_inBundle:!1,_integrity:"sha1-uQOEkBkwjaiiA9KUnnzJvN1hyUc=",_location:"/twilio-sync",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"twilio-sync@^0.5.10",name:"twilio-sync",escapedName:"twilio-sync",rawSpec:"^0.5.10",saveSpec:null,fetchSpec:"^0.5.10"},_requiredBy:["/twilio-chat"],_resolved:"https://registry.npmjs.org/twilio-sync/-/twilio-sync-0.5.11.tgz",_shasum:"b903849019308da8a203d2949e7cc9bcdd61c947",_spec:"twilio-sync@^0.5.10",_where:"/media/anton/DATA/Cloud/SocialFamily/testSecondJanuary/SocialFamily/web_application/production/chat/node_modules/twilio-chat",author:{name:"Twilio"},browser:"browser/index.js",bundleDependencies:!1,dependencies:{"babel-runtime":"^6.23.0",karibu:"^1.0.1",loglevel:"^1.4.1","operation-retrier":"^1.1.2",platform:"^1.3.3",rfc6902:"^1.3.0","twilio-ems-client":"^0.2.0","twilio-notifications":"^0.4.0","twilio-transport":"^0.1.2",twilsock:"^0.3.0",uuid:"^3.0.1",xxhashjs:"^0.2.1"},deprecated:!1,description:"Twilio Sync client library",devDependencies:{"@types/chai":"^3.4.35","@types/chai-as-promised":"0.0.29","@types/loglevel":"^1.4.29","@types/mocha":"^2.2.39","@types/node":"^7.0.5","@types/sinon":"^2.3.3","@types/sinon-chai":"^2.7.27","async-test-tools":"^1.0.6","babel-cli":"^6.23.0","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-array-includes":"^2.0.3","babel-plugin-transform-object-assign":"^6.22.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.22.0",babelify:"^7.3.0",backoff:"^2.5.0",browserify:"^14.1.0",chai:"^3.5.0","chai-as-promised":"^6.0.0",cheerio:"^0.22.0",del:"^2.2.2",gulp:"^3.9.1","gulp-babel":"^6.1.2","gulp-derequire":"^2.1.0","gulp-exit":"0.0.2","gulp-insert":"^0.5.0","gulp-istanbul":"^1.1.1","gulp-mocha":"^4.0.1","gulp-rename":"^1.2.2","gulp-replace":"^0.5.4","gulp-tap":"^0.1.3","gulp-tslint":"^7.1.0","gulp-typescript":"^3.1.5","gulp-uglify":"^2.0.1","gulp-util":"^3.0.8","ink-docstrap":"^1.3.0",isparta:"^4.0.0",jsdoc:"^3.4.3",jsonwebtoken:"^7.3.0",karma:"^1.5.0","karma-browserify":"^5.1.1","karma-browserstack-launcher":"^1.2.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.2","run-sequence":"^1.2.2",sinon:"^2.3.3","sinon-chai":"^2.8.0","ts-node":"^3.0.0",tslint:"^4.5.1",twilio:"^3.3.0-edge",typescript:"2.2.1",underscore:"^1.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.9.0"},engines:{node:">=6"},license:"MIT",main:"lib/index.js",name:"twilio-sync",scripts:{prepublish:"gulp build",test:"gulp unit-test"},version:"0.5.11"}},function(e,t,n){"use strict";var r=n(493);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(216),h=n(217),v=n(494);t.Media=v.Media,t.McsMedia=v.Media;var y=n(42),m=n(495),g=p.Logger.scope(""),b=n(496).version,_="A valid Twilio token should be provided",w=function(){function e(t,n,r){if((0,s.default)(this,e),this.options=r||{},this.options.logLevel=this.options.logLevel||"error",this.config=new h.Configuration(t,n,this.options),!t)throw new Error(_);g.setLevel(this.options.logLevel),this.options.transport=this.options.transport||new y.Transport(null,this.options),this.transport=this.options.transport,this.network=new m.Network(this.config,this.transport)}return(0,l.default)(e,[{key:"updateToken",value:function(e){if(g.info("updateToken"),!e)throw new Error(_);this.config.updateToken(e)}},{key:"get",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.network.get(this.config.baseUrl+"/"+e);case 2:return n=t.sent,t.abrupt("return",new v.Media(this.config,this.network,n.body));case 4:case"end":return t.stop()}},t,this)}))}},{key:"post",value:function(e,t){return d(this,void 0,void 0,o.default.mark(function n(){var r;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.network.post(this.config.baseUrl,t,e);case 2:return r=n.sent,n.abrupt("return",new v.Media(this.config,this.network,r.body));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postFormData",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.network.post(this.config.baseUrl,e);case 2:return n=t.sent,t.abrupt("return",new v.Media(this.config,this.network,n.body));case 4:case"end":return t.stop()}},t,this)}))}}]),e}();w.version=b,t.Client=w,t.McsClient=w,t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(t,n,r){(0,s.default)(this,e),this.config=t,this.network=n,this._update(r)}return(0,l.default)(e,[{key:"getContentUrl",value:function(){return d(this,void 0,void 0,o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.get(this.config.baseUrl+"/"+this.sid);case 2:return t=e.sent,this._update(t.body),e.abrupt("return",f.default.resolve(this.state.contentDirectUrl));case 5:case"end":return e.stop()}},e,this)}))}},{key:"_update",value:function(e){this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,url:e.url,contentUrl:e.links.content,contentDirectUrl:e.links.content_direct_temporary,filename:e.filename?e.filename:null}}},{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}}]),e}();t.Media=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(4),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(9),p=r(d),h=function(e,t,n,r){return new(n||(n=p.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var v=n(87),y=n(216),m=n(217),g=n(194),b=y.Logger.scope(""),_=function(){function e(t,n){(0,l.default)(this,e),this.config=t,this.transport=n}return(0,f.default)(e,[{key:"backoffConfig",value:function(){return(0,s.default)(m.Configuration.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return"undefined"!==typeof this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:"undefined"!==typeof m.Configuration.retryWhenThrottledDefault&&m.Configuration.retryWhenThrottledDefault}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new p.default(function(r,i){var o=[502,503,504];n&&o.push(429);var a=new v.default(t.backoffConfig());a.on("attempt",function(){e().then(function(e){return a.succeeded(e)}).catch(function(e){o.indexOf(e.status)>-1?a.failed(e):"Twilsock disconnected"===e.message?a.failed(e):(a.removeAllListeners(),a.cancel(),i(e))})}),a.on("succeeded",function(e){r(e)}),a.on("cancelled",function(e){return i(e)}),a.on("failed",function(e){return i(e)}),a.start()})}},{key:"get",value:function(e){return h(this,void 0,void 0,o.default.mark(function t(){var n,r,i=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={"X-Twilio-Token":this.config.token},b.trace("sending GET request to ",e," headers ",n),t.next=4,this.executeWithRetry(function(){return i.transport.get(e,n)},this.retryWhenThrottled());case 4:return r=t.sent,b.trace("response",r),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}))}},{key:"post",value:function(e,t,n){return h(this,void 0,void 0,o.default.mark(function r(){var i,a;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i={"X-Twilio-Token":this.config.token},t instanceof g||!n||(0,s.default)(i,{"Content-Type":n}),a=void 0,b.trace("sending POST request to ",e," headers ",i),r.prev=4,r.next=7,this.transport.post(e,i,t);case 7:a=r.sent,r.next=17;break;case 10:if(r.prev=10,r.t0=r.catch(4),!(r.t0 instanceof TypeError)){r.next=16;break}throw new TypeError("Posting FormData supported only with browser engine's FormData");case 16:throw r.t0;case 17:return b.trace("response",a),r.abrupt("return",a);case 19:case"end":return r.stop()}},r,this,[[4,10]])}))}}]),e}();t.Network=_},function(e,t){e.exports={_from:"twilio-mcs-client@^0.0.4",_id:"twilio-mcs-client@0.0.4",_inBundle:!1,_integrity:"sha512-4NWzSInfENIP48G58gyN13E5XlqItX8hU93yVsMX+FrIvcpUS3A4snXko6NvIt1ZTMhG+sXrt6OF3Mx555tTPw==",_location:"/twilio-mcs-client",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"twilio-mcs-client@^0.0.4",name:"twilio-mcs-client",escapedName:"twilio-mcs-client",rawSpec:"^0.0.4",saveSpec:null,fetchSpec:"^0.0.4"},_requiredBy:["/twilio-chat"],_resolved:"https://registry.npmjs.org/twilio-mcs-client/-/twilio-mcs-client-0.0.4.tgz",_shasum:"369ccc8f1dfef9e914192dcd5d2c05377468a1da",_spec:"twilio-mcs-client@^0.0.4",_where:"/media/anton/DATA/Cloud/SocialFamily/testSecondJanuary/SocialFamily/web_application/production/chat/node_modules/twilio-chat",author:{name:"Twilio"},browser:"browser/index.js",bundleDependencies:!1,dependencies:{"body-parser":"^1.18.2",dotenv:"^4.0.0","isomorphic-form-data":"^1.0.0",loglevel:"^1.5.0","operation-retrier":"^1.3.2",pug:"^2.0.0-rc.4","twilio-transport":"^0.1.4"},deprecated:!1,description:"Twilio Media Content Service client library",devDependencies:{"@types/chai":"^3.5.2","@types/chai-as-promised":"0.0.31","@types/chai-datetime":"0.0.30","@types/chai-string":"^1.1.30","@types/core-js":"^0.9.42","@types/form-data":"0.0.33","@types/mocha":"^2.2.43","@types/node":"^7.0.18","@types/sinon":"^2.3.5","@types/sinon-chai":"^2.7.27",async:"^2.5.0","async-test-tools":"^1.0.7","babel-eslint":"^7.2.3","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-istanbul":"^4.1.5","babel-plugin-transform-async-to-generator":"^6.24.1","babel-plugin-transform-object-assign":"^6.22.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-require":"^1.0.1","babel-runtime":"^6.23.0",babelify:"^7.3.0",browserify:"^14.3.0",chai:"^3.5.0","chai-as-promised":"^6.0.0","chai-datetime":"^1.5.0","chai-string":"^1.3.0",cheerio:"^0.22.0",del:"^3.0.0",express:"^4.16.1",gulp:"^3.9.1","gulp-babel":"^6.1.2","gulp-derequire":"^2.1.0","gulp-insert":"^0.5.0","gulp-mocha":"^4.3.1","gulp-rename":"^1.2.2","gulp-tap":"^1.0.1","gulp-tslint":"^8.0.0","gulp-typescript":"^3.2.1","gulp-uglify":"^3.0.0","gulp-util":"^3.0.8",gulpclass:"^0.1.2","ink-docstrap":"^1.3.0",jsdoc:"^3.5.3","jsdoc-strip-async-await":"^0.1.0",karma:"^1.7.0","karma-babel-preprocessor":"^6.0.1","karma-browserify":"^5.1.1","karma-browserstack-launcher":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3","karma-sinon-chai":"^1.3.1","karma-sinon-ie":"^2.0.0","karma-typescript":"^3.0.7","loglevel-message-prefix":"^2.0.1",nyc:"^11.2.1",proxyquire:"^1.8.0",sinon:"^2.3.8","sinon-chai":"^2.14.0",t:"^0.5.1","ts-node":"^3.2.0",tslint:"^5.5.0",twilio:"^3.7.0",typescript:"^2.5.3","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.9.0"},engines:{node:">=6"},license:"MIT",main:"lib/index.js",name:"twilio-mcs-client",scripts:{start:"node app.js"},types:"./lib/client.d.ts",version:"0.0.4"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return!t.some(function(t){return!e.hasOwnProperty(t)})}var o=n(13),a=r(o),s=n(4),u=r(s),l=n(20),c=r(l),f=n(1),d=r(f),p=n(0),h=r(p),v=n(9),y=r(v),m=function(e,t,n,r){return new(n||(n=y.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var g=n(64),b=n(215),_=n(498),w=n(500),k=n(26),x=n(218),C=n(219),E=n(220).version,S=k.Logger.scope("Session"),T=function e(){(0,h.default)(this,e)},O=function(){function e(t,n){(0,h.default)(this,e);var r="undefined"!==typeof navigator?b.parse(navigator.userAgent):b;this.services=t,this.config=n,this.sessionInfo=new C.Deferred,this.currentContext={},this.token=null,this.tokenSynced=!0,this.pendingCommands=new c.default,this.sessionStreamPromise=null,this.endpointPlatform=["js",E,r.os,r.name,r.version].join("|")}return(0,d.default)(e,[{key:"handleContextUpdate",value:function(e){S.info("Session context updated"),S.debug("new session context:",e),this.currentContext=e,i(e,["identity","userInfo","links","myChannels","channels"])&&(S.info("new session context accepted"),this.sessionInfo.set(e))}},{key:"initialize",value:function(e){var t=this;this.token=e,this.tokenSynced=!1;var n={type:"IpMsgSession",apiVersion:"3",endpointPlatform:this.endpointPlatform,token:e};return this.sessionStreamPromise=this.services.syncClient.list({purpose:"com.twilio.rtd.ipmsg",context:n}).then(function(e){return S.info("Session created",e.sid),t.tokenSynced=!0,e.on("itemAdded",function(e){return t.processCommandResponse(e)}),e.on("itemUpdated",function(e){return t.processCommandResponse(e)}),e.on("contextUpdatedRemotely",function(e){return t.handleContextUpdate(e)}),e}).catch(function(e){throw S.error("Failed to create session",e),e}),this.sessionStreamPromise}},{key:"addCommand",value:function(e,t){return this.processCommand(e,t)}},{key:"processCommand",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new T;return i.request=t,i.request.action=e,i.commandId=g.v4(),S.info("Adding command: ",e,i.commandId),S.debug("command arguments:",t,r),new y.default(function(o,a){n.sessionStreamPromise.then(function(e){return n.pendingCommands.set(i.commandId,{resolve:o,reject:a,commandId:i.commandId,request:i.request}),e.push(i)}).then(function(){return S.debug("Command accepted by server",i.commandId)}).catch(function(s){n.pendingCommands.delete(i.commandId),S.error("Failed to add a command to the session",s),s.code!=w.ResponseCodes.ACCESS_FORBIDDEN_FOR_IDENTITY&&s.code!==w.ResponseCodes.LIST_NOT_FOUND||!r?a(new Error("Can't add command: "+s.message)):(S.info("recreating session..."),n.initialize(n.token),o(n.processCommand(e,t,!1)))})})}},{key:"processCommandResponse",value:function(e){if(e.value.hasOwnProperty("response")&&e.value.hasOwnProperty("commandId")&&this.pendingCommands.has(e.value.commandId)){var t=e.value,n=e.value.commandId;if(t.response.status===w.ResponseCodes.HTTP_200_OK){S.debug("Command succeeded: ",t);var r=this.pendingCommands.get(n).resolve;this.pendingCommands.delete(n),r(t.response)}else{S.error("Command failed: ",t);var i=this.pendingCommands.get(n).reject;this.pendingCommands.delete(n),i(new x.SessionError(t.response.statusText,t.response.status))}}}},{key:"updateToken",value:function(e){return this.token=e,this.tokenSynced=!1,this.syncToken()}},{key:"syncToken",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return m(this,void 0,void 0,a.default.mark(function t(){var n,r,i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tokenSynced&&!this.tokenSyncInProgress){t.next=3;break}return S.trace("token is already synced or sync is in progress"),t.abrupt("return");case 3:return this.tokenSyncInProgress=!0,t.prev=4,t.next=7,this.getSessionContext();case 7:return n=t.sent,t.next=10,this.sessionStreamPromise;case 10:return r=t.sent,t.next=13,r.updateContext((0,u.default)(n,{token:this.token}));case 13:this.tokenSynced=!0,this.tokenSyncInProgress=!1,t.next=27;break;case 17:if(t.prev=17,t.t0=t.catch(4),t.t0.code!=w.ResponseCodes.ACCESS_FORBIDDEN_FOR_IDENTITY&&t.t0.code!==w.ResponseCodes.LIST_NOT_FOUND||!e){t.next=23;break}return S.info("recreating session..."),this.initialize(this.token),t.abrupt("return",this.syncToken(!1));case 23:throw i="Couldn't update the token in session context",S.error(i,t.t0),this.tokenSyncInProgress=!1,new x.SessionError(i,t.t0.code);case 27:case"end":return t.stop()}},t,this,[[4,17]])}))}},{key:"getSessionContext",value:function(){return this.sessionStreamPromise.then(function(e){return e.getContext()})}},{key:"getSessionLinks",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",{publicChannelsUrl:this.config.baseUrl+t.links.publicChannelsUrl,myChannelsUrl:this.config.baseUrl+t.links.myChannelsUrl,typingUrl:this.config.baseUrl+t.links.typingUrl,syncListUrl:this.config.baseUrl+t.links.syncListUrl,usersUrl:this.config.baseUrl+t.links.usersUrl,mediaServiceUrl:t.links.mediaServiceUrl});case 4:case"end":return e.stop()}},e,this)}))}},{key:"getChannelsId",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.channels);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getMyChannelsId",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.myChannels);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getMaxUserInfosToSubscribe",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",this.config.userInfosToSubscribeOverride||t.userInfosToSubscribe||this.config.userInfosToSubscribeDefault);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getUsersData",value:function(){return this.sessionInfo.promise.then(function(e){return{user:e.userInfo,identity:e.identity}})}},{key:"getConsumptionReportInterval",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.consumptionReportIntervalOverride||t.consumptionReportInterval||this.config.consumptionReportIntervalDefault,e.prev=4,e.abrupt("return",_.fromString(n));case 8:return e.prev=8,e.t0=e.catch(4),S.error("Failed to parse consumption report interval",n,"using default value",this.config.consumptionReportIntervalDefault),e.abrupt("return",_.fromString(this.config.consumptionReportIntervalDefault));case 12:case"end":return e.stop()}},e,this,[[4,8]])}))}},{key:"getHttpCacheInterval",value:function(){return m(this,void 0,void 0,a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.httpCacheIntervalOverride||t.httpCacheInterval||this.config.httpCacheIntervalDefault,e.prev=4,e.abrupt("return",_.fromString(n));case 8:return e.prev=8,e.t0=e.catch(4),S.error("Failed to parse cache interval",n,"using default value",this.config.httpCacheIntervalDefault),e.abrupt("return",_.fromString(this.config.httpCacheIntervalDefault));case 12:case"end":return e.stop()}},e,this,[[4,8]])}))}},{key:"identity",get:function(){return this.sessionInfo.current.identity}},{key:"reachabilityEnabled",get:function(){return this.currentContext.reachabilityEnabled}}]),e}();t.Session=O},function(e,t,n){e.exports=n(499)},function(e,t){function n(e){return void 0===e?0:parseInt(e,10)}var r=/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/;t.fromSeconds=function(e){if("number"!==typeof e)throw new TypeError("Argument `seconds` must be a number");var t=e%60,n=(e-t)%3600;return{hours:(e-t-n)/3600,minutes:n/60,seconds:t}},t.fromString=function(e){if("string"!==typeof e)throw new TypeError("Argument `string` must be a string");var t=e.match(r);if(null===t||void 0===t[1]&&void 0===t[2]&&void 0===t[3])throw new Error('Could not parse "'+e+'" as a duration.');return{hours:n(t[1]),minutes:n(t[2]),seconds:n(t[3])}},t.toString=function(e){"number"===typeof e&&(e=t.fromSeconds(e));var n="PT";return e.hours>0&&(n+=e.hours+"H"),e.minutes>0&&(n+=e.minutes+"M"),e.seconds>0&&(n+=e.seconds+"S"),"PT"===n&&(n+="0S"),n},t.toSeconds=function(e){var n=e;return"string"===typeof e&&(n=t.fromString(e)),3600*n.hours+60*n.minutes+n.seconds}},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=function e(){(0,i.default)(this,e)};o.HTTP_200_OK=200,o.HTTP_400_BAD_REQUEST=400,o.HTTP_404_NOT_FOUND=404,o.ACCESS_FORBIDDEN_FOR_IDENTITY=54007,o.LIST_NOT_FOUND=54150,t.ResponseCodes=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(29),s=r(a),u=n(88),l=r(u),c=n(20),f=r(c),d=n(5),p=r(d),h=n(0),v=r(h),y=n(1),m=r(y),g=n(6),b=r(g),_=n(7),w=r(_),k=n(9),x=r(k),C=function(e,t,n,r){return new(n||(n=x.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var E=n(15),S=n(26),T=n(191);t.Channel=T.Channel;var O=n(219),P=S.Logger.scope(""),M=function(e){function t(e){(0,v.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,p.default)(t)).call(this));return n.services=e,n.channels=new f.default,n.thumbstones=new l.default,n.syncListFetched=!1,n.syncListRead=new O.Deferred,n}return(0,w.default)(t,e),(0,m.default)(t,[{key:"getMap",value:function(){var e=this;return this.services.session.getMyChannelsId().then(function(t){return e.services.syncClient.map({uniqueName:t,mode:"open"})})}},{key:"addChannel",value:function(e){return C(this,void 0,void 0,o.default.mark(function t(){var n,r,i,a,u;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.session.addCommand("createChannel",{friendlyName:e.friendlyName,uniqueName:e.uniqueName,type:e.isPrivate?"private":"public",attributes:(0,s.default)(e.attributes)});case 2:if(n=t.sent,r="channelSid"in n?n.channelSid:null,i="channel"in n?n.channel:null,!(a=this.channels.get(r))){t.next=10;break}return t.next=9,a._subscribe();case 9:return t.abrupt("return",a);case 10:return u=new T.Channel(this.services,{channel:i,name:null,entityName:null,uniqueName:null,attributes:null,createdBy:null,friendlyName:null,lastConsumedMessageIndex:null,type:e.isPrivate?"private":"public",dateCreated:null,dateUpdated:null},r),this.channels.set(u.sid,u),this.registerForEvents(u),t.next=15,u._subscribe();case 15:return this.emit("channelAdded",u),t.abrupt("return",u);case 17:case"end":return t.stop()}},t,this)}))}},{key:"fetchChannels",value:function(){var e=this;this.getMap().then(function(t){return C(e,void 0,void 0,o.default.mark(function e(){var n,r,i,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.on("itemAdded",function(e){a.upsertChannel("sync",e.key,e.value)}),t.on("itemRemoved",function(e){a.syncListFetched||a.thumbstones.add(e);var t=a.channels.get(e);t&&("joined"!==t.status&&"invited"!==t.status||(t._setStatus("known","sync"),a.emit("channelLeft",t)),t.isPrivate&&(a.channels.delete(e),a.emit("channelRemoved",t)))}),t.on("itemUpdated",function(e){a.upsertChannel("sync",e.key,e.value)}),n=[],e.next=6,this.services.syncList.getPage();case 6:r=e.sent,i=r.items,i.forEach(function(e){n.push(a.upsertChannel("synclist",e.channel_sid,e.descriptor))});case 9:if(!r.hasNextPage){e.next=16;break}return e.next=12,r.nextPage();case 12:r=e.sent,r.items.forEach(function(e){n.push(a.upsertChannel("synclist",e.channel_sid,e.descriptor))}),e.next=9;break;case 16:return this.syncListRead.set(!0),e.abrupt("return",x.default.all(n));case 18:case"end":return e.stop()}},e,this)}))}).then(function(){e.syncListFetched=!0,e.thumbstones.clear(),P.debug("Channels list fetched")}).then(function(){return e}).catch(function(e){throw P.error("Failed to get channels list",e),e})}},{key:"_wrapPaginator",value:function(e,t){var n=this;return t(e.items).then(function(r){return{items:r,hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,nextPage:function(){return e.nextPage().then(function(e){return n._wrapPaginator(e,t)})},prevPage:function(){return e.prevPage().then(function(e){return n._wrapPaginator(e,t)})}}})}},{key:"getChannels",value:function(e){var t=this;return this.getMap().then(function(t){return t.getItems(e)}).then(function(e){return t._wrapPaginator(e,function(e){return x.default.all(e.map(function(e){return t.upsertChannel("sync",e.key,e.value)}))})})}},{key:"getChannel",value:function(e){var t=this;return this.getMap().then(function(t){return t.getItems({key:e})}).then(function(e){return e.items.map(function(e){return t.upsertChannel("sync",e.key,e.value)})}).then(function(e){return e.length>0?e[0]:null})}},{key:"pushChannel",value:function(e){var t=e.sid,n={name:null,entityName:null,lastConsumedMessageIndex:e.lastConsumedMessageIndex,type:e.type,status:e.status,friendlyName:e.friendlyName,dateUpdated:e.dateUpdated,dateCreated:e.dateCreated,uniqueName:e.uniqueName,createdBy:e.createdBy,attributes:e.attributes,channel:e.channel,sid:t};return this.upsertChannel("chat",t,n)}},{key:"upsertChannel",value:function(e,t,n){var r=this;P.trace("upsertChannel(sid="+t+", data=",n);var i=this.channels.get(t);return i?(P.trace("upsertChannel: channel "+t+" is known and it's status is known from source "+i._statusSource()+" and update came from source "+e,i),"undefined"===typeof i._statusSource()||e===i._statusSource()||"synclist"===e&&"sync"!==i._statusSource()||"sync"===e?"joined"===n.status&&"joined"!==i.status?(i._setStatus("joined",e),"undefined"!==typeof n.lastConsumedMessageIndex&&i._update({lastConsumedMessageIndex:n.lastConsumedMessageIndex}),i._subscribe().then(function(){r.emit("channelJoined",i)})):"invited"===n.status&&"invited"!==i.status?(i._setStatus("invited",e),i._subscribe().then(function(){r.emit("channelInvited",i)})):"known"!==n.status||"invited"!==i.status&&"joined"!==i.status?"notParticipating"!==n.status&&"known"!==n.status||"private"!==n.type?i._update(n):i._subscribe():(i._setStatus("known",e),i._update(n),i._subscribe().then(function(){r.emit("channelLeft",i)})):P.trace("upsertChannel: channel is known from sync and came from chat, ignoring",{sid:t,data:n.status,channel:i.status}),i._subscribe().then(function(){return i})):"chat"!==e&&"synclist"!==e||!this.thumbstones.has(t)?(P.trace("upsertChannel: creating local channel object with sid "+t,n),i=new T.Channel(this.services,n,t),this.registerForEvents(i),this.channels.set(t,i),i._subscribe().then(function(){return r.emit("channelAdded",i),"joined"===n.status?(i._setStatus("joined",e),r.emit("channelJoined",i)):"invited"===n.status&&(i._setStatus("invited",e),r.emit("channelInvited",i)),i})):void P.trace("upsertChannel: channel is deleted and came again from chat, ignoring",t)}},{key:"onChannelRemoved",value:function(e){var t=this.channels.get(e);t&&(this.channels.delete(e),this.emit("channelRemoved",t))}},{key:"registerForEvents",value:function(e){var t=this;e.on("removed",function(){return t.onChannelRemoved(e.sid)}),e.on("updated",function(){return t.emit("channelUpdated",e)}),e.on("memberJoined",this.emit.bind(this,"memberJoined")),e.on("memberLeft",this.emit.bind(this,"memberLeft")),e.on("memberUpdated",this.emit.bind(this,"memberUpdated")),e.on("messageAdded",this.emit.bind(this,"messageAdded")),e.on("messageUpdated",this.emit.bind(this,"messageUpdated")),e.on("messageRemoved",this.emit.bind(this,"messageRemoved")),e.on("typingStarted",this.emit.bind(this,"typingStarted")),e.on("typingEnded",this.emit.bind(this,"typingEnded"))}}]),t}(E.EventEmitter);t.Channels=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(20),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(9),b=r(g),_=function(e,t,n,r){return new(n||(n=b.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var w=n(15),k=n(188),x=n(503),C=function(e){function t(e){(0,f.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return n.services=e,n.fifoStack=[],n.fifoStackMaxLength=100,n.myself=new k.User(null,null,n.services),n.myself.on("updated",function(){return n.emit("userUpdated",n.myself)}),n.myself.on("userSubscribed",function(){return n.emit("userSubscribed",n.myself)}),n.myself.on("userUnsubscribed",function(){n.emit("userUnsubscribed",n.myself),n.myself._ensureFetched()}),n.services=e,n.subscribedUsers=new s.default,n.userDescriptorsPromise=n.services.session.getSessionLinks().then(function(e){return n.userDescriptors=new x.UserDescriptors({users:n,network:n.services.network},e.usersUrl),n.userDescriptors}),n.services.session.getMaxUserInfosToSubscribe().then(function(e){n.fifoStackMaxLength=e}),n.services.session.getUsersData().then(function(e){return n.myself.identity=e.identity,n.myself.entityName=e.user,n.myself._ensureFetched()}),n}return(0,m.default)(t,e),(0,p.default)(t,[{key:"handleUnsubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)&&this.subscribedUsers.delete(e.identity);var t=-1;this.fifoStack.find(function(n,r){return n==e.identity&&(t=r,!0)})&&this.fifoStack.splice(t,1),this.emit("userUnsubscribed",e)}},{key:"handleSubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)||(this.fifoStack.length>=this.fifoStackMaxLength&&this.subscribedUsers.get(this.fifoStack.shift()).unsubscribe(),this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e))}},{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _(this,void 0,void 0,o.default.mark(function n(){var r,i,a=this;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.services.session.getUsersData();case 2:return n.next=4,this.myself._ensureFetched();case 4:if(e!=this.myself.identity){n.next=6;break}return n.abrupt("return",this.myself);case 6:if(r=this.subscribedUsers.get(e)){n.next=19;break}if(t){n.next=13;break}return n.next=11,this.getUserDescriptor(e);case 11:i=n.sent,t=i._getDescriptor().sync_unique_name;case 13:return r=new k.User(e,t,this.services),r.on("updated",function(){return a.emit("userUpdated",r)}),r.on("userSubscribed",function(){return a.handleSubscribeUser(r)}),r.on("userUnsubscribed",function(){return a.handleUnsubscribeUser(r)}),n.next=19,r._ensureFetched();case 19:return n.abrupt("return",r);case 20:case"end":return n.stop()}},n,this)}))}},{key:"getUserDescriptor",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userDescriptorsPromise;case 2:return t.abrupt("return",this.userDescriptors.getUserDescriptor(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"getChannelUserDescriptors",value:function(e){return _(this,void 0,void 0,o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userDescriptorsPromise;case 2:return t.abrupt("return",this.userDescriptors.getChannelUserDescriptors(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"getSubscribedUsers",value:function(){return _(this,void 0,void 0,o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getUsersData();case 2:return e.next=4,this.myself._ensureFetched();case 4:return t=[this.myself],this.subscribedUsers.forEach(function(e){return t.push(e)}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))}}]),t}(w.EventEmitter);t.Users=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(40),h=n(86),v=n(504),y=function(){function e(t,n){(0,s.default)(this,e),this.services=t,this.url=n}return(0,l.default)(e,[{key:"getUserDescriptor",value:function(e){return d(this,void 0,void 0,o.default.mark(function t(){var n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.UriBuilder(this.url).path(e).build(),t.next=3,this.services.network.get(n);case 3:return r=t.sent,t.abrupt("return",new v.UserDescriptor(this.services,r.body));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getChannelUserDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,void 0,void 0,o.default.mark(function n(){var r,i,a=this;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new p.UriBuilder(this.url).arg("ChannelSid",e).arg("PageToken",t.pageToken).build(),n.next=3,this.services.network.get(r);case 3:return i=n.sent,n.abrupt("return",new h.RestPaginator(i.body.users.map(function(e){return new v.UserDescriptor(a.services,e)}),function(t){return a.getChannelUserDescriptors(e,{pageToken:t})},i.body.meta.prev_token,i.body.meta.next_token));case 5:case"end":return n.stop()}},n,this)}))}}]),e}();t.UserDescriptors=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return JSON.parse(e)}catch(e){c.warn("Failed to parse user attributes",e)}return{}}var o=n(0),a=r(o),s=n(1),u=r(s);Object.defineProperty(t,"__esModule",{value:!0});var l=n(26),c=l.Logger.scope("UserDescriptor"),f=function(){function e(t,n){(0,a.default)(this,e),this.services=t,this.descriptor=n,this.identity=n.identity,this.friendlyName=n.friendly_name,this.attributes=i(n.attributes),this.online=n.is_online,this.notifiable=n.is_notifiable}return(0,u.default)(e,[{key:"subscribe",value:function(){return this.services.users.getUser(this.identity,this.descriptor.sync_unique_name)}},{key:"_getDescriptor",value:function(){return this.descriptor}}]),e}();t.UserDescriptor=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(9),o=r(i),a=n(20),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=n(26),p=n(195),h=d.Logger.scope("TypingIndicator"),v=function(){function e(t,n,r){(0,l.default)(this,e),this.config=t,this.services=n,this.getChannel=r,this.serviceTypingTimeout=null,this.sentUpdates=new s.default}return(0,f.default)(e,[{key:"initialize",value:function(){var e=this;this.services.notificationClient.subscribe(p.NotificationTypes.TYPING_INDICATOR,"twilsock"),this.services.notificationClient.on("message",function(t,n){t===p.NotificationTypes.TYPING_INDICATOR&&e.handleRemoteTyping(n)})}},{key:"handleRemoteTyping",value:function(e){var t=this;h.trace("Got new typing indicator ",e),this.getChannel(e.channel_sid).then(function(n){n&&n.members.forEach(function(n){n.identity===e.identity&&n._startTyping(t.typingTimeout)})}).catch(function(e){throw h.error(e),e})}},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?o.default.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;h.trace("Sending typing indicator");var n=this.config.typingIndicatorUri,r={"X-Twilio-Token":this.config.token,"Content-Type":"application/x-www-form-urlencoded"},i="ChannelSid="+e;return this.services.transport.post(n,r,i).then(function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)}).catch(function(e){throw h.error("Failed to send typing indicator:",e),e})}},{key:"typingTimeout",get:function(){return this.config.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.config.typingIndicatorTimeoutDefault}}]),e}();t.TypingIndicator=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(9),o=r(i),a=n(20),s=r(a),u=n(1),l=r(u),c=n(0),f=r(c);Object.defineProperty(t,"__esModule",{value:!0});var d=n(218),p=function(){function e(t){(0,f.default)(this,e),this.services=t,this.consumptionHorizonRequests=new s.default,this.consumptionHorizonUpdateTimer=null}return(0,l.default)(e,[{key:"getReportInterval",value:function(){return this.services.session.getConsumptionReportInterval().then(function(e){return 1e3*e.seconds})}},{key:"delayedSendConsumptionHorizon",value:function(e){var t=this;null===this.consumptionHorizonUpdateTimer&&(this.sendConsumptionReport(!0),this.consumptionHorizonUpdateTimer=setTimeout(function(){t.sendConsumptionReport(!1)},e))}},{key:"sendConsumptionReport",value:function(e){var t=this,n=[],r=new s.default;this.consumptionHorizonRequests.forEach(function(e,t){n.push(e.entry),r.set(t,e.promises)}),n.length>0&&this.services.session.addCommand("consumptionReportV2",{report:n}).then(function(e){return t.processConsumptionReportResponse(e,r)}).catch(function(e){return t.processConsumptionReportError(e,r)}),e||(this.consumptionHorizonUpdateTimer=null),this.consumptionHorizonRequests.clear()}},{key:"processConsumptionReportResponse",value:function(e,t){e&&e.report&&Array.isArray(e.report)&&e.report.length>0&&e.report.forEach(function(e){var n=e;if(t.has(n.channelSid)){var r=null;"undefined"!==typeof n.unreadMessagesCount&&null!=n.unreadMessagesCount&&(r=n.unreadMessagesCount),t.get(n.channelSid).forEach(function(e){return e.resolve(r)}),t.delete(n.channelSid)}}),this.processConsumptionReportError(new d.SessionError("Error while setting LastConsumedMessageIndex",null),t)}},{key:"processConsumptionReportError",value:function(e,t){t.forEach(function(t){return t.forEach(function(t){return t.reject(e)})})}},{key:"updateLastConsumedMessageIndexForChannel",value:function(e,t){var n=this;return new o.default(function(r,i){n.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:r,reject:i}),n.getReportInterval().then(function(e){return n.delayedSendConsumptionHorizon(e)})})}},{key:"advanceLastConsumedMessageIndexForChannel",value:function(e,t,n){var r=this,i=this.consumptionHorizonRequests.get(e);return new o.default(function(o,a){i&&i.entry?i.entry.messageIdx>=t?r.addPendingConsumptionHorizonRequest(e,i.entry,{resolve:o,reject:a}):r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:o,reject:a}):null!==n&&t<n?r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:n},{resolve:o,reject:a}):r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:o,reject:a}),r.getReportInterval().then(function(e){return r.delayedSendConsumptionHorizon(e)})})}},{key:"addPendingConsumptionHorizonRequest",value:function(e,t,n){if(this.consumptionHorizonRequests.has(e)){var r=this.consumptionHorizonRequests.get(e);r.entry=t,r.promises.push(n)}else this.consumptionHorizonRequests.set(e,{entry:t,promises:[n]})}}]),e}();t.ConsumptionHorizon=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(9),f=r(c),d=function(e,t,n,r){return new(n||(n=f.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var p=n(40),h=n(86),v=n(190),y=function(){function e(t,n,r){(0,s.default)(this,e),this.client=t,this.services=n,this.url=r}return(0,l.default)(e,[{key:"getChannels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,void 0,void 0,o.default.mark(function t(){var n,r,i=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.UriBuilder(this.url).arg("PageToken",e.pageToken).build(),t.next=3,this.services.network.get(n);case 3:return r=t.sent,t.abrupt("return",new h.RestPaginator(r.body.channels.map(function(e){return new v.ChannelDescriptor(i.client,e)}),function(e){return i.getChannels({pageToken:e})},r.body.meta.previous_token,r.body.meta.next_token));case 5:case"end":return t.stop()}},t,this)}))}}]),e}();t.UserChannels=y},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){(0,i.default)(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}};t.PushNotification=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.classes,r=e.className,i=e.color,o=(0,c.default)(e,["children","classes","className","color"]),s=(0,v.default)("material-icons",n.root,(0,u.default)({},n["color"+(0,g.capitalizeFirstLetter)(i)],"inherit"!==i),r);return d.default.createElement("span",(0,a.default)({className:s,"aria-hidden":"true"},o),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(34),b=t.styles=function(e){return{root:{userSelect:"none"},colorAccent:{color:e.palette.secondary.A200},colorAction:{color:e.palette.action.active},colorContrast:{color:e.palette.getContrastText(e.palette.primary[500])},colorDisabled:{color:e.palette.action.disabled},colorError:{color:e.palette.error[500]},colorPrimary:{color:e.palette.primary[500]}}};i.propTypes={},i.defaultProps={color:"inherit"},i.muiName="Icon",t.default=(0,m.default)(b,{name:"MuiIcon"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),f=r(c),d=n(1),p=r(d),h=n(6),v=r(h),y=n(7),m=r(y),g=n(2),b=r(g),_=n(3),w=(r(_),n(11)),k=r(w),x=n(173),C=r(x),E=n(83),S=r(E),T=n(12),O=r(T),P=t.styles={root:{position:"relative",width:"100%"},textarea:{width:"100%",height:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit",boxSizing:"border-box",lineHeight:"inherit",border:"none",outline:"none",background:"transparent"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"auto",whiteSpace:"pre-wrap"}},M=function(e){function t(){var e,n,r,i;(0,f.default)(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=(0,v.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(a))),r.state={height:null},r.shadow=null,r.singlelineShadow=null,r.input=null,r.value=null,r.handleResize=(0,C.default)(function(e){r.syncHeightWithShadow(e)},166),r.handleRefInput=function(e){r.input=e,r.props.textareaRef&&r.props.textareaRef(e)},r.handleRefSinglelineShadow=function(e){r.singlelineShadow=e},r.handleRefShadow=function(e){r.shadow=e},r.handleChange=function(e){r.value=e.target.value,"undefined"===typeof r.props.value&&r.shadow&&(r.shadow.value=r.value,r.syncHeightWithShadow(e)),r.props.onChange&&r.props.onChange(e)},i=n,(0,v.default)(r,i)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.value=this.props.value||this.props.defaultValue||"",this.setState({height:24*Number(this.props.rows)})}},{key:"componentDidMount",value:function(){this.syncHeightWithShadow(null)}},{key:"componentWillReceiveProps",value:function(e){e.value===this.props.value&&Number(e.rowsMax)===Number(this.props.rowsMax)||this.syncHeightWithShadow(null,e)}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel()}},{key:"syncHeightWithShadow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;if(this.shadow&&this.singlelineShadow){"undefined"!==typeof this.props.value&&(this.shadow.value=null==t.value?"":String(t.value));var n=this.singlelineShadow.scrollHeight,r=this.shadow.scrollHeight;if(void 0===r)return;Number(t.rowsMax)>=Number(t.rows)&&(r=Math.min(Number(t.rowsMax)*n,r)),r=Math.max(r,n),this.state.height!==r&&this.setState({height:r})}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,r=e.defaultValue,i=(e.onChange,e.rows),a=(e.rowsMax,e.textareaRef,e.value),u=(0,s.default)(e,["classes","className","defaultValue","onChange","rows","rowsMax","textareaRef","value"]);return b.default.createElement("div",{className:t.root,style:{height:this.state.height}},b.default.createElement(S.default,{target:"window",onResize:this.handleResize}),b.default.createElement("textarea",{ref:this.handleRefSinglelineShadow,className:(0,k.default)(t.shadow,t.textarea),tabIndex:-1,rows:"1",readOnly:!0,"aria-hidden":"true",value:""}),b.default.createElement("textarea",{ref:this.handleRefShadow,className:(0,k.default)(t.shadow,t.textarea),tabIndex:-1,rows:i,"aria-hidden":"true",readOnly:!0,defaultValue:r,value:a}),b.default.createElement("textarea",(0,o.default)({rows:i,className:(0,k.default)(t.textarea,n),defaultValue:r,value:a,onChange:this.handleChange,ref:this.handleRefInput},u)))}}]),t}(b.default.Component);M.propTypes={},M.defaultProps={rows:1},t.default=(0,O.default)(P,{name:"MuiTextarea"})(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.children,r=e.component,i=e.classes,o=e.className,s=e.disableTypography,l=e.position,f=(0,c.default)(e,["children","component","classes","className","disableTypography","position"]);return d.default.createElement(r,(0,a.default)({className:(0,v.default)(i.root,(t={},(0,u.default)(t,i.positionStart,"start"===l),(0,u.default)(t,i.positionEnd,"end"===l),t),o)},f),"string"!==typeof n||s?n:d.default.createElement(m.default,{color:"secondary"},n))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(35),m=r(y),g=n(12),b=r(g),_=t.styles=function(e){return{root:{"label + div > &":{marginTop:2*-e.spacing.unit,height:26}},positionStart:{marginRight:e.spacing.unit},positionEnd:{marginLeft:e.spacing.unit}}};i.propTypes={},i.defaultProps={component:"div",disableTypography:!1},t.default=(0,b.default)(_,{name:"MuiInputAdornment"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n,r=e.children,i=e.classes,o=e.className,s=e.disableAnimation,l=e.disabled,f=e.FormControlClasses,p=e.margin,h=e.shrink,v=(0,c.default)(e,["children","classes","className","disableAnimation","disabled","FormControlClasses","margin","shrink"]),m=t.muiFormControl,g=h;"undefined"===typeof g&&m&&(g=m.dirty||m.focused||m.adornedStart);var _=p;"undefined"===typeof _&&m&&(_=m.margin);var w=(0,y.default)(i.root,(n={},(0,u.default)(n,i.formControl,m),(0,u.default)(n,i.animated,!s),(0,u.default)(n,i.shrink,g),(0,u.default)(n,i.disabled,l),(0,u.default)(n,i.labelDense,"dense"===_),n),o);return d.default.createElement(b.FormLabel,(0,a.default)({"data-shrink":g,className:w,classes:f},v),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=r(p),v=n(11),y=r(v),m=n(12),g=r(m),b=n(513),_=t.styles=function(e){return{root:{transformOrigin:"top left"},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, "+(3*e.spacing.unit-1)+"px) scale(1)"},labelDense:{transform:"translate(0, "+(2.5*e.spacing.unit+1)+"px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},disabled:{color:e.palette.input.disabled}}};i.propTypes={},i.defaultProps={disabled:!1,disableAnimation:!1},i.contextTypes={muiFormControl:h.default.object},t.default=(0,g.default)(_,{name:"MuiInputLabel"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(514);Object.defineProperty(t,"FormGroup",{enumerable:!0,get:function(){return r(i).default}});var o=n(515);Object.defineProperty(t,"FormLabel",{enumerable:!0,get:function(){return r(o).default}});var a=n(516);Object.defineProperty(t,"FormControl",{enumerable:!0,get:function(){return r(a).default}});var s=n(517);Object.defineProperty(t,"FormHelperText",{enumerable:!0,get:function(){return r(s).default}});var u=n(518);Object.defineProperty(t,"FormControlLabel",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classes,n=e.className,r=e.children,i=e.row,o=(0,c.default)(e,["classes","className","children","row"]),s=(0,v.default)(t.root,(0,u.default)({},t.row,i),n);return d.default.createElement("div",(0,a.default)({className:s},o),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=t.styles={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}};i.propTypes={},i.defaultProps={row:!1},t.default=(0,m.default)(g,{name:"MuiFormGroup"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n,r=e.children,i=e.classes,o=e.className,s=e.component,l=e.disabled,f=e.error,p=e.focused,h=e.required,v=(0,c.default)(e,["children","classes","className","component","disabled","error","focused","required"]),m=t.muiFormControl,g=h,b=p,_=l,w=f;m&&("undefined"===typeof g&&(g=m.required),"undefined"===typeof b&&(b=m.focused),"undefined"===typeof _&&(_=m.disabled),"undefined"===typeof w&&(w=m.error));var k=(0,y.default)(i.root,(n={},(0,u.default)(n,i.focused,b),(0,u.default)(n,i.disabled,_),(0,u.default)(n,i.error,w),n),o),x=(0,y.default)((0,u.default)({},i.error,w));return d.default.createElement(s,(0,a.default)({className:k},v),r,g&&d.default.createElement("span",{className:x},"\u2009*"))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=r(p),v=n(11),y=r(v),m=n(12),g=r(m),b=t.styles=function(e){var t=e.palette.primary["light"===e.palette.type?"A700":"A200"];return{root:{fontFamily:e.typography.fontFamily,color:e.palette.input.labelText,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0},focused:{color:t},error:{color:e.palette.error.A400},disabled:{color:e.palette.input.disabled}}};i.propTypes={},i.defaultProps={component:"label"},i.contextTypes={muiFormControl:h.default.object},t.default=(0,g.default)(b,{name:"MuiFormLabel"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(4),o=r(i),a=n(10),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=r(k),C=n(11),E=r(C),S=n(12),T=r(S),O=n(223),P=n(131),M=t.styles=function(e){return{root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0},marginNormal:{marginTop:2*e.spacing.unit,marginBottom:e.spacing.unit},marginDense:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit/2},fullWidth:{width:"100%"}}},j=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e,n));r.state={adornedStart:!1,dirty:!1,focused:!1},r.handleFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.state.focused||r.setState({focused:!0})},r.handleBlur=function(e){r.props.onBlur&&e&&r.props.onBlur(e),r.state.focused&&r.setState({focused:!1})},r.handleDirty=function(){r.state.dirty||r.setState({dirty:!0})},r.handleClean=function(){r.state.dirty&&r.setState({dirty:!1})};var i=r.props.children;return i&&w.default.Children.forEach(i,function(e){(0,P.isMuiElement)(e,["Input","Select"])&&(0,O.isDirty)(e.props,!0)&&(r.state.dirty=!0),(0,P.isMuiElement)(e,["Input"])&&(0,O.isAdornedStart)(e.props)&&(r.state.adornedStart=!0)}),r}return(0,b.default)(t,e),(0,v.default)(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.disabled,n=e.error,r=e.required,i=e.margin,o=this.state;return{muiFormControl:{adornedStart:o.adornedStart,dirty:o.dirty,disabled:t,error:n,focused:o.focused,margin:i,required:r,onDirty:this.handleDirty,onClean:this.handleClean,onFocus:this.handleFocus,onBlur:this.handleBlur}}}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.classes,i=t.className,a=t.component,u=void 0===a?"div":a,c=(t.disabled,t.error,t.fullWidth),f=t.margin,d=(0,l.default)(t,["children","classes","className","component","disabled","error","fullWidth","margin"]);return w.default.createElement(u,(0,o.default)({className:(0,E.default)(r.root,(e={},(0,s.default)(e,r.marginNormal,"normal"===f),(0,s.default)(e,r.marginDense,"dense"===f),(0,s.default)(e,r.fullWidth,c),e),i)},d,{onFocus:this.handleFocus,onBlur:this.handleBlur}),n)}}]),t}(w.default.Component);j.propTypes={},j.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1},j.childContextTypes={muiFormControl:x.default.object.isRequired},t.default=(0,T.default)(M,{name:"MuiFormControl"})(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n,r=e.children,i=e.classes,o=e.className,s=e.disabled,l=e.error,f=e.margin,p=(0,c.default)(e,["children","classes","className","disabled","error","margin"]),h=t.muiFormControl,v=s,m=l,g=f;h&&("undefined"===typeof v&&(v=h.disabled),"undefined"===typeof m&&(m=h.error),"undefined"===typeof g&&(g=h.margin));var b=(0,y.default)(i.root,(n={},(0,u.default)(n,i.disabled,v),(0,u.default)(n,i.error,m),(0,u.default)(n,i.dense,"dense"===g),n),o);return d.default.createElement("p",(0,a.default)({className:b},p),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=r(p),v=n(11),y=r(v),m=n(12),g=r(m),b=t.styles=function(e){return{root:{color:e.palette.input.helperText,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),textAlign:"left",marginTop:e.spacing.unit,lineHeight:"1em",minHeight:"1em",margin:0},dense:{marginTop:e.spacing.unit/2},error:{color:e.palette.error.A400},disabled:{color:e.palette.input.disabled}}};i.propTypes={},i.contextTypes={muiFormControl:h.default.object},t.default=(0,g.default)(b,{name:"MuiFormHelperText"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.checked,r=e.classes,i=e.className,o=e.control,s=e.disabled,l=e.inputRef,f=e.label,p=e.name,h=e.onChange,v=e.value,m=(0,c.default)(e,["checked","classes","className","control","disabled","inputRef","label","name","onChange","value"]),g=t.muiFormControl,b=s;"undefined"!==typeof o.props.disabled&&"undefined"===typeof b&&(b=o.props.disabled),g&&"undefined"===typeof b&&(b=g.disabled);var w=(0,y.default)(r.root,(0,u.default)({},r.disabled,b),i);return d.default.createElement("label",(0,a.default)({className:w},m),d.default.cloneElement(o,{disabled:b,checked:"undefined"===typeof o.props.checked?n:o.props.checked,name:o.props.name||p,onChange:o.props.onChange||h,value:o.props.value||v,inputRef:o.props.inputRef||l}),d.default.createElement(_.default,{component:"span",className:r.label},f))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=r(p),v=n(11),y=r(v),m=n(12),g=r(m),b=n(35),_=r(b),w=t.styles=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:e.palette.common.transparent,marginLeft:-14,marginRight:2*e.spacing.unit},disabled:{color:e.palette.text.disabled,cursor:"default"},label:{userSelect:"none"}}};i.propTypes={},i.contextTypes={muiFormControl:h.default.object},t.default=(0,g.default)(w,{name:"MuiFormControlLabel"})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(4),o=r(i),a=n(10),s=r(a),u=n(8),l=r(u),c=n(5),f=r(c),d=n(0),p=r(d),h=n(1),v=r(h),y=n(6),m=r(y),g=n(7),b=r(g),_=n(2),w=r(_),k=n(3),x=r(k),C=n(11),E=r(C),S=n(12),T=r(S),O=t.styles=function(e){return{root:{flex:"1 1 auto",listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit},dense:{paddingTop:e.spacing.unit/2,paddingBottom:e.spacing.unit/2},subheader:{paddingTop:0}}},P=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,v.default)(t,[{key:"getChildContext",value:function(){return{dense:this.props.dense}}},{key:"render",value:function(){var e,t=this.props,n=t.classes,r=t.className,i=t.component,a=t.disablePadding,u=t.children,c=t.dense,f=t.subheader,d=t.rootRef,p=(0,l.default)(t,["classes","className","component","disablePadding","children","dense","subheader","rootRef"]),h=(0,E.default)(n.root,(e={},(0,s.default)(e,n.dense,c&&!a),(0,s.default)(e,n.padding,!a),(0,s.default)(e,n.subheader,f),e),r);return w.default.createElement(i,(0,o.default)({className:h,ref:d},p),f,u)}}]),t}(w.default.Component);P.propTypes={},P.defaultProps={component:"ul",dense:!1,disablePadding:!1},P.childContextTypes={dense:x.default.bool},t.default=(0,T.default)(O,{name:"MuiList"})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(521);Object.defineProperty(t,"CircularProgress",{enumerable:!0,get:function(){return r(i).default}});var o=n(522);Object.defineProperty(t,"LinearProgress",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return(Math.min(Math.max(t,e),n)-t)/(n-t)}function o(e){var t,n=e.classes,r=e.className,o=e.color,a=e.max,u=e.min,c=e.mode,d=e.size,h=e.style,v=e.thickness,m=e.value,g=(0,f.default)(e,["classes","className","color","max","min","mode","size","style","thickness","value"]),_={},w={};if("determinate"===c){var k=100*i(m,u,a),x=2*Math.PI*(b/2-5);w.strokeDashoffset=Math.round((100-k)/100*x*1e3)/1e3+"px",w.strokeDasharray=Math.round(1e3*x)/1e3,_["aria-valuenow"]=m,_["aria-valuemin"]=u,_["aria-valuemax"]=a}return p.default.createElement("div",(0,l.default)({className:(0,y.default)(n.root,"inherit"!==o&&n[o+"Color"],r),style:(0,l.default)({width:d,height:d},h),role:"progressbar"},_,g),p.default.createElement("svg",{className:(0,y.default)((t={},(0,s.default)(t,n.svgIndeterminate,"indeterminate"===c),(0,s.default)(t,n.svgDeterminate,"determinate"===c),t)),viewBox:"0 0 "+b+" "+b},p.default.createElement("circle",{className:(0,y.default)(n.circle,(0,s.default)({},n.circleIndeterminate,"indeterminate"===c)),style:w,cx:b/2,cy:b/2,r:b/2-5,fill:"none",strokeWidth:v})))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var a=n(10),s=r(a),u=n(4),l=r(u),c=n(8),f=r(c),d=n(2),p=r(d),h=n(3),v=(r(h),n(11)),y=r(v),m=n(12),g=r(m),b=50,_=t.styles=function(e){return{root:{display:"inline-block"},primaryColor:{color:e.palette.primary[500]},accentColor:{color:e.palette.secondary.A200},svgIndeterminate:{animation:"mui-progress-circular-rotate 1.4s linear infinite"},svgDeterminate:{transform:"rotate(-90deg)"},circle:{stroke:"currentColor",strokeLinecap:"round"},circleIndeterminate:{animation:"mui-progress-circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80,200",strokeDashoffset:0},"@keyframes mui-progress-circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes mui-progress-circular-dash":{"0%":{strokeDasharray:"1,200",strokeDashoffset:0},"50%":{strokeDasharray:"100,200",strokeDashoffset:-15},"100%":{strokeDasharray:"100,200",strokeDashoffset:-120}}}};o.propTypes={},o.defaultProps={color:"primary",max:100,min:0,mode:"indeterminate",size:40,thickness:3.6,value:0},t.default=(0,g.default)(_,{name:"MuiCircularProgress",flip:!1})(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n,r,i,o=e.classes,s=e.className,l=e.color,f=e.mode,p=e.value,h=e.valueBuffer,y=(0,c.default)(e,["classes","className","color","mode","value","valueBuffer"]),m=(0,v.default)(o.dashed,(t={},(0,u.default)(t,o.primaryDashed,"primary"===l),(0,u.default)(t,o.accentDashed,"accent"===l),t)),g=(0,v.default)(o.root,(n={},(0,u.default)(n,o.primaryColor,"primary"===l),(0,u.default)(n,o.accentColor,"accent"===l),(0,u.default)(n,o.rootBuffer,"buffer"===f),(0,u.default)(n,o.rootQuery,"query"===f),n),s),b=(0,v.default)(o.bar,(r={},(0,u.default)(r,o.primaryColorBar,"primary"===l),(0,u.default)(r,o.accentColorBar,"accent"===l),(0,u.default)(r,o.indeterminateBar1,"indeterminate"===f||"query"===f),(0,u.default)(r,o.determinateBar1,"determinate"===f),(0,u.default)(r,o.bufferBar1,"buffer"===f),r)),_=(0,v.default)(o.bar,(i={},(0,u.default)(i,o.bufferBar2,"buffer"===f),(0,u.default)(i,o.primaryColorBar,"primary"===l&&"buffer"!==f),(0,u.default)(i,o.primaryColor,"primary"===l&&"buffer"===f),(0,u.default)(i,o.accentColorBar,"accent"===l&&"buffer"!==f),(0,u.default)(i,o.accentColor,"accent"===l&&"buffer"===f),(0,u.default)(i,o.indeterminateBar2,"indeterminate"===f||"query"===f),i)),w={primary:{},secondary:{}},k={};return"determinate"===f?void 0!==p&&(w.primary.transform="scaleX("+p/100+")",k["aria-valuenow"]=Math.round(p)):"buffer"===f&&void 0!==p&&(w.primary.transform="scaleX("+p/100+")",w.secondary.transform="scaleX("+(h||0)/100+")"),d.default.createElement("div",(0,a.default)({className:g},k,y),"buffer"===f?d.default.createElement("div",{className:m}):null,d.default.createElement("div",{className:b,style:w.primary}),"determinate"===f?null:d.default.createElement("div",{className:_,style:w.secondary}))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(17),m=(r(y),n(12)),g=r(m),b=t.styles=function(e){return{root:{position:"relative",overflow:"hidden",height:5},primaryColor:{backgroundColor:e.palette.primary[100]},primaryColorBar:{backgroundColor:e.palette.primary[500]},primaryDashed:{background:"radial-gradient("+e.palette.primary[100]+" 0%, "+e.palette.primary[100]+" 16%, transparent 42%)",backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},accentColor:{backgroundColor:e.palette.secondary.A100},accentColorBar:{backgroundColor:e.palette.secondary.A400},accentDashed:{background:"radial-gradient("+e.palette.secondary.A100+" 0%, "+e.palette.secondary.A100+" 16%, transparent 42%)",backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"buffer 3s infinite linear"},bufferBar2:{transition:"transform .4s linear"},rootBuffer:{backgroundColor:"transparent"},rootQuery:{transform:"rotate(180deg)"},indeterminateBar1:{width:"auto",willChange:"left, right",animation:"mui-indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},indeterminateBar2:{width:"auto",willChange:"left, right",animation:"mui-indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite",animationDelay:"1.15s"},determinateBar1:{willChange:"transform",transition:"transform .4s linear"},bufferBar1:{zIndex:1,transition:"transform .4s linear"},bufferBar2Primary:{transition:"transform .4s linear",backgroundColor:e.palette.primary[100]},bufferBar2Accent:{transition:"transform .4s linear",backgroundColor:e.palette.secondary.A100},"@keyframes mui-indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes mui-indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}};i.propTypes={},i.defaultProps={color:"primary",mode:"indeterminate"},t.default=(0,g.default)(b,{name:"MuiLinearProgress"})(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light"};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(525);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}});var o=n(224);Object.defineProperty(t,"SnackbarContent",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(8),o=r(i),a=n(5),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),d=n(6),p=r(d),h=n(7),v=r(h),y=n(10),m=r(y),g=n(4),b=r(g),_=n(2),w=r(_),k=n(3),x=(r(k),n(11)),C=r(x),E=n(83),S=r(E),T=n(12),O=r(T),P=n(61),M=n(526),j=r(M),R=n(34),A=n(172),N=r(A),I=n(224),D=r(I),F=t.styles=function(e){var t=3*e.spacing.unit,n={top:0},r={bottom:0},i={justifyContent:"flex-end"},o={justifyContent:"flex-start"},a={top:t},s={bottom:t},u={right:t},l={left:t},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:0,right:0,justifyContent:"center",alignItems:"center"},anchorTopCenter:(0,b.default)({},n,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({},c))),anchorBottomCenter:(0,b.default)({},r,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({},c))),anchorTopRight:(0,b.default)({},n,i,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({left:"auto"},a,u))),anchorBottomRight:(0,b.default)({},r,i,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({left:"auto"},s,u))),anchorTopLeft:(0,b.default)({},n,o,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({right:"auto"},a,l))),anchorBottomLeft:(0,b.default)({},r,o,(0,m.default)({},e.breakpoints.up("md"),(0,b.default)({right:"auto"},s,l)))}},L=function(e){function t(){var e,n,r,i;(0,l.default)(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(a))),r.state={exited:!1},r.timerAutoHide=null,r.handleMouseEnter=function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()},r.handleMouseLeave=function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()},r.handleClickAway=function(e){r.props.onClose&&r.props.onClose(e,"clickaway")},r.handlePause=function(){clearTimeout(r.timerAutoHide)},r.handleResume=function(){if(null!=r.props.autoHideDuration){if(void 0!==r.props.resumeHideDuration)return void r.setAutoHideTimer(r.props.resumeHideDuration);r.setAutoHideTimer(.5*(r.props.autoHideDuration||0))}},r.handleExited=function(){r.setState({exited:!0})},i=n,(0,p.default)(r,i)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.props.open||this.setState({exited:!0})}},{key:"componentDidMount",value:function(){this.props.open&&this.setAutoHideTimer()}},{key:"componentWillReceiveProps",value:function(e){e.open&&this.setState({exited:!1})}},{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDuration&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){e.props.onClose&&null!=e.props.autoHideDuration&&e.props.onClose(null,"timeout")},t||this.props.autoHideDuration||0))}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.anchorOrigin,r=n.vertical,i=n.horizontal,a=(e.autoHideDuration,e.children),s=e.classes,u=e.className,l=e.message,c=(e.onClose,e.onEnter),f=e.onEntered,d=e.onEntering,p=e.onExit,h=e.onExited,v=e.onExiting,y=(e.onMouseEnter,e.onMouseLeave,e.open),m=(e.resumeHideDuration,e.SnackbarContentProps),g=e.transition,_=e.transitionDuration,k=(0,o.default)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","SnackbarContentProps","transition","transitionDuration"]);if(!y&&this.state.exited)return null;var x={in:y,appear:!0,timeout:_,onEnter:c,onEntering:d,onEntered:f,onExit:p,onExiting:v,onExited:(0,R.createChainedFunction)(this.handleExited,h)},E=a||w.default.createElement(D.default,(0,b.default)({message:l,action:t},m)),T=void 0;return T=g?w.default.createElement(g,x,E):w.default.createElement(N.default,(0,b.default)({direction:"top"===r?"down":"up"},x),E),w.default.createElement(S.default,{target:"window",onFocus:this.handleResume,onBlur:this.handlePause},w.default.createElement(j.default,{onClickAway:this.handleClickAway},w.default.createElement("div",(0,b.default)({className:(0,C.default)(s.root,s["anchor"+(0,R.capitalizeFirstLetter)(r)+(0,R.capitalizeFirstLetter)(i)],u),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},k),T)))}}]),t}(w.default.Component);L.propTypes={},L.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"center"},transitionDuration:{enter:P.duration.enteringScreen,exit:P.duration.leavingScreen}},t.default=(0,O.default)(F,{flip:!1,name:"MuiSnackbar"})(L)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(6),f=r(c),d=n(7),p=r(d),h=n(2),v=r(h),y=n(3),m=(r(y),n(27)),g=n(83),b=r(g),_=function e(t,n){return!(null===n||!n.parentNode)&&(t===n||e(t,n.parentNode))},w=function(e){function t(){var e,n,r,i;(0,s.default)(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=(0,f.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(u))),r.mounted=!1,r.handleClickAway=function(e){if(!e.defaultPrevented&&r.mounted){var t=(0,m.findDOMNode)(r);e.target instanceof HTMLElement&&document.documentElement&&document.documentElement.contains(e.target)&&!_(t,e.target)&&r.props.onClickAway(e)}},i=n,(0,f.default)(r,i)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return v.default.createElement(b.default,{target:"document",onMouseup:this.handleClickAway,onTouchend:this.handleClickAway},this.props.children)}}]),t}(v.default.Component);w.propTypes={},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(528);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.buttonRef,r=e.children,i=e.classes,o=e.className,s=e.color,l=e.disabled,f=e.rootRef,p=(0,c.default)(e,["buttonRef","children","classes","className","color","disabled","rootRef"]);return d.default.createElement(b.default,(0,a.default)({className:(0,v.default)(i.root,(t={},(0,u.default)(t,i["color"+(0,_.capitalizeFirstLetter)(s)],"default"!==s),(0,u.default)(t,i.disabled,l),t),o),centerRipple:!0,keyboardFocusedClassName:i.keyboardFocused,disabled:l,rootRef:n,ref:f},p),d.default.createElement("span",{className:i.label},"string"===typeof r?d.default.createElement(k.default,{className:i.icon},r):d.default.Children.map(r,function(e){return(0,x.isMuiElement)(e,["Icon","SvgIcon"])?d.default.cloneElement(e,{className:(0,v.default)(i.icon,e.props.className)}):e})))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(4),a=r(o),s=n(10),u=r(s),l=n(8),c=r(l),f=n(2),d=r(f),p=n(3),h=(r(p),n(11)),v=r(h),y=n(12),m=r(y),g=n(177),b=r(g),_=n(34),w=n(221),k=r(w),x=n(131);n(63);var C=t.styles=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),width:6*e.spacing.unit,height:6*e.spacing.unit,padding:0,borderRadius:"50%",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},colorAccent:{color:e.palette.secondary.A200},colorContrast:{color:e.palette.getContrastText(e.palette.primary[500])},colorPrimary:{color:e.palette.primary[500]},colorInherit:{color:"inherit"},disabled:{color:e.palette.action.disabled},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"},icon:{width:"1em",height:"1em"},keyboardFocused:{backgroundColor:e.palette.text.divider}}};i.propTypes={},i.defaultProps={color:"default",disabled:!1,disableRipple:!1},t.default=(0,m.default)(C,{name:"MuiIconButton"})(i)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(85),s=r(a),u=n(63),l=r(u),c=e.__MUI_SvgIcon__||l.default,f=o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),d=function(e){return o.default.createElement(c,e,f)};d=(0,s.default)(d),d.muiName="SvgIcon",t.default=d}).call(t,n(18))},function(e,t,n){"use strict";function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(23),o=n(225),a=n(532),s=n(132),u=r(s);u.Axios=a,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(229),u.CancelToken=n(546),u.isCancel=n(228),u.all=function(e){return Promise.all(e)},u.spread=n(547),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(132),o=n(23),a=n(541),s=n(542);r.prototype.request=function(e){"string"===typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(227);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(23);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(23),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(23);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(23);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(23);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(23),o=n(543),a=n(228),s=n(132),u=n(544),l=n(545);e.exports=function(e){return r(e),e.baseURL&&!u(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(229);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n.n(a),u=n(120),l=n.n(u),c=n(222),f=n.n(c),d=n(84),p=n.n(d),h=n(549),v=n.n(h),y=n(35),m=n.n(y),g=n(52),b=(n.n(g),n(550)),_=(n.n(b),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w=function(e){return{container:{display:"flex",flexWrap:"wrap",width:"100%"},input:{marginLeft:e.spacing.unit-20,marginRight:e.spacing.unit-20,width:100},root:e.mixins.gutters({paddingTop:16,paddingBottom:16,marginTop:3*e.spacing.unit,width:120})}},k=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={historyMessages:[],newMessages:[],inputmassage:""},n.submitHandler=n.submitHandler.bind(n),n.textChangeHandler=n.textChangeHandler.bind(n),n.scrollToBottom=n.scrollToBottom.bind(n),n}return o(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){if(e!==this.props){this.props.currentChannel.removeAllListeners();var t=[],n=e.currentChannel,r=this.setState.bind(this),i=this.scrollToBottom.bind(this);n.getMessages().then(function(e){r({newMessages:[]}),r({historyMessages:e.items}),i()}),n.on("messageAdded",function(e){t=t.concat(e),r({newMessages:t}),i()})}}},{key:"componentDidMount",value:function(){var e=this.props.currentChannel,t=[],n=this.setState.bind(this),r=this.scrollToBottom.bind(this);e.getMessages().then(function(e){console.log("didMount"),console.log(e.items),n({historyMessages:e.items}),r()}),e.on("messageAdded",function(e){console.log("didMount"),console.log(e),t=t.concat(e),n({newMessages:t}),r()})}},{key:"componentWillUnmount",value:function(){this.props.currentChannel.removeListener("messageAdded")}},{key:"scrollToBottom",value:function(){this.scrollbar.scrollToBottom()}},{key:"submitHandler",value:function(e){this.props.currentChannel.sendMessage(this.state.inputmassage),this.setState({inputmassage:""}),this.scrollToBottom(),e.preventDefault()}},{key:"textChangeHandler",value:function(e){this.setState({inputmassage:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,n=this.props.currentChannel,r=this.props.currentUser;return n?s.a.createElement("div",{id:"chat window"},s.a.createElement(l.a,null),s.a.createElement(b.Scrollbars,{style:{width:"100%",height:650},ref:function(t){e.scrollbar=t}},s.a.createElement("div",{id:"historymessages"},this.state.historyMessages.map(function(e){return e.author===r?s.a.createElement("div",null,s.a.createElement(m.a,{align:"right",color:"primary",type:"display2"},e.body),s.a.createElement(m.a,{align:"right",color:"primary",type:"caption"},e.timestamp.toLocaleString())):s.a.createElement("div",null,s.a.createElement(m.a,{align:"left",color:"sceondary",type:"display2"},e.body),s.a.createElement(m.a,{align:"left",color:"sceondary",type:"caption"},e.timestamp.toLocaleString()))})),s.a.createElement("div",{id:"newmessage"},this.state.newMessages.map(function(e){return e.author===r?s.a.createElement("div",null,s.a.createElement(m.a,{align:"right",color:"primary",type:"display2"},e.body),s.a.createElement(m.a,{align:"right",color:"primary",type:"caption"},e.timestamp.toLocaleString())):s.a.createElement("div",null,s.a.createElement(m.a,{align:"left",color:"sceondary",type:"display2"},e.body),s.a.createElement(m.a,{align:"left",color:"sceondary",type:"caption"},e.timestamp.toLocaleString()))})),s.a.createElement(l.a,null)),s.a.createElement("div",{id:"typewindow"},s.a.createElement("form",{id:"type window form",className:"chat-input",onSubmit:this.submitHandler},s.a.createElement("div",{id:"type window container",className:t.container},s.a.createElement(c.InputLabel,{htmlFor:"chat-input"}),s.a.createElement(f.a,{multiline:!0,className:t.input,onChange:this.textChangeHandler,value:this.state.inputmassage,id:"chat-input",placeholder:"Write a message...",required:!0}),s.a.createElement(p.a,{color:"primary",type:"submit"},s.a.createElement(v.a,null)))))):s.a.createElement(m.a,{align:"right",color:"Error",type:"caption"},"Select or create a channle to start;")}}]),t}(s.a.Component);t.a=Object(g.withStyles)(w)(k)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(85),s=r(a),u=n(63),l=r(u),c=e.__MUI_SvgIcon__||l.default,f=o.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),d=function(e){return o.default.createElement(c,e,f)};d=(0,s.default)(d),d.muiName="SvgIcon",t.default=d}).call(t,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var r=n(551),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default,t.Scrollbars=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(552),f=r(c),d=n(230),p=r(d),h=n(2),v=n(3),y=r(v),m=n(559),g=r(m),b=n(560),_=r(b),w=n(561),k=r(w),x=n(562),C=r(x),E=n(563),S=r(E),T=n(564),O=n(565),P=function(e){function t(e){var n;o(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var u=a(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return u.getScrollLeft=u.getScrollLeft.bind(u),u.getScrollTop=u.getScrollTop.bind(u),u.getScrollWidth=u.getScrollWidth.bind(u),u.getScrollHeight=u.getScrollHeight.bind(u),u.getClientWidth=u.getClientWidth.bind(u),u.getClientHeight=u.getClientHeight.bind(u),u.getValues=u.getValues.bind(u),u.getThumbHorizontalWidth=u.getThumbHorizontalWidth.bind(u),u.getThumbVerticalHeight=u.getThumbVerticalHeight.bind(u),u.getScrollLeftForOffset=u.getScrollLeftForOffset.bind(u),u.getScrollTopForOffset=u.getScrollTopForOffset.bind(u),u.scrollLeft=u.scrollLeft.bind(u),u.scrollTop=u.scrollTop.bind(u),u.scrollToLeft=u.scrollToLeft.bind(u),u.scrollToTop=u.scrollToTop.bind(u),u.scrollToRight=u.scrollToRight.bind(u),u.scrollToBottom=u.scrollToBottom.bind(u),u.handleTrackMouseEnter=u.handleTrackMouseEnter.bind(u),u.handleTrackMouseLeave=u.handleTrackMouseLeave.bind(u),u.handleHorizontalTrackMouseDown=u.handleHorizontalTrackMouseDown.bind(u),u.handleVerticalTrackMouseDown=u.handleVerticalTrackMouseDown.bind(u),u.handleHorizontalThumbMouseDown=u.handleHorizontalThumbMouseDown.bind(u),u.handleVerticalThumbMouseDown=u.handleVerticalThumbMouseDown.bind(u),u.handleWindowResize=u.handleWindowResize.bind(u),u.handleScroll=u.handleScroll.bind(u),u.handleDrag=u.handleDrag.bind(u),u.handleDragEnd=u.handleDragEnd.bind(u),u.state={didMountUniversal:!1},u}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,c.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,u=void 0===s?0:s,l=e.clientWidth,c=void 0===l?0:l,f=e.clientHeight,d=void 0===f?0:f;return{left:n/(a-c)||0,top:i/(u-d)||0,scrollLeft:n,scrollTop:i,scrollWidth:a,scrollHeight:u,clientWidth:c,clientHeight:d}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,o=r.clientWidth,a=(0,C.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,o=r.clientHeight,a=(0,S.default)(this.trackVertical),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,C.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,S.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,_.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,_.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update(function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect(),i=r.left,o=this.getThumbHorizontalWidth(),a=Math.abs(i-n)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect(),i=r.top,o=this.getThumbVerticalHeight(),a=Math.abs(i-n)-o/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect(),o=i.left;this.prevPageX=r-(n-o)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect(),o=i.top;this.prevPageY=r-(n-o)}},{key:"setupDragging",value:function(){(0,p.default)(document.body,T.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=k.default}},{key:"teardownDragging",value:function(){(0,p.default)(document.body,T.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=this.trackHorizontal.getBoundingClientRect(),r=n.left,i=this.getThumbHorizontalWidth(),o=i-this.prevPageX,a=-r+t-o;this.view.scrollLeft=this.getScrollLeftForOffset(a)}if(this.prevPageY){var s=e.clientY,u=this.trackVertical.getBoundingClientRect(),l=u.top,c=this.getThumbVerticalHeight(),f=c-this.prevPageY,d=-l+s-f;this.view.scrollTop=this.getScrollTopForOffset(d)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,p.default)(this.trackHorizontal,{opacity:1}),(0,p.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,p.default)(e.trackHorizontal,{opacity:0}),(0,p.default)(e.trackVertical,{opacity:0})},t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&f.default.cancel(this.requestFrame),this.requestFrame=(0,f.default)(function(){t.requestFrame=void 0,e()})}},{key:"update",value:function(e){var t=this;this.raf(function(){return t._update(e)})}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,_.default)()){var o=i.scrollLeft,a=i.clientWidth,s=i.scrollWidth,u=(0,C.default)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),c=o/(s-a)*(u-l),f={width:l,transform:"translateX("+c+"px)"},d=i.scrollTop,h=i.clientHeight,v=i.scrollHeight,y=(0,S.default)(this.trackVertical),m=this.getThumbVerticalHeight(),g=d/(v-h)*(y-m),b={height:m,transform:"translateY("+g+"px)"};if(r){var w={visibility:s>a?"visible":"hidden"},k={visibility:v>h?"visible":"hidden"};(0,p.default)(this.trackHorizontal,w),(0,p.default)(this.trackVertical,k)}(0,p.default)(this.thumbHorizontal,f),(0,p.default)(this.thumbVertical,b)}n&&n(i),"function"===typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,_.default)(),n=this.props,r=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),o=n.renderTrackHorizontal,a=n.renderTrackVertical,s=n.renderThumbHorizontal,l=n.renderThumbVertical,c=n.tagName,f=(n.hideTracksWhenNotNeeded,n.autoHide),d=(n.autoHideTimeout,n.autoHideDuration),p=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,y=n.autoHeightMin,m=n.autoHeightMax,b=n.style,w=n.children,k=i(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),x=this.state.didMountUniversal,C=u({},T.containerStyleDefault,v&&u({},T.containerStyleAutoHeight,{minHeight:y,maxHeight:m}),b),E=u({},T.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&u({},T.viewStyleAutoHeight,{minHeight:(0,g.default)(y)?"calc("+y+" + "+t+"px)":y+t,maxHeight:(0,g.default)(m)?"calc("+m+" + "+t+"px)":m+t}),v&&p&&!x&&{minHeight:y,maxHeight:m},p&&!x&&T.viewStyleUniversalInitial),S={transition:"opacity "+d+"ms",opacity:0},O=u({},T.trackHorizontalStyleDefault,f&&S,(!t||p&&!x)&&{display:"none"}),P=u({},T.trackVerticalStyleDefault,f&&S,(!t||p&&!x)&&{display:"none"});return(0,h.createElement)(c,u({},k,{style:C,ref:function(t){e.container=t}}),[(0,h.cloneElement)(r({style:E}),{key:"view",ref:function(t){e.view=t}},w),(0,h.cloneElement)(o({style:O}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,h.cloneElement)(s({style:T.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,h.cloneElement)(a({style:P}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,h.cloneElement)(l({style:T.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(h.Component);t.default=P,P.propTypes={onScroll:y.default.func,onScrollFrame:y.default.func,onScrollStart:y.default.func,onScrollStop:y.default.func,onUpdate:y.default.func,renderView:y.default.func,renderTrackHorizontal:y.default.func,renderTrackVertical:y.default.func,renderThumbHorizontal:y.default.func,renderThumbVertical:y.default.func,tagName:y.default.string,thumbSize:y.default.number,thumbMinSize:y.default.number,hideTracksWhenNotNeeded:y.default.bool,autoHide:y.default.bool,autoHideTimeout:y.default.number,autoHideDuration:y.default.number,autoHeight:y.default.bool,autoHeightMin:y.default.oneOfType([y.default.number,y.default.string]),autoHeightMax:y.default.oneOfType([y.default.number,y.default.string]),universal:y.default.bool,style:y.default.object,children:y.default.node},P.defaultProps={renderView:O.renderViewDefault,renderTrackHorizontal:O.renderTrackHorizontalDefault,renderTrackVertical:O.renderTrackVerticalDefault,renderThumbHorizontal:O.renderThumbHorizontalDefault,renderThumbVertical:O.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,n){(function(t){for(var r=n(553),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(t,n(18))},function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(t,n(65))},function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=r.length;o>=0;o--){var a=r[o]+i;if(a in t)return a}return!1}},function(e,t,n){function r(e){return i(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var i=n(556);e.exports=r},function(e,t,n){function r(e){return i(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var i=n(557);e.exports=r},function(e,t){function n(e){return o.test(e)?e.toLowerCase():a.test(e)?(r(e)||e).toLowerCase():s.test(e)?i(e).toLowerCase():e.toLowerCase()}function r(e){return e.replace(u,function(e,t){return t?" "+t:""})}function i(e){return e.replace(l,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var o=/\s/,a=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/,u=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!==typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";function r(e){return"string"===typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){if(!1!==a)return a;if("undefined"!==typeof document){var e=document.createElement("div");(0,o.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else a=0;return a||0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(230),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=!1},function(e,t,n){"use strict";function r(){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return f.default.createElement("div",e)}function o(e){var t=e.style,n=r(e,["style"]),i=l({},t,{right:2,bottom:2,left:2,borderRadius:3});return f.default.createElement("div",l({style:i},n))}function a(e){var t=e.style,n=r(e,["style"]),i=l({},t,{right:2,bottom:2,top:2,borderRadius:3});return f.default.createElement("div",l({style:i},n))}function s(e){var t=e.style,n=r(e,["style"]),i=l({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return f.default.createElement("div",l({style:i},n))}function u(e){var t=e.style,n=r(e,["style"]),i=l({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return f.default.createElement("div",l({style:i},n))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=i,t.renderTrackHorizontalDefault=o,t.renderTrackVerticalDefault=a,t.renderThumbHorizontalDefault=s,t.renderThumbVerticalDefault=u;var c=n(2),f=function(e){return e&&e.__esModule?e:{default:e}}(c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(35),s=n.n(a),u=n(2),l=n.n(u),c=n(52),f=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){return{chip:{alingn:"center",color:"primary",type:"headline"}}},p=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={date:new Date},e}return o(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return l.a.createElement(s.a,{align:"center",color:"inherit",type:"title"},this.state.date.toLocaleString())}}]),t}(l.a.Component);t.a=Object(c.withStyles)(d)(p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n.n(a),u=n(3),l=n.n(u),c=n(52),f=(n.n(c),n(182)),d=n.n(f),p=n(35),h=n.n(p),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={avatar:{margin:10},column:{display:"flex"}},m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props;return s.a.createElement("div",{id:"user info container",className:e.column},s.a.createElement(d.a,{className:e.avatar,src:e.picture}),s.a.createElement(h.a,{type:"subheading"},e.email),s.a.createElement(h.a,{type:"subheading"},e.name))}}]),t}(s.a.Component);m.PropTypes={classes:l.a.object.isRequired},t.a=Object(c.withStyles)(y)(m)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n.n(a),u=n(569),l=(n.n(u),n(84)),c=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(90),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLocked:!1},n.handleClick=n.handleClick.bind(n),n.validatePin=n.validatePin.bind(n),n}return o(t,e),f(t,[{key:"handleClick",value:function(){var e=!this.state.isLocked;e?(this.setState({isLocked:e}),this.props.changeStatus(this.state.isLocked)):this.validatePin()&&(this.setState({isLocked:e}),this.props.changeStatus(this.state.isLocked))}},{key:"validatePin",value:function(){var e=document.getElementById("PIN").value;return console.log("InputPin is "+e),d.get("/pin").then(function(t){if(t.data.pin){var n=t.data.pin;if(e===n)return!0}else console.log(t)}).catch(function(e){console.log(e)}),!1}},{key:"render",value:function(){return this.state.isLocked?s.a.createElement("div",null,s.a.createElement(c.a,{type:"submit",className:"locked",onClick:this.handleClick}),s.a.createElement("input",{type:"password",id:"PIN",placeholder:"PIN",maxlength:"4"})):s.a.createElement("div",null,s.a.createElement(c.a,{type:"submit",className:"unlocked",onClick:this.handleClick}))}}]),t}(a.Component);t.a=p},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n.n(a),u=n(571),l=n.n(u),c=n(573),f=n.n(c),d=n(574),p=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(90),y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pin:""},n.handleSubmit=n.handleSubmit.bind(n),n.handleChange=n.handleChange.bind(n),n.handleFormSubmit=n.handleFormSubmit.bind(n),n}return o(t,e),h(t,[{key:"handleSubmit",value:function(e){console.log(this.state.pin),v.post("/pin",{pin:this.state.pin}).catch(function(e){console.log(e)}),console.log("handleSubmit called")}},{key:"handleFormSubmit",value:function(){this.props.changeLoginStatus(),this.handleSubmit(),console.log("handleFormSubmit called")}},{key:"handleChange",value:function(e){this.setState({pin:e.target.value})}},{key:"render",value:function(){var e=function(e){if(e.toString().trim().length>4)return s.a.createElement("span",{className:"error"},"The PIN exceeded 4 digits!")},t=function(e,t,n){console.log("The first PIN is: "+n.password[0].value),console.log("The second PIN is: "+n.repeatPassword[0].value);var r=n.password[0].value,i=n.repeatPassword[0].value;return isNaN(r)||isNaN(i)?s.a.createElement("span",{className:"error"},"Only digits allowed!"):r!==i?s.a.createElement("span",{className:"error"},"PINs are not equal!"):void 0};return s.a.createElement(l.a,null,s.a.createElement("h3",null,"Please come up with a 4-digit PIN"),s.a.createElement(f.a,{type:"password",name:"password",placeholder:"Password",validations:[e]}),s.a.createElement(f.a,{type:"password",name:"repeatPassword",placeholder:"Repeat password",onChange:this.handleChange,validations:[e,t]}),s.a.createElement(p.a,{onClick:this.handleFormSubmit},"Submit"))}}]),t}(s.a.Component);t.a=y},function(e,t,n){!function(t,r){e.exports=r(n(2),n(3),n(572))}(0,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=11)}([function(t,n){t.exports=e},function(e,n){e.exports=t},,,,,,function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,n,l;return n=t=function(t){function n(e,t){a(this,n);var r=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return l.call(r),r.state={byName:{},byId:{}},r}return u(n,t),y(n,[{key:"getChildContext",value:function(){var e=this;return{_register:this._register,_unregister:this._unregister,_setProps:this._setProps,_handleChange:this._handleChange,_handleBlur:this._handleBlur,_getProps:this._getProps,_errors:Object.keys(this.state.byId).filter(function(t){return e.state.byId[t].error})}}},{key:"render",value:function(){return f.a.createElement(e,Object.assign({},this.props,{validate:this.validate,validateAll:this.validateAll,getValues:this.getValues,showError:this.showError,hideError:this.hideError}))}}]),n}(c.PureComponent),t.displayName="Form("+e.name+")",t.propTypes={},t.childContextTypes={_register:p.a.func.isRequired,_unregister:p.a.func.isRequired,_setProps:p.a.func.isRequired,_handleChange:p.a.func.isRequired,_handleBlur:p.a.func.isRequired,_getProps:p.a.func.isRequired,_errors:p.a.array},l=function(){var e=this;this._register=function(t,n){e.setState(function(e){return{byName:Object.assign({},e.byName,i({},t.props.name,[].concat(o(e.byName[t.props.name]||[]),[n]))),byId:Object.assign({},e.byId,i({},n,Object.assign({},t.props,{isCheckable:m(t),value:t.props.value||""},m(t)?{checked:!!t.props.checked}:{})))}},e._setErrors)},this._unregister=function(t,n){var r=[].concat(o(e.state.byName[t.props.name]));r.splice(r.indexOf(n),1);var a=r.length?Object.assign({},e.state.byName,i({},t.props.name,r)):v()(e.state.byName,t.props.name);e.setState({byName:a,byId:v()(e.state.byId,n)})},this._getProps=function(t){if(e.state.byId[t]){var n=e.state.byId[t];return n.validations,n.isCheckable,r(n,["validations","isCheckable"])}},this._setProps=function(t,n){e.setState(function(e){return{byId:Object.assign({},e.byId,i({},n,Object.assign({},e.byId[n],t)))}},e._setErrors)},this._handleChange=function(t,n){var r=e.state.byId[n].isCheckable;e.setState({byId:Object.assign({},e.state.byId,r?Object.assign({},e.state.byName[e.state.byId[n].name].reduce(function(t,n){return t[n]=Object.assign({},e.state.byId[n],{checked:!1}),t},{})):{},i({},n,Object.assign({},e.state.byId[n],{isChanged:!0,value:t.target.value},r&&{checked:t.target.checked})))},e._setErrors)},this._handleBlur=function(t,n){e.setState({byId:Object.assign({},e.state.byId,i({},n,Object.assign({},e.state.byId[n],{isUsed:!0,value:t.target.value})))},e._setErrors)},this._setErrors=function(){e.setState(function(e){return{byId:Object.keys(e.byId).reduce(function(t,n){var r=e.byId[n].validations,i=e.byId[n],o=Object.keys(e.byName).reduce(function(t,n){return t[n]=e.byName[n].map(function(t){return e.byId[t]}),t},{}),a=i.value;t[n]=Object.assign({},e.byId[n]);var s=!0,u=!1,l=void 0;try{for(var c,f=r[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var d=c.value,p=d(a,i,o);if(p){t[n].error=p;break}delete t[n].error}}catch(e){u=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}return t},{})}})},this.getValues=function(){return Object.keys(e.state.byName).reduce(function(t,n){return e.state.byName[n].length>1?t[n]=e.state.byName[n].map(function(t){return e.state.byId[t].value}):t[n]=e.state.byId[e.state.byName[n][0]].value,t},{})},this.validate=function(t){e.setState(function(e){return{byId:Object.assign({},e.byId,e.byName[t].reduce(function(t,n){return t[n]=Object.assign({},e.byId[n],{isChanged:!0,isUsed:!0}),t},{}))}},e._setErrors)},this.validateAll=function(){e.setState(function(e){return{byId:Object.assign({},e.byId,Object.keys(e.byName).reduce(function(t,n){return e.byName[n].reduce(function(n,r){return t[r]=Object.assign({},e.byId[r],{isChanged:!0,isUsed:!0}),n},{}),t},{}))}},e._setErrors)},this.showError=function(t,n){t&&setTimeout(function(){e.setState({byId:Object.assign({},e.state.byId,i({},t.id,Object.assign({},e.state.byId[t.id],{isChanged:!0,isUsed:!0,error:n})))})},0)},this.hideError=function(t){e.setState(function(e){return{byId:Object.assign({},e.byId,i({},t.id,Object.assign({},v()(e.byId[t.id],"error"),{isChanged:!1,isUsed:!1})))}})}},n}t.a=l;var c=n(0),f=n.n(c),d=n(1),p=n.n(d),h=n(8),v=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){return"radio"===e.props.type||"checkbox"===e.props.type}},function(e,t){e.exports=n},,,function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n.n(s),l=n(1),c=n.n(l),f=n(7),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=(e.getValues,e.validate,e.validateAll,e.showError,e.hideError,r(e,["getValues","validate","validateAll","showError","hideError"]));return u.a.createElement("form",t)}}]),t}(s.Component);p.propTypes={getValues:c.a.func.isRequired,validate:c.a.func.isRequired,validateAll:c.a.func.isRequired,showError:c.a.func.isRequired,hideError:c.a.func.isRequired},t.default=Object(f.a)(p)}])})},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){return!!(e?e.length:0)&&u(e,t,0)>-1}function i(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function o(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function s(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function u(e,t,n){if(t!==t)return s(e,l,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function l(e){return e!==e}function c(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function f(e){return function(t){return e(t)}}function d(e,t){return e.has(t)}function p(e,t){return null==e?void 0:e[t]}function h(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function v(e,t){return function(n){return e(t(n))}}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=Ve?Ve(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function b(e){var t=this.__data__;if(Ve){var n=t[e];return n===ve?void 0:n}return Ne.call(t,e)?t[e]:void 0}function _(e){var t=this.__data__;return Ve?void 0!==t[e]:Ne.call(t,e)}function w(e,t){return this.__data__[e]=Ve&&void 0===t?ve:t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(){this.__data__=[]}function C(e){var t=this.__data__,n=L(t,e);return!(n<0)&&(n==t.length-1?t.pop():Be.call(t,n,1),!0)}function E(e){var t=this.__data__,n=L(t,e);return n<0?void 0:t[n][1]}function S(e){return L(this.__data__,e)>-1}function T(e,t){var n=this.__data__,r=L(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(){this.__data__={hash:new y,map:new(We||k),string:new y}}function M(e){return G(this,e).delete(e)}function j(e){return G(this,e).get(e)}function R(e){return G(this,e).has(e)}function A(e,t){return G(this,e).set(e,t),this}function N(e){var t=-1,n=e?e.length:0;for(this.__data__=new O;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,ve),this}function D(e){return this.__data__.has(e)}function F(e,t){var n=$e(e)||ie(e)?c(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Ne.call(e,o)||i&&("length"==o||X(o,r))||n.push(o);return n}function L(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1}function U(e,t,n,a){var s=-1,u=r,l=!0,c=e.length,p=[],h=t.length;if(!c)return p;n&&(t=o(t,f(n))),a?(u=i,l=!1):t.length>=he&&(u=d,l=!1,t=new N(t));e:for(;++s<c;){var v=e[s],y=n?n(v):v;if(v=a||0!==v?v:0,l&&y===y){for(var m=h;m--;)if(t[m]===y)continue e;p.push(v)}else u(t,y,a)||p.push(v)}return p}function B(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Y),i||(i=[]);++o<s;){var u=e[o];t>0&&n(u)?t>1?B(u,t-1,n,r,i):a(i,u):r||(i[i.length]=u)}return i}function H(e,t,n){var r=t(e);return $e(e)?r:a(r,n(e))}function z(e){return!(!le(e)||Q(e))&&(se(e)||h(e)?De:xe).test(ne(e))}function q(e){if(!le(e))return ee(e);var t=Z(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}function W(e,t){return e=Object(e),V(e,t,function(t,n){return n in e})}function V(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}function K(e){return H(e,de,Ge)}function G(e,t){var n=e.__data__;return J(t)?n["string"==typeof t?"string":"hash"]:n.map}function $(e,t){var n=p(e,t);return z(n)?n:void 0}function Y(e){return $e(e)||ie(e)||!!(He&&e&&e[He])}function X(e,t){return!!(t=null==t?me:t)&&("number"==typeof e||Ce.test(e))&&e>-1&&e%1==0&&e<t}function J(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Q(e){return!!Re&&Re in e}function Z(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function ee(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function te(e){if("string"==typeof e||fe(e))return e;var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function ne(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function re(e,t){return e===t||e!==e&&t!==t}function ie(e){return ae(e)&&Ne.call(e,"callee")&&(!Ue.call(e,"callee")||Ie.call(e)==ge)}function oe(e){return null!=e&&ue(e.length)&&!se(e)}function ae(e){return ce(e)&&oe(e)}function se(e){var t=le(e)?Ie.call(e):"";return t==be||t==_e}function ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=me}function le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ce(e){return!!e&&"object"==typeof e}function fe(e){return"symbol"==typeof e||ce(e)&&Ie.call(e)==we}function de(e){return oe(e)?F(e,!0):q(e)}function pe(){return[]}var he=200,ve="__lodash_hash_undefined__",ye=1/0,me=9007199254740991,ge="[object Arguments]",be="[object Function]",_e="[object GeneratorFunction]",we="[object Symbol]",ke=/[\\^$.*+?()[\]{}|]/g,xe=/^\[object .+?Constructor\]$/,Ce=/^(?:0|[1-9]\d*)$/,Ee="object"==typeof t&&t&&t.Object===Object&&t,Se="object"==typeof self&&self&&self.Object===Object&&self,Te=Ee||Se||Function("return this")(),Oe=Array.prototype,Pe=Function.prototype,Me=Object.prototype,je=Te["__core-js_shared__"],Re=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ae=Pe.toString,Ne=Me.hasOwnProperty,Ie=Me.toString,De=RegExp("^"+Ae.call(Ne).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=Te.Symbol,Le=v(Object.getPrototypeOf,Object),Ue=Me.propertyIsEnumerable,Be=Oe.splice,He=Fe?Fe.isConcatSpreadable:void 0,ze=Object.getOwnPropertySymbols,qe=Math.max,We=$(Te,"Map"),Ve=$(Object,"create");y.prototype.clear=m,y.prototype.delete=g,y.prototype.get=b,y.prototype.has=_,y.prototype.set=w,k.prototype.clear=x,k.prototype.delete=C,k.prototype.get=E,k.prototype.has=S,k.prototype.set=T,O.prototype.clear=P,O.prototype.delete=M,O.prototype.get=j,O.prototype.has=R,O.prototype.set=A,N.prototype.add=N.prototype.push=I,N.prototype.has=D;var Ke=ze?v(ze,Object):pe,Ge=ze?function(e){for(var t=[];e;)a(t,Ke(e)),e=Le(e);return t}:pe,$e=Array.isArray,Ye=function(e,t){return t=qe(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=qe(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}(function(e,t){return null==e?{}:(t=o(B(t,1),te),W(e,U(K(e),t)))});e.exports=Ye}).call(t,n(18))},function(e,t,n){!function(t,r){e.exports=r(n(2),n(3),n(198))}(0,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=12)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t,n;return n=t=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){var t=this.context._getProps(this.id);return t?u.a.createElement(e,Object.assign({},t,{onChange:this.handleChange,onBlur:this.handleBlur})):null}}]),n}(l.a),t.displayName="Control("+e.name+")",n}t.a=a;var s=n(0),u=n.n(s),l=n(3),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=(n.n(s),n(1)),l=n.n(u),c=n(4),f=n.n(c),d=n(5),p=n.n(d),h=n(6),v=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=v()(),r.handleChange=function(e){e.persist(),r.context._handleChange(e,r.id),r.props.onChange&&r.props.onChange(e)},r.handleBlur=function(e){e.persist(),r.context._handleBlur(e,r.id),r.props.onBlur&&r.props.onBlur(e)},a=n,o(r,a)}return a(t,e),y(t,[{key:"componentDidMount",value:function(){this.context._register(this,this.id)}},{key:"componentWillUnmount",value:function(){this.context._unregister(this,this.id)}},{key:"componentWillReceiveProps",value:function(e){var t=e.validations,n=r(e,["validations"]),i=this.props,o=i.validations,a=r(i,["validations"]);p()(a,n)&&f()(o,t)||this.context._setProps(n,this.id)}},{key:"shouldComponentUpdate",value:function(e,t,n){return n!==this.context}},{key:"render",value:function(){return null}}]),t}(s.Component);m.contextTypes={_register:l.a.func.isRequired,_unregister:l.a.func.isRequired,_setProps:l.a.func.isRequired,_handleChange:l.a.func.isRequired,_handleBlur:l.a.func.isRequired,_getProps:l.a.func.isRequired},m.propTypes={validations:l.a.arrayOf(l.a.func),onChange:l.a.func,onBlur:l.a.func},m.defaultProps={validations:[]},t.a=m},function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a])return!1}return!0}},function(e,t){e.exports=n},,,,,,function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(2),l=function(e){var t=e.error,n=e.isChanged,i=e.isUsed,a=r(e,["error","isChanged","isUsed"]);return o.a.createElement("div",null,o.a.createElement("input",Object.assign({},a,n&&i&&t?{className:"is-invalid-input "+a.className}:{className:a.className})),n&&i&&t)};l.propTypes={error:s.a.oneOfType([s.a.node,s.a.string])},t.default=Object(u.a)(l)}])})},function(e,t,n){!function(t,r){e.exports=r(n(2),n(3))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=15)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},15:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(9),l=function(e){var t=e.hasErrors,n=r(e,["hasErrors"]);return o.a.createElement("button",Object.assign({},n,{disabled:t}))};l.contextTypes={hasErrors:s.a.bool},t.default=Object(u.a)(l)},9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t,n;return n=t=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),f(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return n._errors!==this.context._errors}},{key:"render",value:function(){var t=!!Object.keys(this.context._errors).length;return u.a.createElement(e,Object.assign({},this.props,{hasErrors:t}))}}]),n}(s.Component),t.contextTypes={_errors:c.a.arrayOf(c.a.oneOfType([c.a.object,c.a.string]))},t.displayName="Button("+e.name+")",n}t.a=a;var s=n(0),u=n.n(s),l=n(1),c=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}})})},function(e,t){},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";a?o(e):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.c12c129f.js.map